(()=>{var e={501:function(e){e.exports=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,n){return l=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i},l.apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,s(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)},u(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function f(e){var t=c();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function v(e,t,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},v(e,t,n||e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e,t,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{"+":{x:r+o,y:i+s},"-":{x:r-o,y:i-s},"*":{x:r*o,y:i*s},"/":{x:r/o,y:i/s}}[t]},y=function(e){return{x:e.left,y:e.top}},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{left:e.x,top:e.y,right:e.x,bottom:e.y,width:t,height:t}},D=function(){var e,t,n,r;return{y:(null===(e=document.body)||void 0===e?void 0:e.scrollTop)||(null===(t=document.documentElement)||void 0===t?void 0:t.scrollTop)||0,x:(null===(n=document.body)||void 0===n?void 0:n.scrollLeft)||(null===(r=document.documentElement)||void 0===r?void 0:r.scrollLeft)||0}},w=function(e){return!e||e instanceof Document?D():{x:e.scrollLeft>=0?e.scrollLeft:D().x,y:e.scrollTop>=0?e.scrollTop:D().y}},P=function(e){var t=e.elementRect,n=e.containerRect,r=e.tolerance,i=void 0===r?{x:0,y:0}:r,o=[];return t.top-i.y<n.top&&o.push("top"),t.left-i.x<n.left&&o.push("left"),t.bottom+i.y>n.bottom&&o.push("bottom"),t.right+i.y>n.right&&o.push("right"),o},k=function(e){var t={x:0,y:0},n=window.getComputedStyle(e);if(!n.transform||"none"===n.transform)return t;if(n.transform.indexOf("3d")>=0){var r=n.transform.trim().match(/matrix3d\((.*?)\)/);if(r&&r.length){var i,o=null===(i=r[1])||void 0===i?void 0:i.split(",");t.x=parseInt(o[12])||0,t.y=parseInt(o[13])||0}return t}var s=n.transform.trim().match(/matrix\((.*?)\)/);if(s&&s.length){var a,c=null===(a=s[1])||void 0===a?void 0:a.split(",");t.x=parseInt(c[4])||0,t.y=parseInt(c[5])||0}return t},x=function(e,t){return t?function(e){var t=e.style.transform;if(!t||t.indexOf("translate")<0)return k(e);var n={x:0,y:0},r=t.trim().match(/translate[3dD]*?\(.*?\)/);if(r){var i,o=null===(i=r[0])||void 0===i?void 0:i.split("(");if(o){var s,a=null===(s=o[1])||void 0===s?void 0:s.split(",");n.x=parseInt(a[0])||0,n.y=parseInt(a[1])||0}}return n.x||n.x?n:k(e)}(e):function(e){var t=e.style,n={x:parseInt(t.left)||0,y:parseInt(t.top)||0};if(!n.x&&!n.x){var r=window.getComputedStyle(e);return{x:parseInt(r.left)||0,y:parseInt(r.top)||0}}return n}(e)},E=function(e){var t=e.computedStyle,n=e.node,r=t.position;n instanceof HTMLDocument||"absolute"===r||"relative"===r||"fixed"===r||(n.style.position="relative")},A=function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top},I=function(e){var t=e.element,n=e.posDirection,r=e.containerRect,i=e.useTransform,o=x(t,i),s=b(o,"+",n);L(t,s,i);var a=t.getBoundingClientRect();!function(e){var t=e.element,n=e.edges,r=e.elementRect,i=e.containerRect,o=e.elementPos,s=e.useTransform;n.includes("top")&&L(t,{y:o.y+i.top-r.top,x:o.x},s),n.includes("left")&&L(t,{y:o.y,x:o.x+i.left-r.left},s),n.includes("bottom")&&L(t,{y:o.y+i.bottom-r.bottom,x:o.x},s),n.includes("right")&&L(t,{y:o.y,x:o.x+i.right-r.right},s)}({element:t,edges:P({elementRect:a,containerRect:r}),elementRect:a,containerRect:r,elementPos:s,useTransform:i})},L=function(e,t,n){if(n){var r=e.style.transform;e.style.transform="translate3d(".concat(t.x,"px,").concat(t.y,"px,1px) ").concat(r.replace(/translate.*?\)/g,""))}else e.style.left="".concat(t.x,"px"),e.style.top="".concat(t.y,"px");return e},C=function(e){for(var t=e.subscribe,n=e.publish,o=e.Interaction,s=e.SelectedSet,a=function(){var e=p(l[c],2),a=e[0],u=e[1];["pre",!1].forEach((function(e){return t(e?"".concat(a,":").concat(e):a,(function(t){return u.forEach((function(a){return(!a.condition||a.condition(t))&&n(e?"".concat(e).concat(a.name):a.name,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({items:s.elements,isDragging:o.isDragging},t))}))}))}))},c=0,l=Object.entries({"Selected:added":[{name:"elementselect"}],"Selected:removed":[{name:"elementunselect"}],"Area:scroll":[{name:"autoscroll"}],"Interaction:start":[{name:"dragstart"}],"Interaction:update":[{name:"dragmove",condition:function(e){return e.event}}],"Interaction:end":[{name:"callback"}]});c<l.length;c++)a()},T=function(e){return e?!Array.isArray(e)&&(e instanceof HTMLElement||e instanceof SVGElement)?[e]:S(e):[]},V=function(e,t){e.style.left="".concat(t.left,"px"),e.style.top="".concat(t.top,"px"),e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px")},M=function(){function t(n){var i,o,s,a=this,c=n.area,l=n.PS,u=n.zoom;e(this,t),r(this,"_modificationCallback",void 0),r(this,"_modificationObserver",void 0),r(this,"_zoom",void 0),r(this,"_node",void 0),r(this,"_parentNodes",void 0),r(this,"_computedStyle",void 0),r(this,"_computedBorder",void 0),r(this,"_rect",void 0),r(this,"setArea",(function(e){a._node=e,E({computedStyle:a.computedStyle,node:a._node}),setTimeout((function(){a.PubSub.publish("Area:modified:pre",{item:a}),a.reset(),a.PubSub.publish("Area:modified",{item:a})}))})),r(this,"start",(function(){var e,t,n;e=a.parentNodes,t=a._modificationCallback,n=a._modificationObserver,window.addEventListener("resize",t),window.addEventListener("scroll",t),e.forEach((function(e,t){n.observe(e,{childList:0!==t,attributes:!0})}))})),r(this,"reset",(function(){a._computedStyle=void 0,a._rect=void 0,a._computedBorder=void 0,a._parentNodes=void 0})),r(this,"stop",(function(){var e,t;e=a._modificationObserver,t=a._modificationCallback,window.removeEventListener("resize",t),window.removeEventListener("scroll",t),e.disconnect(),a.reset()})),r(this,"scroll",(function(e,t){var n={scroll_directions:e,scroll_multiplier:t};a.PubSub.publish("Area:scroll:pre",n),function(e,t,n){if(t.length){var r=document&&document.documentElement&&document.documentElement.scrollTop&&document.documentElement,i=e instanceof HTMLDocument?r||document.body:e,o=t.includes("top")&&i.scrollTop>0,s=t.includes("bottom")&&i.scrollTop<i.scrollHeight,a=t.includes("left")&&i.scrollLeft>0,c=t.includes("right")&&i.scrollLeft<i.scrollWidth;o&&(i.scrollTop-=1*n),s&&(i.scrollTop+=1*n),a&&(i.scrollLeft-=1*n),c&&(i.scrollLeft+=1*n)}}(a._node,e,t),a.PubSub.publish("Area:scroll",n)})),this._zoom=u,this.PubSub=l,this.setArea(c),this._modificationCallback=(i=function(e){a.PubSub.publish("Area:modified:pre",{event:e,item:a}),a.reset(),a.PubSub.publish("Area:modified",{event:e,item:a})},o=60,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(){s=null,i.apply(void 0,t)};clearTimeout(s),s=setTimeout(r,o)}),this._modificationObserver=new MutationObserver(this._modificationCallback),this.PubSub.subscribe("Interaction:init",this.start),this.PubSub.subscribe("Interaction:end",this.reset)}return n(t,[{key:"HTMLNode",get:function(){return this._node}},{key:"computedBorder",get:function(){return this._computedBorder?this._computedBorder:{top:parseInt(this.computedStyle.borderTopWidth),bottom:parseInt(this.computedStyle.borderBottomWidth),left:parseInt(this.computedStyle.borderLeftWidth),right:parseInt(this.computedStyle.borderRightWidth)}}},{key:"computedStyle",get:function(){return this._computedStyle?this._computedStyle:this.HTMLNode instanceof HTMLDocument?this._computedStyle=window.getComputedStyle(this.HTMLNode.body||this.HTMLNode.documentElement):this._computedStyle=window.getComputedStyle(this.HTMLNode)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=function(e,t){if(e instanceof Document)return{top:0,left:0,bottom:0,right:0,width:window.innerWidth,height:window.innerHeight};var n=e.getBoundingClientRect();return{top:n.top,left:n.left,bottom:n.bottom,right:n.right,width:(e.clientWidth||n.width)*t,height:(e.clientHeight||n.height)*t}}(this.HTMLNode,this._zoom)}},{key:"parentNodes",get:function(){if(this._parentNodes)return this._parentNodes;return this._parentNodes=function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=null===(n=t[r])||void 0===n?void 0:n.parentNode;return i?(t.push(i),e(t,++r)):t}([this.HTMLNode]),this._parentNodes}}]),t}(),N=function(){function t(n){var i=this,o=n.DS,s=n.dragKeys,a=n.draggability,c=n.keyboardDrag,l=n.keyboardDragSpeed,u=n.useTransform,d=n.zoom;e(this,t),r(this,"_useTransform",void 0),r(this,"_prevCursorPos",void 0),r(this,"_prevScrollPos",void 0),r(this,"_elements",[]),r(this,"_draggability",void 0),r(this,"_dragKeys",void 0),r(this,"_dragKeysFlat",void 0),r(this,"_keyboardDrag",void 0),r(this,"_keyboardDragSpeed",void 0),r(this,"_zoom",void 0),r(this,"keyboardDrag",(function(e){var t=e.event,n=e.key;if(i._keyboardDrag&&i._dragKeysFlat.includes(n)&&i.DS.SelectedSet.size&&i._draggability&&!i.DS.continue){var r={event:t,isDragging:!0,isDraggingKeyboard:!0};i.DS.publish(["Interaction:start:pre","Interaction:start"],r),i._elements=i.DS.getSelection(),i.handleZIndex(!0);var o=function(e){var t=e.shiftKey,n=e.keyboardDragSpeed,r=e.zoom,i=e.key,o=e.dragKeys,s=e.scrollDiff,a=e.canScroll,c=e.scrollCallback,l={x:0,y:0},u=t?4*n*r:n*r;return o.left.includes(i)&&(l.x=s.x||-u,t||s.x||!a||c(["left"],n)),o.right.includes(i)&&(l.x=s.x||u,t||s.x||!a||c(["right"],n)),o.up.includes(i)&&(l.y=s.y||-u,t||s.y||!a||c(["top"],n)),o.down.includes(i)&&(l.y=s.y||u,t||s.y||!a||c(["bottom"],n)),l}({shiftKey:i.DS.stores.KeyStore.currentValues.includes("shift"),keyboardDragSpeed:i._keyboardDragSpeed,zoom:i._zoom,key:n,scrollCallback:i.DS.Area.scroll,scrollDiff:i._scrollDiff,canScroll:i.DS.stores.ScrollStore.canScroll,dragKeys:i._dragKeys});i._elements.forEach((function(e){return I({element:e,posDirection:o,containerRect:i.DS.SelectorArea.rect,useTransform:i._useTransform})})),i.DS.publish(["Interaction:update:pre","Interaction:update"],r)}})),r(this,"keyboardEnd",(function(e){var t=e.event,n=e.key;if(i._keyboardDrag&&i._dragKeysFlat.includes(n)&&i.DS.SelectedSet.size&&i._draggability){var r={event:t,isDragging:i._draggability,isDraggingKeyboard:!0};i.DS.publish(["Interaction:end:pre","Interaction:end"],r)}})),r(this,"start",(function(e){var t=e.isDragging,n=e.isDraggingKeyboard;t&&!n&&(i._prevCursorPos=null,i._prevScrollPos=null,i._elements=i.DS.getSelection(),i.handleZIndex(!0))})),r(this,"stop",(function(e){null!=e&&e.isKeyboard||(i._prevCursorPos=null,i._prevScrollPos=null,i.handleZIndex(!1),i._elements=[])})),r(this,"update",(function(e){var t=e.isDragging,n=e.isDraggingKeyboard;if(t&&i._elements.length&&!n&&!i.DS.continue){var r=b(i._cursorDiff,"+",i._scrollDiff);i._elements.forEach((function(e){return I({element:e,posDirection:r,containerRect:i.DS.SelectorArea.rect,useTransform:i._useTransform})}))}})),r(this,"handleZIndex",(function(e){i._elements.forEach((function(t){return t.style.zIndex="".concat((parseInt(t.style.zIndex)||0)+e?9999:-9998)}))})),this.DS=o,this._useTransform=u,this._keyboardDragSpeed=l,this._keyboardDrag=c,this._zoom=d,this._draggability=a,this._dragKeys={up:s.up.map((function(e){return e.toLowerCase()})),down:s.down.map((function(e){return e.toLowerCase()})),left:s.left.map((function(e){return e.toLowerCase()})),right:s.right.map((function(e){return e.toLowerCase()}))},this._dragKeysFlat=[].concat(S(this._dragKeys.up),S(this._dragKeys.down),S(this._dragKeys.left),S(this._dragKeys.right)),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:end",this.stop),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("KeyStore:down",this.keyboardDrag),this.DS.subscribe("KeyStore:up",this.keyboardEnd)}return n(t,[{key:"_cursorDiff",get:function(){var e=this.DS.stores.PointerStore.currentVal,t=this._prevCursorPos?b(e,"-",this._prevCursorPos):{x:0,y:0};return this._prevCursorPos=e,t}},{key:"_scrollDiff",get:function(){var e=this.DS.stores.ScrollStore.currentVal,t=this._prevScrollPos?b(e,"-",this._prevScrollPos):{x:0,y:0};return this._prevScrollPos=e,t}}]),t}(),K=function(){function t(n){var i=this,o=n.areaElement,s=n.DS,a=n.draggability,c=n.immediateDrag;e(this,t),r(this,"_areaElement",void 0),r(this,"_draggability",void 0),r(this,"_immediateDrag",void 0),r(this,"isInteracting",void 0),r(this,"isDragging",void 0),r(this,"init",(function(){return i.DS.publish("Interaction:init:pre",{})})),r(this,"_init",(function(){i.stop(),i._areaElement.addEventListener("mousedown",i.start),i._areaElement.addEventListener("touchstart",i.start,{passive:!1}),i.DS.publish("Interaction:init",{})})),r(this,"start",(function(e){return i.DS.publish("Interaction:start:pre",{event:e,isDragging:i.isDragging})})),r(this,"_start",(function(e){"touchstart"===e.type&&e.preventDefault(),i._canInteract(e)&&(i.isInteracting=!0,i.isDragging=i.isDragEvent(e),i.DS.publish("Interaction:start",{event:e,isDragging:i.isDragging}),document.addEventListener("mouseup",i.reset),document.addEventListener("touchend",i.reset))})),r(this,"isDragEvent",(function(e){return!(!i._draggability||i.DS.stores.KeyStore.isMultiSelectKeyPressed(e)||!i.DS.SelectableSet.has(e.target)||(i._immediateDrag&&(i.DS.SelectedSet.size?i.DS.SelectedSet.has(e.target)||(i.DS.SelectedSet.clear(),i.DS.SelectedSet.add(e.target)):i.DS.SelectedSet.add(e.target)),!i.DS.SelectedSet.has(e.target)))})),r(this,"onClick",(function(e){var t=e.event;if(i._canInteract(t)&&!(t.detail>0)){var n=i.DS,r=n.stores,o=r.PointerStore,s=r.KeyStore,a=n.SelectableSet,c=n.SelectedSet;o.start(t);var l=t.target;a.has(l)&&(s.isMultiSelectKeyPressed(t)||c.clear(),c.toggle(l),i.reset())}})),r(this,"stop",(function(){i.isInteracting=!1,i.isDragging=!1,i._areaElement.removeEventListener("mousedown",i.start),i._areaElement.removeEventListener("touchstart",i.start,{passive:!1}),document.removeEventListener("mouseup",i.reset),document.removeEventListener("touchend",i.reset)})),r(this,"update",(function(e){var t=e.event,n=e.scroll_directions,r=e.scroll_multiplier;i.isInteracting&&i.DS.publish(["Interaction:update:pre","Interaction:update"],{event:t,scroll_directions:n,scroll_multiplier:r,isDragging:i.isDragging})})),r(this,"reset",(function(e){return i.DS.publish("Interaction:end:pre",{event:e,isDragging:i.isDragging})})),r(this,"_reset",(function(e){var t=i.isDragging;i.stop(),i.init(),i.DS.publish("Interaction:end",{event:e,isDragging:t})})),this._areaElement=o,this._draggability=a,this._immediateDrag=c,this.DS=s,this.DS.subscribe("PointerStore:updated",this.update),this.DS.subscribe("Selectable:click",this.onClick),this.DS.subscribe("Selectable:pointer",(function(e){var t=e.event;return i.start(t)})),this.DS.subscribe("Interaction:start:pre",(function(e){var t=e.event;return i._start(t)})),this.DS.subscribe("Interaction:init:pre",this._init),this.DS.subscribe("Interaction:end:pre",(function(e){var t=e.event;return i._reset(t)})),this.DS.subscribe("Area:scroll",this.update)}return n(t,[{key:"_canInteract",value:function(e){var t=0===e.clientX&&0===e.clientY&&0===e.detail&&e.target;return!(2===e.button||this.isInteracting||e.target&&!this.DS.SelectorArea.isInside(e.target)||!t&&!this.DS.SelectorArea.isClicked(e))}}]),t}(),O=function t(n){var i=this,o=n.DS;e(this,t),r(this,"subscribers",{}),r(this,"subscribe",(function(e,t){return Array.isArray(i.subscribers[e])||(i.subscribers[e]=[]),i.subscribers[e].push(t),i.subscribers[e].length-1})),r(this,"unsubscribe",(function(e,t,n){n>=0?i.subscribers[e].splice(n,1):t&&(i.subscribers[e]=i.subscribers[e].filter((function(e){return e!==t})))})),r(this,"publish",(function(e,t){Array.isArray(e)?e.forEach((function(e){return i._publish(e,t)})):i._publish(e,t)})),r(this,"_publish",(function(e,t){var n=i.subscribers[e];Array.isArray(n)&&(e.includes(":pre")?i._handlePrePublish(n,t):i._handlePublish(n,t))})),r(this,"_handlePublish",(function(e,t){for(var n=0,r=e.length;n<r;n++){if(i.DS.stopped)return;e[n](t)}})),r(this,"_handlePrePublish",(function(e,t){for(var n=e.length;n--;){if(i.DS.stopped)return;e[n](t)}})),this.DS=o},j=function(t){o(a,t);var i=f(a);function a(t){var n,o=t.elements,s=t.className,c=t.hoverClassName,l=t.draggability,u=t.useTransform,h=t.DS;return e(this,a),r(d(n=i.call(this)),"_initElements",void 0),r(d(n),"_className",void 0),r(d(n),"_hoverClassName",void 0),r(d(n),"_useTransform",void 0),r(d(n),"_draggability",void 0),r(d(n),"init",(function(){return n._initElements.forEach((function(e){return n.add(e)}))})),r(d(n),"clear",(function(){return n.forEach((function(e){return n.delete(e)}))})),r(d(n),"_onClick",(function(e){return n.DS.publish(["Selectable:click:pre","Selectable:click"],{event:e})})),r(d(n),"_onPointer",(function(e){return n.DS.publish(["Selectable:pointer:pre","Selectable:pointer"],{event:e})})),r(d(n),"addAll",(function(e){return e.forEach((function(e){return n.add(e)}))})),r(d(n),"deleteAll",(function(e){return e.forEach((function(e){return n.delete(e)}))})),n.DS=h,n._initElements=T(o),n._className=s,n._hoverClassName=c,n._useTransform=u,n._draggability=l,n.DS.subscribe("Interaction:init",n.init),n}return n(a,[{key:"add",value:function(e){return e.classList.add(this._className),e.addEventListener("click",this._onClick),e.addEventListener("mousedown",this._onPointer),e.addEventListener("touchstart",this._onPointer,{passive:!1}),this._draggability&&!this._useTransform&&E({computedStyle:window.getComputedStyle(e),node:e}),v(s(a.prototype),"add",this).call(this,e)}},{key:"delete",value:function(e){return e.classList.remove(this._className),e.classList.remove(this._hoverClassName),e.removeEventListener("click",this._onClick),e.removeEventListener("mousedown",this._onPointer),e.removeEventListener("touchstart",this._onPointer,{passive:!1}),v(s(a.prototype),"delete",this).call(this,e)}},{key:"elements",get:function(){return Array.from(this.values())}}]),a}(u(Set)),H=function(t){o(a,t);var i=f(a);function a(t){var n,o=t.className,s=t.DS;return e(this,a),r(d(n=i.call(this)),"_className",void 0),r(d(n),"clear",(function(){return n.forEach((function(e){return n.delete(e)}))})),r(d(n),"addAll",(function(e){return e.forEach((function(e){return n.add(e)}))})),r(d(n),"deleteAll",(function(e){return e.forEach((function(e){return n.delete(e)}))})),n.DS=s,n._className=o,n}return n(a,[{key:"add",value:function(e){if(!v(s(a.prototype),"has",this).call(this,e)){var t={items:this.elements,item:e};return this.DS.publish("Selected:added:pre",t),v(s(a.prototype),"add",this).call(this,e),e.classList.add(this._className),e.style.zIndex="".concat((parseInt(e.style.zIndex)||0)+1),this.DS.publish("Selected:added",t),this}}},{key:"delete",value:function(e){if(v(s(a.prototype),"has",this).call(this,e)){var t={items:this.elements,item:e};this.DS.publish("Selected:removed:pre",t);var n=v(s(a.prototype),"delete",this).call(this,e);return e.classList.remove(this._className),e.style.zIndex="".concat((parseInt(e.style.zIndex)||0)-1),this.DS.publish("Selected:removed",t),n}}},{key:"toggle",value:function(e){return this.has(e)?this.delete(e):this.add(e),e}},{key:"elements",get:function(){return Array.from(this.values())}}]),a}(u(Set)),z=function(){function t(n){var i=this,o=n.DS,s=n.hoverClassName,a=n.multiSelectToggling;e(this,t),r(this,"_prevSelectedSet",void 0),r(this,"_hoverClassName",void 0),r(this,"_multiSelectToggling",void 0),r(this,"start",(function(e){var t=e.event;e.isDragging||(i._storePrevious(t),i._handleInsideSelection(!0,t))})),r(this,"update",(function(e){e.isDragging||i.DS.continue||i._handleInsideSelection()})),r(this,"_handleInsideSelection",(function(e,t){for(var n=i.DS,r=n.SelectableSet,o=n.SelectorArea,s=n.Selector,a=r.elements.map((function(e){return[e,e.getBoundingClientRect()]})),c=[],l=[],u=0,d=a.length;u<d;u++)o.isInside(a[u][0],a[u][1])&&(A(a[u][1],s.rect)?c.push(a[u][0]):l.push(a[u][0]));var h=i.DS.stores.KeyStore.isMultiSelectKeyPressed(t)&&i._multiSelectToggling;i.DS.continue||(c.forEach((function(t){return function(e){var t=e.element,n=e.force,r=e.multiSelectionToggle,i=e.SelectedSet,o=e.hoverClassName;t.classList.contains(o)&&!n||(i.has(t)?r&&i.delete(t):i.add(t),t.classList.add(o))}({element:t,force:e,multiSelectionToggle:h,SelectedSet:i.DS.SelectedSet,hoverClassName:i._hoverClassName})})),l.forEach((function(t){return function(e){var t=e.element,n=e.force,r=e.SelectedSet,i=e.PrevSelectedSet,o=e.hoverClassName;if(!t.classList.contains(o)&&!n)return!1;var s=r.has(t),a=i.has(t);s&&!a?r.delete(t):!s&&a&&r.add(t),t.classList.remove(o)}({element:t,force:e,SelectedSet:i.DS.SelectedSet,hoverClassName:i._hoverClassName,PrevSelectedSet:i._prevSelectedSet})})))})),this._hoverClassName=s,this._multiSelectToggling=a,this.DS=o,this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update)}return n(t,[{key:"_storePrevious",value:function(e){var t=this.DS,n=t.stores.KeyStore,r=t.SelectedSet;n.isMultiSelectKeyPressed(e)?this._prevSelectedSet=new Set(r):this._prevSelectedSet=new Set}}]),t}(),R=function(){function t(n){var i=this,o=n.DS,s=n.selector,a=n.selectorClass,c=n.customStyles;e(this,t),r(this,"_rect",void 0),r(this,"start",(function(e){if(!e.isDragging){var t=i.DS.stores.PointerStore.initialValArea;V(i.HTMLNode,_(t,1)),i.HTMLNode.style.display="block",i._rect=null}})),r(this,"stop",(function(){i.HTMLNode.style.width="0",i.HTMLNode.style.height="0",i.HTMLNode.style.display="none"})),r(this,"update",(function(e){if(!e.isDragging&&!i.DS.continue){var t=i.DS.stores,n=t.ScrollStore,r=t.PointerStore,o=function(e){var t=e.scrollAmount,n=e.initialPointerPos,r=e.pointerPos,i={};return r.x>n.x-t.x?(i.left=n.x-t.x,i.width=r.x-n.x+t.x):(i.left=r.x,i.width=n.x-r.x-t.x),r.y>n.y-t.y?(i.top=n.y-t.y,i.height=r.y-n.y+t.y):(i.top=r.y,i.height=n.y-r.y-t.y),i}({scrollAmount:n.scrollAmount,initialPointerPos:r.initialValArea,pointerPos:r.currentValArea});V(i.HTMLNode,o),i._rect=null}})),this.DS=o,this.HTMLNode=s||function(e){var t=document.createElement("div");return t.style.position="absolute",e||(t.style.background="rgba(0, 0, 255, 0.1)",t.style.border="1px solid rgba(0, 0, 255, 0.45)",t.style.display="none",t.style.pointerEvents="none"),t}(c),this.HTMLNode.classList.add(a),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("Interaction:end",this.stop)}return n(t,[{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),t}(),B=function(){function t(n){var i=this,o=n.DS,s=n.selectorAreaClass,a=n.autoScrollSpeed,c=n.overflowTolerance;e(this,t),r(this,"_autoScrollSpeed",void 0),r(this,"_scrollInterval",void 0),r(this,"_rect",void 0),r(this,"currentEdges",[]),r(this,"_overflowTolerance",void 0),r(this,"start",(function(){return i.applyElements("append")})),r(this,"applyElements",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"append",t=document.body?"body":"documentElement",n="".concat(e,"Child");i.HTMLNode[n](i.DS.Selector.HTMLNode),document[t][n](i.HTMLNode)})),r(this,"updatePos",(function(){i._rect=null;var e=i.DS.Area.rect,t=i.DS.Area.computedBorder,n=i.HTMLNode.style,r="".concat(e.top+t.top,"px"),o="".concat(e.left+t.left,"px"),s="".concat(e.width,"px"),a="".concat(e.height,"px");n.top!==r&&(n.top=r),n.left!==o&&(n.left=o),n.width!==s&&(n.width=s),n.height!==a&&(n.height=a)})),r(this,"stop",(function(e){i.stopAutoScroll(),e&&i.applyElements("remove")})),r(this,"startAutoScroll",(function(){i.currentEdges=[],i._scrollInterval=setInterval((function(){return i.handleAutoScroll()}),16)})),r(this,"handleAutoScroll",(function(){if(!i.DS.continue){var e=i.DS,t=e.stores.PointerStore,n=e.Area;i.currentEdges=P({elementRect:_(t.currentVal),containerRect:i.rect,tolerance:i._overflowTolerance}),i.currentEdges.length&&n.scroll(i.currentEdges,i._autoScrollSpeed)}})),r(this,"stopAutoScroll",(function(){i.currentEdges=[],clearInterval(i._scrollInterval)})),r(this,"isInside",(function(e,t){return!(!i.DS.Area.HTMLNode.contains(e)||!i.DS.stores.ScrollStore.canScroll)||A(i.rect,t||e.getBoundingClientRect())})),this._autoScrollSpeed=a,this._overflowTolerance=c,this.DS=o,this.HTMLNode=function(e){var t=document.createElement("div");return t.style.position="fixed",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="999999999999999999",t.classList.add(e),t}(s),this.DS.subscribe("Area:modified",this.updatePos),this.DS.subscribe("Interaction:init",this.start),this.DS.subscribe("Interaction:start",this.startAutoScroll),this.DS.subscribe("Interaction:end",(function(){i.updatePos(),i.stopAutoScroll()}))}return n(t,[{key:"isClicked",value:function(e){var t=this.DS.stores.PointerStore,n=e?t.getPointerPosition(e):t.initialVal;return A({left:n.x,top:n.y,right:n.x,bottom:n.y},this.rect)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),t}(),U=function(){function t(n){var i=this,o=n.DS,s=n.multiSelectKeys,a=n.multiSelectMode;e(this,t),r(this,"_multiSelectMode",void 0),r(this,"_multiSelectKeys",void 0),r(this,"_currentValues",new Set),r(this,"_keyMapping",{control:"ctrlKey",shift:"shiftKey",meta:"metaKey"}),r(this,"init",(function(){document.addEventListener("keydown",i.keydown),document.addEventListener("keyup",i.keyup),window.addEventListener("blur",i.reset)})),r(this,"keydown",(function(e){var t=e.key.toLowerCase();i.DS.publish("KeyStore:down:pre",{event:e,key:t}),i._currentValues.add(t),i.DS.publish("KeyStore:down",{event:e,key:t})})),r(this,"keyup",(function(e){var t=e.key.toLowerCase();i.DS.publish("KeyStore:up:pre",{event:e,key:t}),i._currentValues.delete(t),i.DS.publish("KeyStore:up",{event:e,key:t})})),r(this,"stop",(function(){document.removeEventListener("keydown",i.keydown),document.removeEventListener("keyup",i.reset),window.removeEventListener("blur",i.reset),i.reset()})),r(this,"reset",(function(){return i._currentValues.clear()})),this.DS=o,this._multiSelectMode=a,this._multiSelectKeys=s.map((function(e){var t={ctrlKey:"Control",shiftKey:"Shift",metaKey:"Meta"}[e];return t?(console.warn("[DragSelect] ".concat(e,' is deprecated. Use "').concat(t,'" instead. Act Now!. See docs for more info')),t.toLowerCase()):e.toLowerCase()})),this.DS.subscribe("Interaction:init",this.init)}return n(t,[{key:"isMultiSelectKeyPressed",value:function(e){var t=this;return!!this._multiSelectMode||!!this.currentValues.some((function(e){return t._multiSelectKeys.includes(e)}))||!(!e||!this._multiSelectKeys.some((function(n){return e[t._keyMapping[n]]})))}},{key:"currentValues",get:function(){return Array.from(this._currentValues.values())}}]),t}(),F=function(){function t(n){var i=this,o=n.DS;e(this,t),r(this,"_isMouseInteraction",!1),r(this,"_initialValArea",void 0),r(this,"_currentValArea",void 0),r(this,"_lastValArea",void 0),r(this,"_initialVal",void 0),r(this,"_currentVal",void 0),r(this,"_lastVal",void 0),r(this,"_lastTouch",void 0),r(this,"init",(function(){document.addEventListener("mousemove",i.update),document.addEventListener("touchmove",i.update,{passive:!1})})),r(this,"getPointerPosition",(function(e){return function(e){var t=e.event;return{x:t.clientX,y:t.clientY}}({event:i._normalizedEvent(e)})})),r(this,"update",(function(e){e&&(i.DS.publish("PointerStore:updated:pre",{event:e}),i.currentVal=i.getPointerPosition(e),i._isMouseInteraction&&i.DS.publish("PointerStore:updated",{event:e}))})),r(this,"stop",(function(){document.removeEventListener("mousemove",i.update),document.removeEventListener("touchmove",i.update,{passive:!1}),setTimeout((function(){return i._isMouseInteraction=!1}),100)})),r(this,"reset",(function(e){e&&(i.currentVal=i.lastVal=i.getPointerPosition(e),i.stop(),i.init())})),this.DS=o,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",(function(e){var t=e.event;return i.start(t)})),this.DS.subscribe("Interaction:end",(function(e){var t=e.event;return i.reset(t)}))}return n(t,[{key:"start",value:function(e){e&&(this._isMouseInteraction=!0,this.currentVal=this.initialVal=this.getPointerPosition(e))}},{key:"_normalizedEvent",value:function(e){return"touches"in e&&"touchend"!==e.type&&(this._lastTouch=e),"touches"in e?this._lastTouch.touches[0]:e}},{key:"initialValArea",get:function(){return this._initialValArea?this._initialValArea:{x:0,y:0}}},{key:"currentValArea",get:function(){return this._currentValArea?this._currentValArea:{x:0,y:0}}},{key:"lastValArea",get:function(){return this._lastValArea?this._lastValArea:{x:0,y:0}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}},set:function(e){this._initialVal=e,this._initialValArea=e&&b(e,"-",b(y(this.DS.Area.rect),"+",y(this.DS.Area.computedBorder)))}},{key:"currentVal",get:function(){return this._currentVal?this._currentVal:{x:0,y:0}},set:function(e){this._currentVal=e,this._currentValArea=e&&b(e,"-",b(y(this.DS.Area.rect),"+",y(this.DS.Area.computedBorder)))}},{key:"lastVal",get:function(){return this._lastVal?this._lastVal:{x:0,y:0}},set:function(e){this._lastVal=e,this._lastValArea=e&&b(e,"-",b(y(this.DS.Area.rect),"+",y(this.DS.Area.computedBorder)))}}]),t}(),W=function(){function t(n){var i=this,o=n.DS,s=n.areaElement,a=n.zoom;e(this,t),r(this,"_initialVal",void 0),r(this,"_currentVal",void 0),r(this,"_areaElement",void 0),r(this,"_canScroll",void 0),r(this,"init",(function(){return i._areaElement.addEventListener("scroll",i.update)})),r(this,"start",(function(){i._currentVal=i._initialVal=w(i._areaElement),i._areaElement.addEventListener("scroll",i.update)})),r(this,"update",(function(){return i._currentVal=w(i._areaElement)})),r(this,"stop",(function(){i._areaElement.removeEventListener("scroll",i.update),i._initialVal={x:0,y:0},i._canScroll=null})),r(this,"reset",(function(){i.stop(),i.start()})),this._areaElement=s,this.DS=o,this.zoom=a,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",(function(){return i.start()})),this.DS.subscribe("Interaction:end",(function(){return i.reset()}))}return n(t,[{key:"canScroll",get:function(){return"boolean"==typeof this._canScroll?this._canScroll:this._canScroll=(e=this._areaElement,!!((t=w(e)).x||t.y||(e instanceof HTMLDocument?e.body?e.body.scrollTop=1:e.documentElement.scrollTop=1:e.scrollTop=1)));var e,t}},{key:"scrollAmount",get:function(){var e,t=b(this.currentVal,"-",this.initialVal),n={x:e=this.zoom,y:e},r=b(b(t,"*",n),"-",t);return{x:t.x+r.x,y:t.y+r.y}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}}},{key:"currentVal",get:function(){return this._currentVal||(this._currentVal=w(this._areaElement)),this._currentVal}}]),t}(),G=function(){function t(n){var i=this,o=n.area,s=void 0===o?document:o,a=n.selectables,c=void 0===a?[]:a,l=n.autoScrollSpeed,u=void 0===l?5:l,d=n.overflowTolerance,h=void 0===d?{x:25,y:25}:d,f=n.zoom,v=void 0===f?1:f,p=n.customStyles,S=void 0!==p&&p,m=n.multiSelectMode,g=void 0!==m&&m,b=n.multiSelectToggling,y=void 0===b||b,_=n.multiSelectKeys,D=void 0===_?["Control","Shift","Meta"]:_,w=n.selector,P=void 0===w?void 0:w,k=n.draggability,x=void 0===k||k,E=n.immediateDrag,A=void 0===E||E,I=n.keyboardDrag,L=void 0===I||I,T=n.dragKeys,V=n.keyboardDragSpeed,G=void 0===V?10:V,Z=n.useTransform,q=void 0===Z||Z,X=n.hoverClass,Y=void 0===X?"ds-hover":X,$=n.selectableClass,J=void 0===$?"ds-selectable":$,Q=n.selectedClass,ee=void 0===Q?"ds-selected":Q,te=n.selectorClass,ne=void 0===te?"ds-selector":te,re=n.selectorAreaClass,ie=void 0===re?"ds-selector-area":re,oe=n.callback,se=n.onDragMove,ae=n.onDragStartBegin,ce=n.onDragStart,le=n.onElementSelect,ue=n.onElementUnselect;e(this,t),r(this,"continue",!1),r(this,"start",(function(){i.stopped=!1,i.Interaction.init()})),r(this,"break",(function(){return i.continue=!0})),r(this,"getSelection",(function(){return i.SelectedSet.elements})),r(this,"getSelectables",(function(){return i.SelectableSet.elements})),r(this,"getInitialCursorPosition",(function(){return i.stores.PointerStore.initialVal})),r(this,"getCurrentCursorPosition",(function(){return i.stores.PointerStore.currentVal})),r(this,"getPreviousCursorPosition",(function(){return i.stores.PointerStore.lastVal})),r(this,"getInitialCursorPositionArea",(function(){return i.stores.PointerStore.initialValArea})),r(this,"getCurrentCursorPositionArea",(function(){return i.stores.PointerStore.currentValArea})),r(this,"getPreviousCursorPositionArea",(function(){return i.stores.PointerStore.lastValArea})),r(this,"isMultiSelect",(function(e){return i.stores.KeyStore.isMultiSelectKeyPressed(e)})),r(this,"isDragging",(function(){return i.Interaction.isDragging})),this.PubSub=new O({DS:this}),this.subscribe=this.PubSub.subscribe,this.unsubscribe=this.PubSub.unsubscribe,this.publish=this.PubSub.publish,this._callbacksTemp({callback:oe,onDragMove:se,onDragStart:ce,onDragStartBegin:ae,onElementSelect:le,onElementUnselect:ue}),this.stores={PointerStore:new F({DS:this}),ScrollStore:new W({DS:this,areaElement:s,zoom:v}),KeyStore:new U({DS:this,multiSelectKeys:D,multiSelectMode:g})},this.Area=new M({area:s,PS:this.PubSub,zoom:v}),this.Selector=new R({DS:this,selector:P,selectorClass:ne,customStyles:S}),this.SelectorArea=new B({DS:this,selectorAreaClass:ie,autoScrollSpeed:u,overflowTolerance:h}),this.SelectableSet=new j({elements:c,DS:this,className:J,hoverClassName:Y,useTransform:q,draggability:x}),this.SelectedSet=new H({DS:this,className:ee}),this.Selection=new z({DS:this,hoverClassName:Y,multiSelectToggling:y}),this.Drag=new N({DS:this,draggability:x,useTransform:q,keyboardDrag:L,dragKeys:Object.assign({up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]},T),zoom:v,keyboardDragSpeed:G}),this.Interaction=new K({areaElement:s,DS:this,draggability:x,immediateDrag:A}),C({subscribe:this.subscribe,publish:this.publish,SelectedSet:this.SelectedSet,Interaction:this.Interaction}),this.subscribe("Interaction:end",(function(){return i.continue=!1})),this.start()}return n(t,[{key:"_callbacksTemp",value:function(e){var t=e.callback,n=e.onDragMove,r=e.onDragStart,i=e.onDragStartBegin,o=e.onElementSelect,s=e.onElementUnselect,a=function(e,t){return console.warn("[DragSelect] ".concat(e,' is deprecated. Use DragSelect.subscribe("').concat(t,'", (callbackObject) => {}) instead. Act Now! See docs for more info'))};t&&(a("callback","callback"),this.subscribe("callback",(function(e){var n=e.items,r=(e.item,e.event);return t(n,r)}))),n&&(a("onDragMove","dragmove"),this.subscribe("dragmove",(function(e){e.items,e.item;var t=e.event;return n(t)}))),r&&(a("onDragStart","dragstart"),this.subscribe("dragstart",(function(e){e.items,e.item;var t=e.event;return r(t)}))),i&&(a("onDragStartBegin","dragstart"),this.subscribe("dragstart",(function(e){e.items,e.item;var t=e.event;return i(t)}))),o&&(a("onElementSelect","elementselect"),this.subscribe("elementselect",(function(e){e.items;var t=e.item,n=e.event;return o(t,n)}))),s&&(a("onElementUnselect","elementunselect"),this.subscribe("elementunselect",(function(e){e.items;var t=e.item,n=e.event;return s(t,n)})))}},{key:"stop",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.publish("callback",{items:this.getSelection()}),this.Interaction.stop(),this.Area.stop(),this.Drag.stop(),this.Selector.stop(),this.SelectorArea.stop(e),this.stores.KeyStore.stop(),this.stores.PointerStore.stop(),this.stores.ScrollStore.stop(),e&&this.SelectableSet.clear(),t&&this.SelectedSet.clear(),this.stopped=!0}},{key:"addSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.SelectedSet.addAll(T(e)),n||this.addSelectables(e),t&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"removeSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.SelectedSet.deleteAll(T(e)),n&&this.removeSelectables(e),t&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"toggleSelection",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return T(e).forEach((function(i){return t.SelectedSet.has(i)?t.removeSelection(e,n,r):t.addSelection(e,n,r)})),n&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.clearSelection(),this.addSelection(e,t,n),this.getSelection()}},{key:"clearSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.SelectedSet.clear(),e&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"addSelectables",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=T(e);return this.SelectableSet.addAll(n),t&&this.SelectedSet.addAll(n),e}},{key:"setSelectables",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.removeSelectables(e,t),this.addSelectables(e,n)}},{key:"removeSelectables",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.SelectableSet.deleteAll(T(e)),t&&this.removeSelection(e),e}},{key:"getCursorPositionDifference",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.warn("[DragSelect] Using .getCursorPositionDifference is deprecated. Calculate yourself instead. i.e. `.getCurrentCursorPosition().x - .getInitialCursorPosition().x`");var n=t?this.getCurrentCursorPositionArea():this.getCurrentCursorPosition(),r=e?t?this.getPreviousCursorPositionArea():this.getPreviousCursorPosition():t?this.getInitialCursorPositionArea():this.getInitialCursorPosition();return b(n,"-",r)}}]),t}();return G}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(501),t=n.n(e),r=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};!function(){var e={Gennaio:0,Febbraio:1,Marzo:2,Aprile:3,Maggio:4,Giugno:5,Luglio:6,Agosto:7,Settembre:8,Ottobre:9,Novembre:10,Dicembre:11};function n(){var e=document.createElement("div");e.classList.add("output-area");var t=document.querySelectorAll(".month-box.active");if(t){t.forEach((function(t){var n=t.firstElementChild.innerHTML,r='\n          <div class="selected-month">\n            '.concat(n,"\n          </div>\n        ");e.innerHTML+=r}));var n=document.querySelectorAll(".output-area");n&&n.forEach((function(e){e.remove()})),document.body.appendChild(e)}}function o(){return r(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:e="http://staccah.fattureincloud.it/testfrontend/data.json",n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(e)];case 2:return[4,n.sent().json()];case 3:return[2,n.sent()];case 4:return t=n.sent(),console.error(t),[3,5];case 5:return[2]}}))}))}!function(){r(this,void 0,void 0,(function(){var r,s,a,c,l,u;return i(this,(function(i){switch(i.label){case 0:return[4,o()];case 1:return r=i.sent(),s=[],a=0,c=0,l=[],(u=document.createElement("div")).classList.add("monthly-trend-component"),r.mesi.forEach((function(e){l.push(e.importo),a=Math.max.apply(Math,l),c=Math.min.apply(Math,l)})),r.mesi.forEach((function(r,i){var o=document.createElement("div");o.classList.add("month-box"),u.appendChild(o),s.push(o);var l,d,h='\n          <div class="name">\n            '.concat((l=e,d=i,Object.keys(l).find((function(e){return l[e]===d}))),'\n          </div>\n          <div class="infos">\n            <div style=height:').concat(function(e,t,n,r){for(var i=e;i<=t;i++)if(i===n)return 78*i/t}(c,a,r.importo),'px class="value-bar">           \n            </div>\n            <div class="document">\n              <div class="count">\n                ').concat(r.documenti,'\n              </div>\n              <div class="text">\n                doc.\n              </div>\n            </div>\n            <div class="money">\n            ').concat(new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR",maximumSignificantDigits:5}).format(r.importo),"\n            </div>\n          </div>\n        ");o.innerHTML+=h,o.addEventListener("click",(function(){s.forEach((function(e){e.classList.remove("active")})),o.classList.add("active"),n()})),new(t())({selectables:s,draggability:!1,selectedClass:"active"}).subscribe("callback",n)})),[4,document.body.appendChild(u)];case 2:return[2,i.sent()]}}))}))}()}()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c3VhbGl6YXRpb24tY29tcG9uZW50Ly4vbm9kZV9tb2R1bGVzL2RyYWdzZWxlY3QvZGlzdC9EcmFnU2VsZWN0LmpzIiwid2VicGFjazovL2Nhc2hmbG93LXZpc3VhbGl6YXRpb24tY29tcG9uZW50L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Nhc2hmbG93LXZpc3VhbGl6YXRpb24tY29tcG9uZW50L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2Nhc2hmbG93LXZpc3VhbGl6YXRpb24tY29tcG9uZW50L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jYXNoZmxvdy12aXN1YWxpemF0aW9uLWNvbXBvbmVudC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2Nhc2hmbG93LXZpc3VhbGl6YXRpb24tY29tcG9uZW50Ly4vc3JjL21vbnRobHktdHJlbmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKlxuXG4gfn5+IFZlcnNpb24gMi4zLjAgfn5+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICAgIF9fX18gICAgICAgICAgICAgICAgICAgX19fX18gICAgICBfXyAgICAgICAgICBfXyBcbiAgIC8gX18gXFxfX19fX19fX18gX19fX18gXy8gX19fL19fXyAgLyAvX18gIF9fX19fLyAvX1xuICAvIC8gLyAvIF9fXy8gX18gYC8gX18gYC9cXF9fIFxcLyBfIFxcLyAvIF8gXFwvIF9fXy8gX18vXG4gLyAvXy8gLyAvICAvIC9fLyAvIC9fLyAvX19fLyAvICBfXy8gLyAgX18vIC9fXy8gL18gIFxuL19fX19fL18vICAgXFxfXyxfL1xcX18sIC8vX19fXy9cXF9fXy9fL1xcX19fL1xcX19fL1xcX18vICBcbiAgICAgICAgICAgICAgIC9fX19fLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gXG4geyp9IHsqfSBTVEFSIFRISVMgUExVR0lOIE9OIEdJVEhVQiB7Kn0geyp9XG5cbiBodHRwczovL2dpdGh1Yi5jb20vVGhpYmF1bHRKYW5CZXllci9EcmFnU2VsZWN0XG4gUGxlYXNlIGdpdmUgaXQgYSBsaWtlLCB0aGlzIGlzIHdoYXQgbWFrZXMgbWUgaGFwcHkgOi0pXG4gVGhhbmsgWW91XG5cbiB7Kn0geyp9IFNUQVIgVEhJUyBQTFVHSU4gT04gR0lUSFVCIHsqfSB7Kn1cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICoqKioqKioqKiBUaGUgTUlUIExpY2Vuc2UgKE1JVCkgKioqKioqKioqKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIENyZWF0ZWQgMjAxNyBieSBUaGliYXVsdEphbkJleWVyXG4gd2ViOiBodHRwOi8vd3d3LnRoaWJhdWx0amFuYmV5ZXIuY29tL1xuIGdpdGh1YjogaHR0cHM6Ly9naXRodWIuY29tL1RoaWJhdWx0SmFuQmV5ZXIvRHJhZ1NlbGVjdFxuXG4qL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuRHJhZ1NlbGVjdCA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICAgICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgIH0pO1xuICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgICBpZiAoaSAlIDIpIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gICAgfTtcbiAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICAgIG8uX19wcm90b19fID0gcDtcbiAgICAgIHJldHVybiBvO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgICAgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICAgIHZhciBhID0gW251bGxdO1xuICAgICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7XG4gICAgICAgIGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikge1xuICAgIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7XG4gIH1cblxuICBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcblxuICAgIF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzO1xuXG4gICAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtcblxuICAgICAgICBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICAgIH1cblxuICAgICAgV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cblxuICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgaWYgKGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICByZXR1cm4gY2FsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7XG4gICAgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7XG4gICAgICB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksXG4gICAgICAgICAgcmVzdWx0O1xuXG4gICAgICBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkge1xuICAgICAgICB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgIHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7XG4gICAgICBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcbiAgICAgIGlmIChvYmplY3QgPT09IG51bGwpIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3QuZ2V0KSB7XG4gICAgICBfZ2V0ID0gUmVmbGVjdC5nZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgICAgIHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKCFiYXNlKSByZXR1cm47XG4gICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7XG4gIH1cblxuICBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICAgIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7XG4gIH1cblxuICBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuO1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICAgIGlmICghbykgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICAgIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gICAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICAgIHJldHVybiBhcnIyO1xuICB9XG5cbiAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBTZXR0aW5ncyB0byBiZSBwYXNzZWQgdG8gdGhlIENsYXNzXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IFNldHRpbmdzXG4gICAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8U1ZHRWxlbWVudHxIVE1MRG9jdW1lbnR9IFthcmVhPWRvY3VtZW50XSBhcmVhIGluIHdoaWNoIHlvdSBjYW4gZHJhZy4gSWYgbm90IHByb3ZpZGVkIGl0IHdpbGwgYmUgdGhlIHdob2xlIGRvY3VtZW50XG4gICAqIEBwcm9wZXJ0eSB7RFNJbnB1dEVsZW1lbnRzfSBbc2VsZWN0YWJsZXM9W11dIHRoZSBlbGVtZW50cyB0aGF0IGNhbiBiZSBzZWxlY3RlZFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW2F1dG9TY3JvbGxTcGVlZD01XSBTcGVlZCBpbiB3aGljaCB0aGUgYXJlYSBzY3JvbGxzIHdoaWxlIHNlbGVjdGluZyAoaWYgYXZhaWxhYmxlKS4gVW5pdCBpcyBwaXhlbCBwZXIgbW92ZW1lbnQuXG4gICAqIEBwcm9wZXJ0eSB7VmVjdDJ9IFtvdmVyZmxvd1RvbGVyYW5jZT17eDoyNSx5OjI1fV0gVG9sZXJhbmNlIGZvciBhdXRvU2Nyb2xsIChob3cgY2xvc2Ugb25lIGhhcyB0byBiZSBuZWFyIGFuIGVkZ2VzIGZvciBhdXRvU2Nyb2xsIHRvIHN0YXJ0KVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW3pvb209MV0gWm9vbSBzY2FsZSBmYWN0b3IgKGluIGNhc2Ugb2YgdXNpbmcgQ1NTIHN0eWxlIHRyYW5zZm9ybTogc2NhbGUoKSB3aGljaCBtZXNzZXMgd2l0aCByZWFsIHBvc2l0aW9ucykuIFVuaXQgc2NhbGUgem9vbS5cbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbY3VzdG9tU3R5bGVzPWZhbHNlXSBpZiBzZXQgdG8gdHJ1ZSwgbm8gc3R5bGVzIChleGNlcHQgZm9yIHBvc2l0aW9uIGFic29sdXRlKSB3aWxsIGJlIGFwcGxpZWQgYnkgZGVmYXVsdFxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFttdWx0aVNlbGVjdE1vZGU9ZmFsc2VdIEFkZCBuZXdseSBzZWxlY3RlZCBlbGVtZW50cyB0byB0aGUgc2VsZWN0aW9uIGluc3RlYWQgb2YgcmVwbGFjaW5nIHRoZW1cbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbbXVsdGlTZWxlY3RUb2dnbGluZz10cnVlXSBXaGV0aGVyIG9yIG5vdCB0byB0b2dnbGUgYWxyZWFkeSBhY3RpdmUgZWxlbWVudHMgd2hpbGUgbXVsdGktc2VsZWN0aW5nXG4gICAqIEBwcm9wZXJ0eSB7RFNNdWx0aVNlbGVjdEtleXN9IFttdWx0aVNlbGVjdEtleXM9WydDb250cm9sJywgJ1NoaWZ0JywgJ01ldGEnXV0gS2V5cyB0aGF0IGFsbG93cyBzd2l0Y2hpbmcgdG8gdGhlIG11bHRpLXNlbGVjdCBtb2RlIChzZWUgdGhlIG11bHRpU2VsZWN0TW9kZSBvcHRpb24pLiBBbnkga2V5IHZhbHVlIGlzIHBvc3NpYmxlIChbc2VlIE1ETiBkb2NzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudC9rZXkpKS4gTm90ZSB0aGF0IHRoZSBiZXN0IHN1cHBvcnQgaXMgZ2l2ZW4gZm9yIDxrYmQ+Q29udHJvbDwva2JkPiwgPGtiZD5TaGlmdDwva2JkPiBhbmQgPGtiZD5NZXRhPC9rYmQ+LiBQcm92aWRlIGFuIGVtcHR5IGFycmF5IGBbXWAgaWYgeW91IHdhbnQgdG8gdHVybiBvZmYgdGhlIGZ1bmN0aW9uYWxpdHkuXG4gICAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IFtzZWxlY3Rvcj1IVE1MRWxlbWVudF0gdGhlIHNxdWFyZSB0aGF0IHdpbGwgZHJhdyB0aGUgc2VsZWN0aW9uXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RyYWdnYWJpbGl0eT10cnVlXSBXaGVuIGEgdXNlciBpcyBkcmFnZ2luZyBvbiBhbiBhbHJlYWR5IHNlbGVjdGVkIGVsZW1lbnQsIHRoZSBzZWxlY3Rpb24gaXMgZHJhZ2dlZC5cbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbaW1tZWRpYXRlRHJhZz10cnVlXSBXaGV0aGVyIGFuIGVsZW1lbnQgaXMgZHJhZ2dhYmxlIGZyb20gdGhlIHN0YXJ0IG9yIG5lZWRzIHRvIGJlIHNlbGVjdGVkIGZpcnN0XG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2tleWJvYXJkRHJhZz10cnVlXSBXaGV0aGVyIG9yIG5vdCB0aGUgdXNlciBjYW4gZHJhZyB3aXRoIHRoZSBrZXlib2FyZCAod2UgZG9uJ3QgcmVjb21tZW5kIGRpc2FibGluZyBpdClcbiAgICogQHByb3BlcnR5IHtEU0RyYWdLZXlzfSBbZHJhZ0tleXM9e3VwOlsnQXJyb3dVcCddLGRvd246WydBcnJvd0Rvd24nXSxsZWZ0OlsnQXJyb3dMZWZ0J10scmlnaDpbJ0Fycm93UmlnaHQnXX1dIFRoZSBrZXlzIGF2YWlsYWJsZSB0byBkcmFnIGVsZW1lbnQgdXNpbmcgdGhlIGtleWJvYXJkLlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW2tleWJvYXJkRHJhZ1NwZWVkPTEwXSBUaGUgc3BlZWQgYXQgd2hpY2ggZWxlbWVudHMgYXJlIGRyYWdnZWQgdXNpbmcgdGhlIGtleWJvYXJkLiBJbiBwaXhlbHMgcGVyIGtleWRvd24uXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZVRyYW5zZm9ybT10cnVlXSBXaGV0aGVyIHRvIHVzZSBoYXJkd2FyZSBhY2NlbGVyYXRlZCBjc3MgdHJhbnNmb3JtcyB3aGVuIGRyYWdnaW5nIG9yIHRvcC9sZWZ0IGluc3RlYWRcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtob3ZlckNsYXNzPWRzLWhvdmVyXSB0aGUgY2xhc3MgYXNzaWduZWQgdG8gdGhlIG1vdXNlIGhvdmVyZWQgaXRlbXNcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtzZWxlY3RhYmxlQ2xhc3M9ZHMtc2VsZWN0YWJsZV0gdGhlIGNsYXNzIGFzc2lnbmVkIHRvIHRoZSBlbGVtZW50cyB0aGF0IGNhbiBiZSBzZWxlY3RlZFxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3NlbGVjdGVkQ2xhc3M9ZHMtc2VsZWN0ZWRdIHRoZSBjbGFzcyBhc3NpZ25lZCB0byB0aGUgc2VsZWN0ZWQgaXRlbXNcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtzZWxlY3RvckNsYXNzPWRzLXNlbGVjdG9yXSB0aGUgY2xhc3MgYXNzaWduZWQgdG8gdGhlIHNxdWFyZSBzZWxlY3RvciBoZWxwZXJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtzZWxlY3RvckFyZWFDbGFzcz1kcy1zZWxlY3Rvci1hcmVhXSB0aGUgY2xhc3MgYXNzaWduZWQgdG8gdGhlIHNxdWFyZSBpbiB3aGljaCB0aGUgc2VsZWN0b3IgcmVzaWRlcy4gQnkgZGVmYXVsdCBpdCdzIGludmlzaWJsZVxuICAgKiBAcHJvcGVydHkge0RTQ2FsbGJhY2t9IFtjYWxsYmFja10gRGVwcmVjYXRlZDogcGxlYXNlIHVzZSBEcmFnU2VsZWN0LnN1YnNjcmliZSgnY2FsbGJhY2snLCBjYWxsYmFjaykgaW5zdGVhZFxuICAgKiBAcHJvcGVydHkge0RTQ2FsbGJhY2t9IFtvbkRyYWdNb3ZlXSBEZXByZWNhdGVkOiBwbGVhc2UgdXNlIERyYWdTZWxlY3Quc3Vic2NyaWJlKCdvbkRyYWdNb3ZlJywgb25EcmFnTW92ZSkgaW5zdGVhZFxuICAgKiBAcHJvcGVydHkge0RTQ2FsbGJhY2t9IFtvbkRyYWdTdGFydEJlZ2luXSBEZXByZWNhdGVkOiBwbGVhc2UgdXNlIERyYWdTZWxlY3Quc3Vic2NyaWJlKCdvbkRyYWdTdGFydEJlZ2luJywgb25EcmFnU3RhcnRCZWdpbikgaW5zdGVhZFxuICAgKiBAcHJvcGVydHkge0RTQ2FsbGJhY2t9IFtvbkRyYWdTdGFydF0gRGVwcmVjYXRlZDogcGxlYXNlIHVzZSBEcmFnU2VsZWN0LnN1YnNjcmliZSgnb25EcmFnU3RhcnQnLCBvbkRyYWdTdGFydCkgaW5zdGVhZFxuICAgKiBAcHJvcGVydHkge0RTQ2FsbGJhY2t9IFtvbkVsZW1lbnRTZWxlY3RdIERlcHJlY2F0ZWQ6IHBsZWFzZSB1c2UgRHJhZ1NlbGVjdC5zdWJzY3JpYmUoJ29uRWxlbWVudFNlbGVjdCcsIG9uRWxlbWVudFNlbGVjdCkgaW5zdGVhZFxuICAgKiBAcHJvcGVydHkge0RTQ2FsbGJhY2t9IFtvbkVsZW1lbnRVbnNlbGVjdF0gRGVwcmVjYXRlZDogcGxlYXNlIHVzZSBEcmFnU2VsZWN0LnN1YnNjcmliZSgnb25FbGVtZW50VW5zZWxlY3QnLCBvbkVsZW1lbnRVbnNlbGVjdCkgaW5zdGVhZFxuICAgKi9cblxuICAvKipcbiAgICogVGhlIE9iamVjdCB0aGF0IGlzIHBhc3NlZCBiYWNrIHRvIGFueSBjYWxsYmFjayBtZXRob2RcbiAgICogQHR5cGVkZWYge09iamVjdH0gQ2FsbGJhY2tPYmplY3RcbiAgICogQHByb3BlcnR5IHtBcnJheTxIVE1MRWxlbWVudHxTVkdFbGVtZW50fGFueT59IFtpdGVtc10gVGhlIGl0ZW1zIGN1cnJlbnRseSBzZWxlY3RlZFxuICAgKiBAcHJvcGVydHkge01vdXNlRXZlbnR8VG91Y2hFdmVudHxLZXlib2FyZEV2ZW50fEV2ZW50fSBbZXZlbnRdIFRoZSByZXNwZWN0aXZlIGV2ZW50IG9iamVjdFxuICAgKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fFNWR0VsZW1lbnR8YW55fSBbaXRlbV0gVGhlIHNpbmdsZSBpdGVtIGN1cnJlbnRseSBpbnRlcmFjdGVkIHdpdGhcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbaXNEcmFnZ2luZ10gV2hldGhlciB0aGUgaW50ZXJhY3Rpb24gaXMgYSBkcmFnIG9yIGEgc2VsZWN0XG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzRHJhZ2dpbmdLZXlib2FyZF0gV2hldGhlciBvciBub3QgdGhlIGRyYWcgaW50ZXJhY3Rpb24gaXMgdmlhIGtleWJvYXJkXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XSBQcmVzc2VkIGtleSAobG93ZXJjYXNlKVxuICAgKiBAcHJvcGVydHkge0FycmF5LjwndG9wJ3wnYm90dG9tJ3wnbGVmdCd8J3JpZ2h0J3x1bmRlZmluZWQ+fSBbc2Nyb2xsX2RpcmVjdGlvbnNdXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc2Nyb2xsX211bHRpcGxpZXJdXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7ZnVuY3Rpb259IERTQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtDYWxsYmFja09iamVjdH0gZGF0YVxuICAgKi9cblxuICAvKiogQHR5cGVkZWYge3t4OiBudW1iZXIsIHk6IG51bWJlcn19IFZlY3QyICovXG5cbiAgLyoqIEB0eXBlZGVmIHt7eDpudW1iZXIseTpudW1iZXIsdzpudW1iZXIsaDpudW1iZXIscjpudW1iZXIsYjpudW1iZXJ9fSBEU0VsZW1lbnRQb3MgKi9cblxuICAvKiogQHR5cGVkZWYge0FycmF5LjwndG9wJ3wnYm90dG9tJ3wnbGVmdCd8J3JpZ2h0J3x1bmRlZmluZWQ+fSBEU0VkZ2VzICovXG5cbiAgLyoqIEB0eXBlZGVmIHtIVE1MRWxlbWVudHxTVkdFbGVtZW50fEhUTUxEb2N1bWVudH0gRFNBcmVhIGFyZWEgd2l0aGluIHdoaWNoIHlvdSBjYW4gZHJhZyAqL1xuXG4gIC8qKiBAdHlwZWRlZiB7SFRNTEVsZW1lbnR9IERTU2VsZWN0b3JBcmVhIGFyZWEgaW4gd2hpY2ggeW91IGNhbiBkcmFnICovXG5cbiAgLyoqIEB0eXBlZGVmIHtBcnJheS48SFRNTEVsZW1lbnR8U1ZHRWxlbWVudD4gfCBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IERTSW5wdXRFbGVtZW50cyB0aGUgZWxlbWVudHMgdGhhdCBjYW4gYmUgc2VsZWN0ZWQgKi9cblxuICAvKiogQHR5cGVkZWYge0FycmF5LjxIVE1MRWxlbWVudHxTVkdFbGVtZW50Pn0gRFNFbGVtZW50cyB0aGUgZWxlbWVudHMgdGhhdCBjYW4gYmUgc2VsZWN0ZWQgKi9cblxuICAvKiogQHR5cGVkZWYge0hUTUxFbGVtZW50fFNWR0VsZW1lbnR9IERTRWxlbWVudCBhIHNpbmdsZSBlbGVtZW50IHRoYXQgY2FuIGJlIHNlbGVjdGVkICovXG5cbiAgLyoqIEB0eXBlZGVmIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR9IERTRXZlbnQgZW4gZXZlbnQgZnJvbSBhIHRvdWNoIG9yIG1vdXNlIGludGVyYWN0aW9uICovXG5cbiAgLyoqIEB0eXBlZGVmIHtBcnJheS48J1NoaWZ0J3wnQ29udHJvbCd8J01ldGEnfHN0cmluZz59IERTTXVsdGlTZWxlY3RLZXlzIEFuIGFycmF5IG9mIGtleXMgdGhhdCBhbGxvd3Mgc3dpdGNoaW5nIHRvIHRoZSBtdWx0aS1zZWxlY3QgbW9kZSAqL1xuXG4gIC8qKiBAdHlwZWRlZiB7J2RyYWdtb3ZlJ3wnYXV0b3Njcm9sbCd8J2RyYWdzdGFydCd8J2VsZW1lbnRzZWxlY3QnfCdlbGVtZW50dW5zZWxlY3QnfCdjYWxsYmFjayd9IERTRXZlbnROYW1lcyAqL1xuXG4gIC8qKiBAdHlwZWRlZiB7J0ludGVyYWN0aW9uOmluaXQnfCdJbnRlcmFjdGlvbjpzdGFydCd8J0ludGVyYWN0aW9uOmVuZCd8J0ludGVyYWN0aW9uOnVwZGF0ZSd8J0FyZWE6bW9kaWZpZWQnfCdBcmVhOnNjcm9sbCd8J1BvaW50ZXJTdG9yZTp1cGRhdGVkJ3wnU2VsZWN0ZWQ6YWRkZWQnfCdTZWxlY3RlZDpyZW1vdmVkJ3wnU2VsZWN0YWJsZTpjbGljayd8J1NlbGVjdGFibGU6cG9pbnRlcid8J0tleVN0b3JlOmRvd24nfCdLZXlTdG9yZTp1cCd9IERTSW50ZXJuYWxFdmVudE5hbWVzICovXG5cbiAgLyoqIEB0eXBlZGVmIHsnSW50ZXJhY3Rpb246aW5pdDpwcmUnfCdJbnRlcmFjdGlvbjpzdGFydDpwcmUnfCdJbnRlcmFjdGlvbjplbmQ6cHJlJ3wnSW50ZXJhY3Rpb246dXBkYXRlOnByZSd8J0FyZWE6bW9kaWZpZWQ6cHJlJ3wnQXJlYTpzY3JvbGw6cHJlJ3wnUG9pbnRlclN0b3JlOnVwZGF0ZWQ6cHJlJ3wnU2VsZWN0ZWQ6YWRkZWQ6cHJlJ3wnU2VsZWN0ZWQ6cmVtb3ZlZDpwcmUnfCdTZWxlY3RhYmxlOmNsaWNrOnByZSd8J1NlbGVjdGFibGU6cG9pbnRlcjpwcmUnfCdLZXlTdG9yZTpkb3duOnByZSd8J0tleVN0b3JlOnVwOnByZSd9IERTSW50ZXJuYWxFdmVudE5hbWVzUHJlICovXG5cbiAgLyoqIEB0eXBlZGVmIHtEU0V2ZW50TmFtZXN8RFNJbnRlcm5hbEV2ZW50TmFtZXN8RFNJbnRlcm5hbEV2ZW50TmFtZXNQcmV9IERTQ2FsbGJhY2tOYW1lcyB0aGUgbmFtZSBvZiB0aGUgY2FsbGJhY2sgKi9cblxuICAvKiogQHR5cGVkZWYge3t0b3A6bnVtYmVyLGxlZnQ6bnVtYmVyLGJvdHRvbTpudW1iZXIscmlnaHQ6bnVtYmVyLHdpZHRoOm51bWJlcixoZWlnaHQ6bnVtYmVyfX0gRFNCb3VuZGluZ1JlY3QgKi9cblxuICAvKiogQHR5cGVkZWYge3t1cDpzdHJpbmdbXSxkb3duOnN0cmluZ1tdLGxlZnQ6c3RyaW5nW10scmlnaHQ6c3RyaW5nW119fSBEU0RyYWdLZXlzICovXG5cbiAgLyoqXG4gICAqIEBjYWxsYmFjayBEU01vZGlmaWNhdGlvbkNhbGxiYWNrXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnRcbiAgICovXG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBAcGFyYW0ge1ZlY3QyfSB2MVxuICAgKiBAcGFyYW0geycrJ3wnLSd8JyonfCcvJ30gb3BlcmF0b3JcbiAgICogQHBhcmFtIHtWZWN0Mn0gdjJcbiAgICogQHJldHVybiB7VmVjdDJ9XG4gICAqL1xuXG4gIHZhciBjYWxjID0gZnVuY3Rpb24gY2FsYyhfcmVmLCBvcGVyYXRvciwgX3JlZjIpIHtcbiAgICB2YXIgeDEgPSBfcmVmLngsXG4gICAgICAgIHkxID0gX3JlZi55O1xuICAgIHZhciB4MiA9IF9yZWYyLngsXG4gICAgICAgIHkyID0gX3JlZjIueTtcbiAgICB2YXIgY2FsY3VsYXRpb25zID0ge1xuICAgICAgJysnOiB7XG4gICAgICAgIHg6IHgxICsgeDIsXG4gICAgICAgIHk6IHkxICsgeTJcbiAgICAgIH0sXG4gICAgICAnLSc6IHtcbiAgICAgICAgeDogeDEgLSB4MixcbiAgICAgICAgeTogeTEgLSB5MlxuICAgICAgfSxcbiAgICAgICcqJzoge1xuICAgICAgICB4OiB4MSAqIHgyLFxuICAgICAgICB5OiB5MSAqIHkyXG4gICAgICB9LFxuICAgICAgJy8nOiB7XG4gICAgICAgIHg6IHgxIC8geDIsXG4gICAgICAgIHk6IHkxIC8geTJcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBjYWxjdWxhdGlvbnNbb3BlcmF0b3JdO1xuICB9O1xuICAvKipcbiAgICogQHBhcmFtIHt7bGVmdDpudW1iZXIsdG9wOm51bWJlcn19IHJlY3RcbiAgICogQHJldHVybnMge1ZlY3QyfVxuICAgKi9cblxuICB2YXIgcmVjdDJ2ZWN0ID0gZnVuY3Rpb24gcmVjdDJ2ZWN0KHJlY3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogcmVjdC5sZWZ0LFxuICAgICAgeTogcmVjdC50b3BcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogQHBhcmFtIHtWZWN0Mn0gdmVjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gZGltZW5zaW9uXG4gICAqIEByZXR1cm5zIHtEU0JvdW5kaW5nUmVjdH1cbiAgICovXG5cbiAgdmFyIHZlY3QycmVjdCA9IGZ1bmN0aW9uIHZlY3QycmVjdCh2ZWN0KSB7XG4gICAgdmFyIGRpbWVuc2lvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogdmVjdC54LFxuICAgICAgdG9wOiB2ZWN0LnksXG4gICAgICByaWdodDogdmVjdC54LFxuICAgICAgYm90dG9tOiB2ZWN0LnksXG4gICAgICB3aWR0aDogZGltZW5zaW9uLFxuICAgICAgaGVpZ2h0OiBkaW1lbnNpb25cbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5cbiAgICogQHJldHVybnMge1ZlY3QyfVxuICAgKi9cblxuICB2YXIgbnVtMnZlY3QgPSBmdW5jdGlvbiBudW0ydmVjdChuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IG4sXG4gICAgICB5OiBuXG4gICAgfTtcbiAgfTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIEFkZHMgZXZlbnQtbGlzdGVuZXJzIHRvIHRoZSBzZWxlY3RvckFyZWFcbiAgICogQHBhcmFtIHtEU0FyZWFbXX0gbm9kZXNcbiAgICogQHBhcmFtIHtEU01vZGlmaWNhdGlvbkNhbGxiYWNrfSBjYWxsYmFja1xuICAgKiBAcGFyYW0ge011dGF0aW9uT2JzZXJ2ZXJ9IG1vZGlmaWNhdGlvbk9ic2VydmVyXG4gICAqL1xuXG4gIHZhciBhZGRNb2RpZmljYXRpb25PYnNlcnZlcnMgPSAoZnVuY3Rpb24gKG5vZGVzLCBjYWxsYmFjaywgbW9kaWZpY2F0aW9uT2JzZXJ2ZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgY2FsbGJhY2spO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBjYWxsYmFjayk7XG4gICAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICAgIG1vZGlmaWNhdGlvbk9ic2VydmVyLm9ic2VydmUoZWwsIHtcbiAgICAgICAgY2hpbGRMaXN0OiBpICE9PSAwLFxuICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgYXJlYSBjYW4gc2Nyb2xsIG9yIG5vdFxuICAgKiBAcGFyYW0ge0RTQXJlYX0gYXJlYVxuICAgKiBAcmV0dXJuIHtib29sZWFufSBzY3JvbGwgWC9ZXG4gICAqL1xuXG4gIHZhciBjYW5TY3JvbGwgPSAoZnVuY3Rpb24gKGFyZWEpIHtcbiAgICB2YXIgc2Nyb2xsID0gZ2V0Q3VycmVudFNjcm9sbChhcmVhKTtcbiAgICBpZiAoc2Nyb2xsLnggfHwgc2Nyb2xsLnkpIHJldHVybiB0cnVlO1xuXG4gICAgaWYgKGFyZWEgaW5zdGFuY2VvZiBIVE1MRG9jdW1lbnQpIHtcbiAgICAgIGlmIChhcmVhLmJvZHkpIHJldHVybiAhIShhcmVhLmJvZHkuc2Nyb2xsVG9wID0gMSk7ZWxzZSByZXR1cm4gISEoYXJlYS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICEhKGFyZWEuc2Nyb2xsVG9wID0gMSk7XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgU2VsZWN0b3JBcmVhXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvckFyZWFDbGFzc1xuICAgKiBAcmV0dXJuIHtIVE1MRGl2RWxlbWVudH1cbiAgICovXG5cbiAgdmFyIGNyZWF0ZVNlbGVjdG9yQXJlYUVsZW1lbnQgPSAoZnVuY3Rpb24gKHNlbGVjdG9yQXJlYUNsYXNzKSB7XG4gICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICBub2RlLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgbm9kZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIG5vZGUuc3R5bGUuekluZGV4ID0gJzk5OTk5OTk5OTk5OTk5OTk5OSc7XG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKHNlbGVjdG9yQXJlYUNsYXNzKTtcbiAgICByZXR1cm4gbm9kZTtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHNlbGVjdG9yIG5vZGVcbiAgICogQHBhcmFtIHtib29sZWFufSBjdXN0b21TdHlsZXNcbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9XG4gICAqL1xuXG4gIHZhciBjcmVhdGVTZWxlY3RvckVsZW1lbnQgPSAoZnVuY3Rpb24gKGN1c3RvbVN0eWxlcykge1xuICAgIHZhciBzZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNlbGVjdG9yLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblxuICAgIGlmICghY3VzdG9tU3R5bGVzKSB7XG4gICAgICBzZWxlY3Rvci5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMCwgMCwgMjU1LCAwLjEpJztcbiAgICAgIHNlbGVjdG9yLnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgcmdiYSgwLCAwLCAyNTUsIDAuNDUpJztcbiAgICAgIHNlbGVjdG9yLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBzZWxlY3Rvci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnOyAvLyBmaXggZm9yIGlzc3VlICM4IChpZTExKylcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZWN0b3I7XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAgKiBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gICAqIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFsbCBjcmVkaXRzIHRvIFtUcmV5IEh1ZmZpbmVde0BsaW5rIGh0dHBzOi8vbGV2ZWx1cC5naXRjb25uZWN0ZWQuY29tL2RlYm91bmNlLWluLWphdmFzY3JpcHQtaW1wcm92ZS15b3VyLWFwcGxpY2F0aW9ucy1wZXJmb3JtYW5jZS01YjAxODU1ZTA4Nn1cbiAgICogQHBhcmFtIHsqfSBmdW5jXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0XG4gICAqIEByZXR1cm5zIHtEU01vZGlmaWNhdGlvbkNhbGxiYWNrfVxuICAgKi9cblxuICB2YXIgZGVib3VuY2UgPSAoZnVuY3Rpb24gKGZ1bmMsIHdhaXQpIHtcbiAgICB2YXIgdGltZW91dDsgLy8gVGhpcyBpcyB0aGUgZnVuY3Rpb24gdGhhdCBpcyByZXR1cm5lZCBhbmQgd2lsbCBiZSBleGVjdXRlZCBtYW55IHRpbWVzXG4gICAgLy8gV2Ugc3ByZWFkICguLi5hcmdzKSB0byBjYXB0dXJlIGFueSBudW1iZXIgb2YgcGFyYW1ldGVycyB3ZSB3YW50IHRvIHBhc3NcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGFmdGVyXG4gICAgICAvLyB0aGUgZGVib3VuY2UgdGltZSBoYXMgZWxhcHNlZFxuICAgICAgdmFyIGxhdGVyID0gZnVuY3Rpb24gbGF0ZXIoKSB7XG4gICAgICAgIC8vIG51bGwgdGltZW91dCB0byBpbmRpY2F0ZSB0aGUgZGVib3VuY2UgZW5kZWRcbiAgICAgICAgdGltZW91dCA9IG51bGw7IC8vIEV4ZWN1dGUgdGhlIGNhbGxiYWNrXG5cbiAgICAgICAgZnVuYy5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgICAgfTsgLy8gVGhpcyB3aWxsIHJlc2V0IHRoZSB3YWl0aW5nIGV2ZXJ5IGZ1bmN0aW9uIGV4ZWN1dGlvbi5cbiAgICAgIC8vIFRoaXMgaXMgdGhlIHN0ZXAgdGhhdCBwcmV2ZW50cyB0aGUgZnVuY3Rpb24gZnJvbVxuICAgICAgLy8gYmVpbmcgZXhlY3V0ZWQgYmVjYXVzZSBpdCB3aWxsIG5ldmVyIHJlYWNoIHRoZVxuICAgICAgLy8gaW5zaWRlIG9mIHRoZSBwcmV2aW91cyBzZXRUaW1lb3V0XG5cblxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOyAvLyBSZXN0YXJ0IHRoZSBkZWJvdW5jZSB3YWl0aW5nIHBlcmlvZC5cbiAgICAgIC8vIHNldFRpbWVvdXQgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSAoaXQgZGlmZmVycyBpbiB3ZWIgdnMgTm9kZSlcblxuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICB2YXIgZG9jdW1lbnRTY3JvbGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBfZG9jdW1lbnQkYm9keSwgX2RvY3VtZW50JGRvY3VtZW50RWxlLCBfZG9jdW1lbnQkYm9keTIsIF9kb2N1bWVudCRkb2N1bWVudEVsZTI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgeTogKChfZG9jdW1lbnQkYm9keSA9IGRvY3VtZW50LmJvZHkpID09PSBudWxsIHx8IF9kb2N1bWVudCRib2R5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZG9jdW1lbnQkYm9keS5zY3JvbGxUb3ApIHx8ICgoX2RvY3VtZW50JGRvY3VtZW50RWxlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSA9PT0gbnVsbCB8fCBfZG9jdW1lbnQkZG9jdW1lbnRFbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kb2N1bWVudCRkb2N1bWVudEVsZS5zY3JvbGxUb3ApIHx8IDAsXG4gICAgICB4OiAoKF9kb2N1bWVudCRib2R5MiA9IGRvY3VtZW50LmJvZHkpID09PSBudWxsIHx8IF9kb2N1bWVudCRib2R5MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RvY3VtZW50JGJvZHkyLnNjcm9sbExlZnQpIHx8ICgoX2RvY3VtZW50JGRvY3VtZW50RWxlMiA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2RvY3VtZW50JGRvY3VtZW50RWxlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RvY3VtZW50JGRvY3VtZW50RWxlMi5zY3JvbGxMZWZ0KSB8fCAwXG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB0b3AvbGVmdC9ib3R0b20vcmlnaHQvd2lkdGgvaGVpZ2h0XG4gICAqIHZhbHVlcyBvZiBhbiBhcmVhLiBJZiBhcmVhIGlzIGRvY3VtZW50IHRoZW4gZXZlcnl0aGluZ1xuICAgKiBleGNlcHQgdGhlIHNpemVzIHdpbGwgYmUgbnVsbGVkLlxuICAgKiBAcGFyYW0ge0RTQXJlYX0gYXJlYVxuICAgKiBAcGFyYW0ge251bWJlcn0gem9vbVxuICAgKiBAcmV0dXJucyB7RFNCb3VuZGluZ1JlY3R9XG4gICAqL1xuXG4gIHZhciBnZXRBcmVhUmVjdCA9IChmdW5jdGlvbiAoYXJlYSwgem9vbSkge1xuICAgIGlmIChhcmVhIGluc3RhbmNlb2YgRG9jdW1lbnQpIHJldHVybiB7XG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxuICAgIH07XG4gICAgdmFyIHJlY3QgPSBhcmVhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHJlY3QudG9wLFxuICAgICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgICAgYm90dG9tOiByZWN0LmJvdHRvbSxcbiAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0LFxuICAgICAgd2lkdGg6IChhcmVhLmNsaWVudFdpZHRoIHx8IHJlY3Qud2lkdGgpICogem9vbSxcbiAgICAgIGhlaWdodDogKGFyZWEuY2xpZW50SGVpZ2h0IHx8IHJlY3QuaGVpZ2h0KSAqIHpvb21cbiAgICB9O1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIEBwYXJhbSB7RFNBcmVhfSBbYXJlYV1cbiAgICogQHJldHVybiB7VmVjdDJ9IHNjcm9sbCBYL1lcbiAgICovXG5cbiAgdmFyIGdldEN1cnJlbnRTY3JvbGwgPSAoZnVuY3Rpb24gKGFyZWEpIHtcbiAgICBpZiAoIWFyZWEgfHwgYXJlYSBpbnN0YW5jZW9mIERvY3VtZW50KSByZXR1cm4gZG9jdW1lbnRTY3JvbGwoKTtcbiAgICByZXR1cm4ge1xuICAgICAgeDogYXJlYS5zY3JvbGxMZWZ0ID49IDAgPyBhcmVhLnNjcm9sbExlZnQgOiBkb2N1bWVudFNjcm9sbCgpLngsXG4gICAgICB5OiBhcmVhLnNjcm9sbFRvcCA+PSAwID8gYXJlYS5zY3JvbGxUb3AgOiBkb2N1bWVudFNjcm9sbCgpLnlcbiAgICB9O1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGVkZ2VzIHRoYXQgYW4gZWxlbWVudCBpcyBvdmVyZmxvd2luZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gcFxuICAgKiBAcGFyYW0ge0RTQm91bmRpbmdSZWN0fSBwLmVsZW1lbnRSZWN0XG4gICAqIEBwYXJhbSB7RFNCb3VuZGluZ1JlY3R9IHAuY29udGFpbmVyUmVjdFxuICAgKiBAcGFyYW0ge1ZlY3QyfSBbcC50b2xlcmFuY2VdXG4gICAqIEByZXR1cm5zIHtEU0VkZ2VzfVxuICAgKi9cblxuICB2YXIgZ2V0T3ZlcmZsb3dFZGdlcyA9IChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBlbGVtZW50UmVjdCA9IF9yZWYuZWxlbWVudFJlY3QsXG4gICAgICAgIGNvbnRhaW5lclJlY3QgPSBfcmVmLmNvbnRhaW5lclJlY3QsXG4gICAgICAgIF9yZWYkdG9sZXJhbmNlID0gX3JlZi50b2xlcmFuY2UsXG4gICAgICAgIHRvbGVyYW5jZSA9IF9yZWYkdG9sZXJhbmNlID09PSB2b2lkIDAgPyB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH0gOiBfcmVmJHRvbGVyYW5jZTtcbiAgICB2YXIgZWRnZXMgPSBbXTtcbiAgICBpZiAoZWxlbWVudFJlY3QudG9wIC0gdG9sZXJhbmNlLnkgPCBjb250YWluZXJSZWN0LnRvcCkgZWRnZXMucHVzaCgndG9wJyk7XG4gICAgaWYgKGVsZW1lbnRSZWN0LmxlZnQgLSB0b2xlcmFuY2UueCA8IGNvbnRhaW5lclJlY3QubGVmdCkgZWRnZXMucHVzaCgnbGVmdCcpO1xuICAgIGlmIChlbGVtZW50UmVjdC5ib3R0b20gKyB0b2xlcmFuY2UueSA+IGNvbnRhaW5lclJlY3QuYm90dG9tKSBlZGdlcy5wdXNoKCdib3R0b20nKTtcbiAgICBpZiAoZWxlbWVudFJlY3QucmlnaHQgKyB0b2xlcmFuY2UueSA+IGNvbnRhaW5lclJlY3QucmlnaHQpIGVkZ2VzLnB1c2goJ3JpZ2h0Jyk7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKiBAdHlwZSB7RFNFZGdlc30gKi9cbiAgICAgIGVkZ2VzXG4gICAgKTtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnNvciB4LCB5IHBvc2l0aW9uIGJhc2VkIG9uIGV2ZW50IG9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0gcFxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR8VG91Y2h9IHAuZXZlbnRcbiAgICogQHJldHVybiB7VmVjdDJ9IGN1cnNvciBYL1kgcG9zaXRpb25cbiAgICovXG5cbiAgdmFyIGdldFBvaW50ZXJQb3MgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZXZlbnQgPSBfcmVmLmV2ZW50O1xuICAgIHJldHVybiB7XG4gICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgeTogZXZlbnQuY2xpZW50WVxuICAgIH07XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogUmVsaWFibHkgcmV0dXJucyB0aGUgZXhhY3QgeCx5LHcsaCBwb3NpdGlvbnMgb2YgdGhlIHNlbGVjdG9yIGVsZW1lbnRcbiAgICogQHBhcmFtIHt7IHNjcm9sbEFtb3VudDpWZWN0MiwgaW5pdGlhbFBvaW50ZXJQb3M6VmVjdDIsIHBvaW50ZXJQb3M6VmVjdDIgfX0gcFxuICAgKiBAcmV0dXJucyB7e2xlZnQ6bnVtYmVyLHRvcDpudW1iZXIsd2lkdGg6bnVtYmVyLGhlaWdodDpudW1iZXJ9fVxuICAgKi9cblxuICB2YXIgZ2V0U2VsZWN0b3JQb3NpdGlvbiA9IChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBzY3JvbGxBbW91bnQgPSBfcmVmLnNjcm9sbEFtb3VudCxcbiAgICAgICAgaW5pdGlhbFBvaW50ZXJQb3MgPSBfcmVmLmluaXRpYWxQb2ludGVyUG9zLFxuICAgICAgICBwb2ludGVyUG9zID0gX3JlZi5wb2ludGVyUG9zO1xuXG4gICAgLyoqIGNoZWNrIGZvciBkaXJlY3Rpb25cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgcXVpdGUgY29tcGxpY2F0ZWQsIHNvIGFsc28gcXVpdGUgY29tcGxpY2F0ZWQgdG8gZXhwbGFpbi4gTGVtbWXigJkgdHJ5OlxuICAgICAqXG4gICAgICogUHJvYmxlbSAjMTpcbiAgICAgKiBTYWRseSBpbiBIVE1MIHdlIGNhbiBub3QgaGF2ZSBuZWdhdGl2ZSBzaXplcy5cbiAgICAgKiBzbyBpZiB3ZSB3YW50IHRvIHNjYWxlIG91ciBlbGVtZW50IDEwcHggdG8gdGhlIHJpZ2h0IHRoZW4gaXQgaXMgZWFzeSxcbiAgICAgKiB3ZSBqdXN0IGhhdmUgdG8gYWRkICsxMHB4IHRvIHRoZSB3aWR0aC4gQnV0IGlmIHdlIHdhbnQgdG8gc2NhbGUgdGhlIGVsZW1lbnRcbiAgICAgKiAtMTBweCB0byB0aGUgbGVmdCB0aGVuIHRoaW5ncyBiZWNvbWUgbW9yZSBjb21wbGljYXRlZCwgd2UgaGF2ZSB0byBtb3ZlXG4gICAgICogdGhlIGVsZW1lbnQgLTEwcHggdG8gdGhlIGxlZnQgb24gdGhlIHggYXhpcyBhbmQgYWxzbyBzY2FsZSB0aGUgZWxlbWVudFxuICAgICAqIGJ5ICsxMHB4IHdpZHRoIHRvIGZha2UgYSBuZWdhdGl2ZSBzaXppbmcuXG4gICAgICpcbiAgICAgKiBPbmUgc29sdXRpb24gdG8gdGhpcyBwcm9ibGVtIGlzIHVzaW5nIGNzcy10cmFuc2Zvcm1zIHNjYWxlKCkgd2l0aFxuICAgICAqIHRyYW5zZm9ybS1vcmlnaW4gb2YgdG9wIGxlZnQuIEJVVCB3ZSBjYW7igJl0IHVzZSB0aGlzIHNpbmNlIGl0IHdpbGwgc2l6ZVxuICAgICAqIGV2ZXJ5dGhpbmcsIHRoZW4gd2hlbiB5b3VyIGVsZW1lbnQgaGFzIGEgYm9yZGVyIGZvciBleGFtcGxlLCB0aGUgYm9yZGVyIHdpbGxcbiAgICAgKiBnZXQgaW5hbmVseSBodWdlLiBBbHNvIHRyYW5zZm9ybXMgYXJlIG5vdCB3aWRlbHkgc3VwcG9ydGVkIGluIElFLlxuICAgICAqXG4gICAgICogRXhhbXBsZSAjMTpcbiAgICAgKiBVbmZvcnR1bmF0ZWx5LCB0aGluZ3MgZ2V0IGV2ZW4gbW9yZSBjb21wbGljYXRlZCB3aGVuIHdlIGFyZSBpbnNpZGUgYSBzY3JvbGwtYWJsZVxuICAgICAqIERJVi4gVGhlbiwgbGV04oCZcyBzYXkgd2Ugc2Nyb2xsIHRvIHRoZSByaWdodCBieSAxMHB4IGFuZCBtb3ZlIHRoZSBjdXJzb3IgcmlnaHQgYnkgNXB4IGluIG91clxuICAgICAqIGNoZWNrcyB3ZSBoYXZlIHRvIHN1YnRyYWN0IDEwcHggZnJvbSB0aGUgaW5pdGlhbGN1cnNvciBwb3NpdGlvbiBpbiBvdXIgY2hlY2tcbiAgICAgKiAoc2luY2UgdGhlIGluaXRpYWwgcG9zaXRpb24gaXMgbW92ZWQgdG8gdGhlIGxlZnQgYnkgMTBweCkgc28gaW4gb3VyIGV4YW1wbGU6XG4gICAgICogMS4gcG9pbnRlclBvcy54ICg1KSA+IGluaXRpYWxQb2ludGVyUG9zLnggKDApIC0gc2Nyb2xsQW1vdW50LnggKDEwKSA9PT0gNSA+IC0xMCA9PT0gdHJ1ZVxuICAgICAqIHRoZW4gc2V0IHRoZSB4IHBvc2l0aW9uIHRvIHRoZSBjdXJzb3JzIHN0YXJ0IHBvc2l0aW9uXG4gICAgICogc2VsZWN0b3JQb3MueCA9IGluaXRpYWxQb2ludGVyUG9zLnggKDApIC0gc2Nyb2xsQW1vdW50LnggKDEwKSA9PT0gMTAgLy8gMi5cbiAgICAgKiB0aGVuIHdlIGNhbiBjYWxjdWxhdGUgdGhlIGVsZW1lbnRzIHdpZHRoLCB3aGljaCBpc1xuICAgICAqIHRoZSBuZXcgY3Vyc29yIHBvc2l0aW9uIG1pbnVzIHRoZSBpbml0aWFsIG9uZSBwbHVzIHRoZSBzY3JvbGwgYW1vdW50LCBzbyBpbiBvdXIgZXhhbXBsZTpcbiAgICAgKiAzLiBzZWxlY3RvclBvcy53ID0gcG9pbnRlclBvcy54ICg1KSAtIGluaXRpYWxQb2ludGVyUG9zLnggKDApICsgc2Nyb2xsQW1vdW50LnggKDEwKSA9PT0gMTU7XG4gICAgICpcbiAgICAgKiBsZXTigJlzIHNheSBhZnRlciB0aGF0IG1vdmVtZW50IHdlIG5vdyBzY3JvbGwgMjBweCB0byB0aGUgbGVmdCBhbmQgbW92ZSBvdXIgY3Vyc29yIGJ5IDMwcHggdG8gdGhlIGxlZnQ6XG4gICAgICogMWIuIHBvaW50ZXJQb3MueCAoLTMwKSA+IGluaXRpYWxQb2ludGVyUG9zLnggKDApIC0gc2Nyb2xsQW1vdW50LnggKC0yMCkgPT09IC0zMCA8IC0tMjAgPT09IC0zMCA8ICsyMCA9PT0gZmFsc2U7XG4gICAgICogMmIuIHNlbGVjdG9yUG9zLnggPSBwb2ludGVyUG9zLnggKC0zMCkgPT09IC0zMDsgbW92ZSBsZWZ0IHBvc2l0aW9uIHRvIGN1cnNvciAoZm9yIG1vcmUgaW5mbyBzZWUgUHJvYmxlbSAjMSlcbiAgICAgKiAzYi4gc2VsZWN0b3JQb3MudyA9IGluaXRpYWxQb2ludGVyUG9zLnggKDApIC0gcG9pbnRlclBvcy54ICgtMzApIC0gc2Nyb2xsQW1vdW50LnggKC0yMCkgPT09IDAtLTMwLS0yMCA9PT0gMCszMCsyMCA9PT0gNTA7ICAvLyBzY2FsZSB3aWR0aCB0byBvcmlnaW5hbCBsZWZ0IHBvc2l0aW9uIChmb3IgbW9yZSBpbmZvIHNlZSBQcm9ibGVtICMxKVxuICAgICAqXG4gICAgICogc2FtZSB0aGluZyBoYXMgdG8gYmUgZG9uZSBmb3IgdG9wL2JvdHRvbVxuICAgICAqXG4gICAgICogSSBob3BlIHRoYXQgbWFrZXMgc2Vuc2UuIFRyeSBzdHVmZiBvdXQgYW5kIHBsYXkgYXJvdW5kIHdpdGggdmFyaWFibGVzIHRvIGdldCBhIGhhbmcgb2YgaXQuXG4gICAgICovXG4gICAgdmFyIHNlbGVjdG9yUG9zID0ge307IC8vIHJpZ2h0XG5cbiAgICBpZiAocG9pbnRlclBvcy54ID4gaW5pdGlhbFBvaW50ZXJQb3MueCAtIHNjcm9sbEFtb3VudC54KSB7XG4gICAgICAvLyAxLlxuICAgICAgc2VsZWN0b3JQb3MubGVmdCA9IGluaXRpYWxQb2ludGVyUG9zLnggLSBzY3JvbGxBbW91bnQueDsgLy8gMi5cblxuICAgICAgc2VsZWN0b3JQb3Mud2lkdGggPSBwb2ludGVyUG9zLnggLSBpbml0aWFsUG9pbnRlclBvcy54ICsgc2Nyb2xsQW1vdW50Lng7IC8vIDMuXG4gICAgICAvLyBsZWZ0XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIDFiLlxuICAgICAgc2VsZWN0b3JQb3MubGVmdCA9IHBvaW50ZXJQb3MueDsgLy8gMmIuXG5cbiAgICAgIHNlbGVjdG9yUG9zLndpZHRoID0gaW5pdGlhbFBvaW50ZXJQb3MueCAtIHBvaW50ZXJQb3MueCAtIHNjcm9sbEFtb3VudC54OyAvLyAzYi5cbiAgICB9IC8vIGJvdHRvbVxuXG5cbiAgICBpZiAocG9pbnRlclBvcy55ID4gaW5pdGlhbFBvaW50ZXJQb3MueSAtIHNjcm9sbEFtb3VudC55KSB7XG4gICAgICBzZWxlY3RvclBvcy50b3AgPSBpbml0aWFsUG9pbnRlclBvcy55IC0gc2Nyb2xsQW1vdW50Lnk7XG4gICAgICBzZWxlY3RvclBvcy5oZWlnaHQgPSBwb2ludGVyUG9zLnkgLSBpbml0aWFsUG9pbnRlclBvcy55ICsgc2Nyb2xsQW1vdW50Lnk7IC8vIHRvcFxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RvclBvcy50b3AgPSBwb2ludGVyUG9zLnk7XG4gICAgICBzZWxlY3RvclBvcy5oZWlnaHQgPSBpbml0aWFsUG9pbnRlclBvcy55IC0gcG9pbnRlclBvcy55IC0gc2Nyb2xsQW1vdW50Lnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGVjdG9yUG9zO1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIEBwYXJhbSB7RFNFbGVtZW50fSBlbGVtZW50XG4gICAqIEByZXR1cm4ge1ZlY3QyfVxuICAgKi9cblxuICB2YXIgZ2V0Q29tcHV0ZWRUcmFuc2xhdGVQb3NpdGlvbnMgPSBmdW5jdGlvbiBnZXRDb21wdXRlZFRyYW5zbGF0ZVBvc2l0aW9ucyhlbGVtZW50KSB7XG4gICAgdmFyIHBvc2l0aW9uID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuICAgIHZhciBjb21wdXRlZCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGlmICghY29tcHV0ZWQudHJhbnNmb3JtIHx8IGNvbXB1dGVkLnRyYW5zZm9ybSA9PT0gJ25vbmUnKSByZXR1cm4gcG9zaXRpb247XG5cbiAgICBpZiAoY29tcHV0ZWQudHJhbnNmb3JtLmluZGV4T2YoJzNkJykgPj0gMCkge1xuICAgICAgdmFyIG1hdGNoID0gY29tcHV0ZWQudHJhbnNmb3JtLnRyaW0oKS5tYXRjaCgvbWF0cml4M2RcXCgoLio/KVxcKS8pO1xuXG4gICAgICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoKSB7XG4gICAgICAgIHZhciBfbWF0Y2gkO1xuXG4gICAgICAgIHZhciB2YWx1ZXMgPSAoX21hdGNoJCA9IG1hdGNoWzFdKSA9PT0gbnVsbCB8fCBfbWF0Y2gkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWF0Y2gkLnNwbGl0KCcsJyk7XG4gICAgICAgIHBvc2l0aW9uLnggPSBwYXJzZUludCh2YWx1ZXNbMTJdKSB8fCAwO1xuICAgICAgICBwb3NpdGlvbi55ID0gcGFyc2VJbnQodmFsdWVzWzEzXSkgfHwgMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX21hdGNoID0gY29tcHV0ZWQudHJhbnNmb3JtLnRyaW0oKS5tYXRjaCgvbWF0cml4XFwoKC4qPylcXCkvKTtcblxuICAgICAgaWYgKF9tYXRjaCAmJiBfbWF0Y2gubGVuZ3RoKSB7XG4gICAgICAgIHZhciBfbWF0Y2gkMjtcblxuICAgICAgICB2YXIgX3ZhbHVlcyA9IChfbWF0Y2gkMiA9IF9tYXRjaFsxXSkgPT09IG51bGwgfHwgX21hdGNoJDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tYXRjaCQyLnNwbGl0KCcsJyk7XG5cbiAgICAgICAgcG9zaXRpb24ueCA9IHBhcnNlSW50KF92YWx1ZXNbNF0pIHx8IDA7XG4gICAgICAgIHBvc2l0aW9uLnkgPSBwYXJzZUludChfdmFsdWVzWzVdKSB8fCAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQHBhcmFtIHtEU0VsZW1lbnR9IGVsZW1lbnRcbiAgICogQHJldHVybiB7VmVjdDJ9XG4gICAqL1xuXG5cbiAgdmFyIGdldFRyYW5zbGF0ZWRQb3NpdGlvbnMgPSBmdW5jdGlvbiBnZXRUcmFuc2xhdGVkUG9zaXRpb25zKGVsZW1lbnQpIHtcbiAgICB2YXIgdHJhbnNmb3JtID0gZWxlbWVudC5zdHlsZS50cmFuc2Zvcm07XG4gICAgaWYgKCF0cmFuc2Zvcm0gfHwgdHJhbnNmb3JtLmluZGV4T2YoJ3RyYW5zbGF0ZScpIDwgMCkgcmV0dXJuIGdldENvbXB1dGVkVHJhbnNsYXRlUG9zaXRpb25zKGVsZW1lbnQpO1xuICAgIHZhciBwb3NpdGlvbiA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgICB2YXIgbWF0Y2ggPSB0cmFuc2Zvcm0udHJpbSgpLm1hdGNoKC90cmFuc2xhdGVbM2REXSo/XFwoLio/XFwpLyk7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHZhciBfbWF0Y2gkMztcblxuICAgICAgdmFyIHNwbGl0ID0gKF9tYXRjaCQzID0gbWF0Y2hbMF0pID09PSBudWxsIHx8IF9tYXRjaCQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWF0Y2gkMy5zcGxpdCgnKCcpO1xuXG4gICAgICBpZiAoc3BsaXQpIHtcbiAgICAgICAgdmFyIF9zcGxpdCQ7XG5cbiAgICAgICAgdmFyIHZhbHVlcyA9IChfc3BsaXQkID0gc3BsaXRbMV0pID09PSBudWxsIHx8IF9zcGxpdCQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zcGxpdCQuc3BsaXQoJywnKTtcbiAgICAgICAgcG9zaXRpb24ueCA9IHBhcnNlSW50KHZhbHVlc1swXSkgfHwgMDtcbiAgICAgICAgcG9zaXRpb24ueSA9IHBhcnNlSW50KHZhbHVlc1sxXSkgfHwgMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXBvc2l0aW9uLnggJiYgIXBvc2l0aW9uLngpIHJldHVybiBnZXRDb21wdXRlZFRyYW5zbGF0ZVBvc2l0aW9ucyhlbGVtZW50KTtcbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH07XG4gIC8qKlxuICAgKiBAcGFyYW0ge0RTRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcmV0dXJuIHtWZWN0Mn1cbiAgICovXG5cblxuICB2YXIgZ2V0VG9wTGVmdFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0VG9wTGVmdFBvc2l0aW9uKGVsZW1lbnQpIHtcbiAgICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuICAgIHZhciBwb3NpdGlvbiA9IHtcbiAgICAgIHg6IHBhcnNlSW50KHN0eWxlLmxlZnQpIHx8IDAsXG4gICAgICB5OiBwYXJzZUludChzdHlsZS50b3ApIHx8IDBcbiAgICB9OyAvLyBpbml0aWFsIHBvc2l0aW9uc1xuXG4gICAgaWYgKCFwb3NpdGlvbi54ICYmICFwb3NpdGlvbi54KSB7XG4gICAgICB2YXIgY29tcHV0ZWQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHBhcnNlSW50KGNvbXB1dGVkLmxlZnQpIHx8IDAsXG4gICAgICAgIHk6IHBhcnNlSW50KGNvbXB1dGVkLnRvcCkgfHwgMFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBYIGFuZCBZIGNvb3JkaW5hdGVzIGJhc2VkIG9uIHN0eWxlc1xuICAgKiBDYW4gaGFuZGxlIHRyYW5zbGF0ZSBhbmQgdG9wL2xlZnRcbiAgICogQHBhcmFtIHtEU0VsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtib29sZWFufSBbdXNlVHJhbnNsYXRlXVxuICAgKiBAcmV0dXJuIHtWZWN0Mn1cbiAgICovXG5cblxuICB2YXIgZ2V0U3R5bGVQb3NpdGlvbiA9IChmdW5jdGlvbiAoZWxlbWVudCwgdXNlVHJhbnNsYXRlKSB7XG4gICAgaWYgKHVzZVRyYW5zbGF0ZSkgcmV0dXJuIGdldFRyYW5zbGF0ZWRQb3NpdGlvbnMoZWxlbWVudCk7ZWxzZSByZXR1cm4gZ2V0VG9wTGVmdFBvc2l0aW9uKGVsZW1lbnQpO1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIHB1c2hlcyBlbGVtZW50IGJhY2sgdGhlIG92ZXJmbG93IGFtb3VudFxuICAgKiAodG9wIC0gdG9wIGdpdmVzIG92ZXJmbG93LCB0aGVuIG5ldyBwb3NpdGlvbiBwdXNoZWQgYmFjayBieSBvdmVyZmxvdylcbiAgICogQHBhcmFtIHtPYmplY3R9IHBcbiAgICogQHBhcmFtIHtEU0VsZW1lbnR9IHAuZWxlbWVudFxuICAgKiBAcGFyYW0ge0RTRWRnZXN9IHAuZWRnZXNcbiAgICogQHBhcmFtIHtEU0JvdW5kaW5nUmVjdH0gcC5lbGVtZW50UmVjdFxuICAgKiBAcGFyYW0ge0RTQm91bmRpbmdSZWN0fSBwLmNvbnRhaW5lclJlY3RcbiAgICogQHBhcmFtIHtWZWN0Mn0gcC5lbGVtZW50UG9zXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcC51c2VUcmFuc2Zvcm1cbiAgICovXG5cbiAgdmFyIGhhbmRsZUVsZW1lbnRPdmVyZmxvdyA9IChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBlbGVtZW50ID0gX3JlZi5lbGVtZW50LFxuICAgICAgICBlZGdlcyA9IF9yZWYuZWRnZXMsXG4gICAgICAgIGVsZW1lbnRSZWN0ID0gX3JlZi5lbGVtZW50UmVjdCxcbiAgICAgICAgY29udGFpbmVyUmVjdCA9IF9yZWYuY29udGFpbmVyUmVjdCxcbiAgICAgICAgZWxlbWVudFBvcyA9IF9yZWYuZWxlbWVudFBvcyxcbiAgICAgICAgdXNlVHJhbnNmb3JtID0gX3JlZi51c2VUcmFuc2Zvcm07XG5cbiAgICBpZiAoZWRnZXMuaW5jbHVkZXMoJ3RvcCcpKSB7XG4gICAgICBzZXRTdHlsZVBvc2l0aW9uKGVsZW1lbnQsIHtcbiAgICAgICAgeTogZWxlbWVudFBvcy55ICsgY29udGFpbmVyUmVjdC50b3AgLSBlbGVtZW50UmVjdC50b3AsXG4gICAgICAgIHg6IGVsZW1lbnRQb3MueFxuICAgICAgfSwgdXNlVHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBpZiAoZWRnZXMuaW5jbHVkZXMoJ2xlZnQnKSkge1xuICAgICAgc2V0U3R5bGVQb3NpdGlvbihlbGVtZW50LCB7XG4gICAgICAgIHk6IGVsZW1lbnRQb3MueSxcbiAgICAgICAgeDogZWxlbWVudFBvcy54ICsgY29udGFpbmVyUmVjdC5sZWZ0IC0gZWxlbWVudFJlY3QubGVmdFxuICAgICAgfSwgdXNlVHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBpZiAoZWRnZXMuaW5jbHVkZXMoJ2JvdHRvbScpKSB7XG4gICAgICBzZXRTdHlsZVBvc2l0aW9uKGVsZW1lbnQsIHtcbiAgICAgICAgeTogZWxlbWVudFBvcy55ICsgY29udGFpbmVyUmVjdC5ib3R0b20gLSBlbGVtZW50UmVjdC5ib3R0b20sXG4gICAgICAgIHg6IGVsZW1lbnRQb3MueFxuICAgICAgfSwgdXNlVHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBpZiAoZWRnZXMuaW5jbHVkZXMoJ3JpZ2h0JykpIHtcbiAgICAgIHNldFN0eWxlUG9zaXRpb24oZWxlbWVudCwge1xuICAgICAgICB5OiBlbGVtZW50UG9zLnksXG4gICAgICAgIHg6IGVsZW1lbnRQb3MueCArIGNvbnRhaW5lclJlY3QucmlnaHQgLSBlbGVtZW50UmVjdC5yaWdodFxuICAgICAgfSwgdXNlVHJhbnNmb3JtKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogRml4OiBzb21lIGVsZW1lbnRzIGhhdmUgdG8gaGF2ZSBhIHNwZWNpYWwgcG9zaXRpb24gYXR0cmlidXRlIGZvciBjYWxjdWxhdGlvbnNcbiAgICogQHBhcmFtIHtPYmplY3R9IHBcbiAgICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBwLmNvbXB1dGVkU3R5bGVcbiAgICogQHBhcmFtIHtEU0FyZWF9IHAubm9kZVxuICAgKi9cblxuICB2YXIgaGFuZGxlRWxlbWVudFBvc2l0aW9uQXR0cmlidXRlID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBfcmVmLmNvbXB1dGVkU3R5bGUsXG4gICAgICAgIG5vZGUgPSBfcmVmLm5vZGU7XG4gICAgdmFyIHBvc2l0aW9uID0gY29tcHV0ZWRTdHlsZS5wb3NpdGlvbjtcbiAgICB2YXIgaXNQb3NpdGlvbmVkID0gcG9zaXRpb24gPT09ICdhYnNvbHV0ZScgfHwgcG9zaXRpb24gPT09ICdyZWxhdGl2ZScgfHwgcG9zaXRpb24gPT09ICdmaXhlZCc7XG4gICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIEhUTUxEb2N1bWVudCkgJiYgIWlzUG9zaXRpb25lZCkgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogQHR5cGVkZWYge2Z1bmN0aW9ufSBTY3JvbGxDYWxsYmFja1xuICAgKiBAcHJvcGVydHkge0FycmF5LjwndG9wJ3wnYm90dG9tJ3wnbGVmdCd8J3JpZ2h0J3x1bmRlZmluZWQ+fSBkaXJlY3Rpb25zXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtdWx0aXBsaWVyXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcC5rZXkgdGhlIGtleWJvYXJkIGtleSB0aGF0IHdhcyBwcmVzc2VkXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcC5zaGlmdEtleVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHAuY2FuU2Nyb2xsXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwLmtleWJvYXJkRHJhZ1NwZWVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwLnpvb21cbiAgICogQHBhcmFtIHtTY3JvbGxDYWxsYmFja30gcC5zY3JvbGxDYWxsYmFja1xuICAgKiBAcGFyYW0ge1ZlY3QyfSBwLnNjcm9sbERpZmZcbiAgICogQHBhcmFtIHtEU0RyYWdLZXlzfSBwLmRyYWdLZXlzXG4gICAqIEByZXR1cm5zIHtWZWN0Mn1cbiAgICovXG5cbiAgdmFyIGhhbmRsZUtleWJvYXJkRHJhZ1Bvc0RpZmZlcmVuY2UgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgc2hpZnRLZXkgPSBfcmVmLnNoaWZ0S2V5LFxuICAgICAgICBrZXlib2FyZERyYWdTcGVlZCA9IF9yZWYua2V5Ym9hcmREcmFnU3BlZWQsXG4gICAgICAgIHpvb20gPSBfcmVmLnpvb20sXG4gICAgICAgIGtleSA9IF9yZWYua2V5LFxuICAgICAgICBkcmFnS2V5cyA9IF9yZWYuZHJhZ0tleXMsXG4gICAgICAgIHNjcm9sbERpZmYgPSBfcmVmLnNjcm9sbERpZmYsXG4gICAgICAgIGNhblNjcm9sbCA9IF9yZWYuY2FuU2Nyb2xsLFxuICAgICAgICBzY3JvbGxDYWxsYmFjayA9IF9yZWYuc2Nyb2xsQ2FsbGJhY2s7XG4gICAgdmFyIHBvc0RpcmVjdGlvbiA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgICB2YXIgaW5jcmVhc2UgPSBzaGlmdEtleSA/IGtleWJvYXJkRHJhZ1NwZWVkICogNCAqIHpvb20gOiBrZXlib2FyZERyYWdTcGVlZCAqIHpvb207XG5cbiAgICBpZiAoZHJhZ0tleXMubGVmdC5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICBwb3NEaXJlY3Rpb24ueCA9IHNjcm9sbERpZmYueCB8fCAtaW5jcmVhc2U7XG4gICAgICBpZiAoIXNoaWZ0S2V5ICYmICFzY3JvbGxEaWZmLnggJiYgY2FuU2Nyb2xsKSBzY3JvbGxDYWxsYmFjayhbJ2xlZnQnXSwga2V5Ym9hcmREcmFnU3BlZWQpO1xuICAgIH1cblxuICAgIGlmIChkcmFnS2V5cy5yaWdodC5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICBwb3NEaXJlY3Rpb24ueCA9IHNjcm9sbERpZmYueCB8fCBpbmNyZWFzZTtcbiAgICAgIGlmICghc2hpZnRLZXkgJiYgIXNjcm9sbERpZmYueCAmJiBjYW5TY3JvbGwpIHNjcm9sbENhbGxiYWNrKFsncmlnaHQnXSwga2V5Ym9hcmREcmFnU3BlZWQpO1xuICAgIH1cblxuICAgIGlmIChkcmFnS2V5cy51cC5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICBwb3NEaXJlY3Rpb24ueSA9IHNjcm9sbERpZmYueSB8fCAtaW5jcmVhc2U7XG4gICAgICBpZiAoIXNoaWZ0S2V5ICYmICFzY3JvbGxEaWZmLnkgJiYgY2FuU2Nyb2xsKSBzY3JvbGxDYWxsYmFjayhbJ3RvcCddLCBrZXlib2FyZERyYWdTcGVlZCk7XG4gICAgfVxuXG4gICAgaWYgKGRyYWdLZXlzLmRvd24uaW5jbHVkZXMoa2V5KSkge1xuICAgICAgcG9zRGlyZWN0aW9uLnkgPSBzY3JvbGxEaWZmLnkgfHwgaW5jcmVhc2U7XG4gICAgICBpZiAoIXNoaWZ0S2V5ICYmICFzY3JvbGxEaWZmLnkgJiYgY2FuU2Nyb2xsKSBzY3JvbGxDYWxsYmFjayhbJ2JvdHRvbSddLCBrZXlib2FyZERyYWdTcGVlZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvc0RpcmVjdGlvbjtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBMb2dpYyB3aGVuIGFuIGVsZW1lbnQgaXMgc2VsZWN0ZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IHBcbiAgICogQHBhcmFtIHtEU0VsZW1lbnR9IHAuZWxlbWVudFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHAuZm9yY2VcbiAgICogQHBhcmFtIHtib29sZWFufSBwLm11bHRpU2VsZWN0aW9uVG9nZ2xlXG4gICAqIEBwYXJhbSB7U2V0fSBwLlNlbGVjdGVkU2V0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwLmhvdmVyQ2xhc3NOYW1lXG4gICAqL1xuXG4gIHZhciBoYW5kbGVTZWxlY3Rpb24gPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZWxlbWVudCA9IF9yZWYuZWxlbWVudCxcbiAgICAgICAgZm9yY2UgPSBfcmVmLmZvcmNlLFxuICAgICAgICBtdWx0aVNlbGVjdGlvblRvZ2dsZSA9IF9yZWYubXVsdGlTZWxlY3Rpb25Ub2dnbGUsXG4gICAgICAgIFNlbGVjdGVkU2V0ID0gX3JlZi5TZWxlY3RlZFNldCxcbiAgICAgICAgaG92ZXJDbGFzc05hbWUgPSBfcmVmLmhvdmVyQ2xhc3NOYW1lO1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhob3ZlckNsYXNzTmFtZSkgJiYgIWZvcmNlKSByZXR1cm47XG4gICAgaWYgKCFTZWxlY3RlZFNldC5oYXMoZWxlbWVudCkpIFNlbGVjdGVkU2V0LmFkZChlbGVtZW50KTtlbHNlIGlmIChtdWx0aVNlbGVjdGlvblRvZ2dsZSkgU2VsZWN0ZWRTZXRbXCJkZWxldGVcIl0oZWxlbWVudCk7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGhvdmVyQ2xhc3NOYW1lKTtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBMb2dpYyB3aGVuIGFuIGVsZW1lbnQgaXMgZGUtc2VsZWN0ZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IHBcbiAgICogQHBhcmFtIHtEU0VsZW1lbnR9IHAuZWxlbWVudFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHAuZm9yY2VcbiAgICogQHBhcmFtIHtTZXR9IHAuU2VsZWN0ZWRTZXRcbiAgICogQHBhcmFtIHtTZXR9IHAuUHJldlNlbGVjdGVkU2V0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwLmhvdmVyQ2xhc3NOYW1lXG4gICAqL1xuXG4gIHZhciBoYW5kbGVVblNlbGVjdGlvbiA9IChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBlbGVtZW50ID0gX3JlZi5lbGVtZW50LFxuICAgICAgICBmb3JjZSA9IF9yZWYuZm9yY2UsXG4gICAgICAgIFNlbGVjdGVkU2V0ID0gX3JlZi5TZWxlY3RlZFNldCxcbiAgICAgICAgUHJldlNlbGVjdGVkU2V0ID0gX3JlZi5QcmV2U2VsZWN0ZWRTZXQsXG4gICAgICAgIGhvdmVyQ2xhc3NOYW1lID0gX3JlZi5ob3ZlckNsYXNzTmFtZTtcbiAgICBpZiAoIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGhvdmVyQ2xhc3NOYW1lKSAmJiAhZm9yY2UpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgaW5TZWxlY3Rpb24gPSBTZWxlY3RlZFNldC5oYXMoZWxlbWVudCk7XG4gICAgdmFyIGluUHJldlNlbGVjdGlvbiA9IFByZXZTZWxlY3RlZFNldC5oYXMoZWxlbWVudCk7XG4gICAgLyoqXG4gICAgICogU3BlY2lhbCBmb3IgaXNzdWUgIzkuXG4gICAgICogaWYgYSBtdWx0aS1zZWxlY3Qta2V5IGlzIHByZXNzZWQsIGRzICdyZW1lbWJlcnMnIHRoZSBsYXN0IHNlbGVjdGlvbiBhbmQgcmV2ZXJ0c1xuICAgICAqIHRvIHRoYXQgc3RhdGUgaWYgdGhlIHNlbGVjdGlvbiBpcyBub3Qga2VwdCwgdG8gbWltaWMgdGhlIG5hdHVyYWwgT1MgYmVoYXZpb3VyXG4gICAgICogPSBpZiBpdGVtIHdhcyBzZWxlY3RlZCBhbmQgaXMgbm90IGluIHNlbGVjdGlvbiBhbnltb3JlLCByZXNlbGVjdCBpdFxuICAgICAqID0gaWYgaXRlbSB3YXMgbm90IHNlbGVjdGVkIGFuZCBpcyBub3QgaW4gc2VsZWN0aW9uIGFueW1vcmUsIHVuc2VsZWN0IGl0XG4gICAgICovXG5cbiAgICBpZiAoaW5TZWxlY3Rpb24gJiYgIWluUHJldlNlbGVjdGlvbikgU2VsZWN0ZWRTZXRbXCJkZWxldGVcIl0oZWxlbWVudCk7ZWxzZSBpZiAoIWluU2VsZWN0aW9uICYmIGluUHJldlNlbGVjdGlvbikgU2VsZWN0ZWRTZXQuYWRkKGVsZW1lbnQpO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShob3ZlckNsYXNzTmFtZSk7XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveCBDb2xsaXNpb24gRGV0ZWN0aW9uLlxuICAgKiBJbWFnaW5lIGZvbGxvd2luZyBFeGFtcGxlOlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgYjAxXG4gICAqICAgICBhMDFbMV1hMDJcbiAgICogICAgICAgIGIwMiAgICAgIGIxMVxuICAgKiAgICAgICAgICAgICAgYTExWzJdYTEyXG4gICAqICAgICAgICAgICAgICAgICBiMTJcbiAgICpcbiAgICpcbiAgICogdG8gY2hlY2sgaWYgdGhvc2UgdHdvIGJveGVzIGNvbGxpZGUgd2UgZG8gdGhpcyBBQUJCIGNhbGN1bGF0aW9uOlxuICAgKiAxLiBhMDEgPCBhMTIgKGxlZnQgYm9yZGVyIHBvcyBib3gxIHNtYWxsZXIgdGhhbiByaWdodCBib3JkZXIgcG9zIGJveDIpXG4gICAqIDIuIGEwMiA+IGExMSAocmlnaHQgYm9yZGVyIHBvcyBib3gxIGxhcmdlciB0aGFuIGxlZnQgYm9yZGVyIHBvcyBib3gyKVxuICAgKiAzLiBiMDEgPCBiMTIgKHRvcCBib3JkZXIgcG9zIGJveDEgc21hbGxlciB0aGFuIGJvdHRvbSBib3JkZXIgcG9zIGJveDIpXG4gICAqIDQuIGIwMiA+IGIxMSAoYm90dG9tIGJvcmRlciBwb3MgYm94MSBsYXJnZXIgdGhhbiB0b3AgYm9yZGVyIHBvcyBib3gyKVxuICAgKiB7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWluaW11bV9ib3VuZGluZ19ib3gjQXhpcy1hbGlnbmVkX21pbmltdW1fYm91bmRpbmdfYm94IFdpa2lwZWRpYX1cbiAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvR2FtZXMvVGVjaG5pcXVlcy8yRF9jb2xsaXNpb25fZGV0ZWN0aW9uIE1ETn1cbiAgICogQHBhcmFtIHt7bGVmdDpudW1iZXIscmlnaHQ6bnVtYmVyLHRvcDpudW1iZXIsYm90dG9tOm51bWJlcn19IGVsMVxuICAgKiBAcGFyYW0ge3tsZWZ0Om51bWJlcixyaWdodDpudW1iZXIsdG9wOm51bWJlcixib3R0b206bnVtYmVyfX0gZWwyXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cblxuICB2YXIgaXNDb2xsaXNpb24gPSAoZnVuY3Rpb24gKGVsMSwgZWwyKSB7XG4gICAgaWYgKGVsMS5sZWZ0IDwgZWwyLnJpZ2h0ICYmIC8vIDEuXG4gICAgZWwxLnJpZ2h0ID4gZWwyLmxlZnQgJiYgLy8gMi5cbiAgICBlbDEudG9wIDwgZWwyLmJvdHRvbSAmJiAvLyAzLlxuICAgIGVsMS5ib3R0b20gPiBlbDIudG9wIC8vIDQuXG4gICAgKSByZXR1cm4gdHJ1ZTsgLy8gY29sbGlzaW9uIGRldGVjdGVkIVxuICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIE1vdmVzIHRoZSBlbGVtZW50IGluIGEgcG9zRGlyZWN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwXG4gICAqIEBwYXJhbSB7RFNFbGVtZW50fSBwLmVsZW1lbnRcbiAgICogQHBhcmFtIHtWZWN0Mn0gcC5wb3NEaXJlY3Rpb25cbiAgICogQHBhcmFtIHtEU0JvdW5kaW5nUmVjdH0gcC5jb250YWluZXJSZWN0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcC51c2VUcmFuc2Zvcm1cbiAgICovXG5cbiAgdmFyIG1vdmVFbGVtZW50ID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBfcmVmLmVsZW1lbnQsXG4gICAgICAgIHBvc0RpcmVjdGlvbiA9IF9yZWYucG9zRGlyZWN0aW9uLFxuICAgICAgICBjb250YWluZXJSZWN0ID0gX3JlZi5jb250YWluZXJSZWN0LFxuICAgICAgICB1c2VUcmFuc2Zvcm0gPSBfcmVmLnVzZVRyYW5zZm9ybTtcbiAgICB2YXIgZWxlbWVudFBvcyA9IGdldFN0eWxlUG9zaXRpb24oZWxlbWVudCwgdXNlVHJhbnNmb3JtKTtcbiAgICB2YXIgbmV3UG9zID0gY2FsYyhlbGVtZW50UG9zLCAnKycsIHBvc0RpcmVjdGlvbik7XG4gICAgc2V0U3R5bGVQb3NpdGlvbihlbGVtZW50LCBuZXdQb3MsIHVzZVRyYW5zZm9ybSk7XG4gICAgdmFyIGVsZW1lbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgZWRnZXMgPSBnZXRPdmVyZmxvd0VkZ2VzKHtcbiAgICAgIGVsZW1lbnRSZWN0OiBlbGVtZW50UmVjdCxcbiAgICAgIGNvbnRhaW5lclJlY3Q6IGNvbnRhaW5lclJlY3RcbiAgICB9KTtcbiAgICBoYW5kbGVFbGVtZW50T3ZlcmZsb3coe1xuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIGVkZ2VzOiBlZGdlcyxcbiAgICAgIGVsZW1lbnRSZWN0OiBlbGVtZW50UmVjdCxcbiAgICAgIGNvbnRhaW5lclJlY3Q6IGNvbnRhaW5lclJlY3QsXG4gICAgICBlbGVtZW50UG9zOiBuZXdQb3MsXG4gICAgICB1c2VUcmFuc2Zvcm06IHVzZVRyYW5zZm9ybVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIFJlbW92ZXMgZXZlbnQtbGlzdGVuZXJzIHRvIHRoZSBzZWxlY3RvckFyZWFcbiAgICogQHBhcmFtIHtNdXRhdGlvbk9ic2VydmVyfSBtb2RpZmljYXRpb25PYnNlcnZlclxuICAgKiBAcGFyYW0ge0RTTW9kaWZpY2F0aW9uQ2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqL1xuXG4gIHZhciByZW1vdmVNb2RpZmljYXRpb25PYnNlcnZlcnMgPSAoZnVuY3Rpb24gKG1vZGlmaWNhdGlvbk9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBjYWxsYmFjayk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGNhbGxiYWNrKTtcbiAgICBtb2RpZmljYXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogU2Nyb2xsIHRoZSBlbGVtZW50IGluIHRoZSBzcGVjaWZpZWQgZGlyZWN0aW9uXG4gICAqIEBwYXJhbSB7RFNBcmVhfSBlbGVtZW50XG4gICAqIEBwYXJhbSB7QXJyYXkuPCd0b3AnfCdib3R0b20nfCdsZWZ0J3wncmlnaHQnfHVuZGVmaW5lZD59IGRpcmVjdGlvbnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpZXJcbiAgICovXG5cbiAgdmFyIHNjcm9sbEVsZW1lbnQgPSAoZnVuY3Rpb24gKGVsZW1lbnQsIGRpcmVjdGlvbnMsIG11bHRpcGxpZXIpIHtcbiAgICBpZiAoIWRpcmVjdGlvbnMubGVuZ3RoKSByZXR1cm47XG4gICAgdmFyIGRvY0VsID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgdmFyIF9lbGVtZW50ID0gZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxEb2N1bWVudCA/IGRvY0VsIHx8IGRvY3VtZW50LmJvZHkgOiBlbGVtZW50O1xuXG4gICAgdmFyIHNjcm9sbFRvcCA9IGRpcmVjdGlvbnMuaW5jbHVkZXMoJ3RvcCcpICYmIF9lbGVtZW50LnNjcm9sbFRvcCA+IDA7XG5cbiAgICB2YXIgc2Nyb2xsQm90ID0gZGlyZWN0aW9ucy5pbmNsdWRlcygnYm90dG9tJykgJiYgX2VsZW1lbnQuc2Nyb2xsVG9wIDwgX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0O1xuXG4gICAgdmFyIHNjcm9sbExlZnQgPSBkaXJlY3Rpb25zLmluY2x1ZGVzKCdsZWZ0JykgJiYgX2VsZW1lbnQuc2Nyb2xsTGVmdCA+IDA7XG5cbiAgICB2YXIgc2Nyb2xsUmlnaHQgPSBkaXJlY3Rpb25zLmluY2x1ZGVzKCdyaWdodCcpICYmIF9lbGVtZW50LnNjcm9sbExlZnQgPCBfZWxlbWVudC5zY3JvbGxXaWR0aDtcblxuICAgIGlmIChzY3JvbGxUb3ApIF9lbGVtZW50LnNjcm9sbFRvcCAtPSAxICogbXVsdGlwbGllcjtcbiAgICBpZiAoc2Nyb2xsQm90KSBfZWxlbWVudC5zY3JvbGxUb3AgKz0gMSAqIG11bHRpcGxpZXI7XG4gICAgaWYgKHNjcm9sbExlZnQpIF9lbGVtZW50LnNjcm9sbExlZnQgLT0gMSAqIG11bHRpcGxpZXI7XG4gICAgaWYgKHNjcm9sbFJpZ2h0KSBfZWxlbWVudC5zY3JvbGxMZWZ0ICs9IDEgKiBtdWx0aXBsaWVyO1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIFNldHMgdGhlIHN0eWxlIHBvc2l0aW9uIHRvIHRoZSBYIGFuZCBZIGNvb3JkaW5hdGVzXG4gICAqIENhbiBoYW5kbGUgdHJhbnNsYXRlIGFuZCB0b3AvbGVmdFxuICAgKiBAcGFyYW0ge0RTRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge1ZlY3QyfSB2YWx1ZXNcbiAgICogQHBhcmFtIHtib29sZWFufSBbdXNlVHJhbnNsYXRlXVxuICAgKiBAcmV0dXJuIHtEU0VsZW1lbnR9XG4gICAqL1xuXG4gIHZhciBzZXRTdHlsZVBvc2l0aW9uID0gKGZ1bmN0aW9uIChlbGVtZW50LCB2YWx1ZXMsIHVzZVRyYW5zbGF0ZSkge1xuICAgIGlmICh1c2VUcmFuc2xhdGUpIHtcbiAgICAgIHZhciBwcmV2VHJhbnNmb3JtID0gZWxlbWVudC5zdHlsZS50cmFuc2Zvcm07XG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlM2QoXCIuY29uY2F0KHZhbHVlcy54LCBcInB4LFwiKS5jb25jYXQodmFsdWVzLnksIFwicHgsMXB4KSBcIikuY29uY2F0KHByZXZUcmFuc2Zvcm0ucmVwbGFjZSgvdHJhbnNsYXRlLio/XFwpL2csICcnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IFwiXCIuY29uY2F0KHZhbHVlcy54LCBcInB4XCIpO1xuICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSBcIlwiLmNvbmNhdCh2YWx1ZXMueSwgXCJweFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtmdW5jdGlvbn0gRFNTdWJzY3JpYmVcbiAgICogQHBhcmFtIHtEU0NhbGxiYWNrTmFtZXN9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge0RTQ2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGV2ZW50IGlkLCBjYW4gYmUgdXNlZCB0byB1bnN1YnNjcmliZSBtb3JlIGVmZmljaWVudGx5XG4gICAqL1xuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7ZnVuY3Rpb259IERTUHVibGlzaFxuICAgKiBAcGFyYW0ge0RTQ2FsbGJhY2tOYW1lc30gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7Q2FsbGJhY2tPYmplY3R9IGRhdGEgcGFzc2VkIHRvIHRoZSBzdWJzY3JpcHRpb24gbWV0aG9kXG4gICAqL1xuXG4gIC8qKlxuICAgKiBNYXBzIGludGVybmFsIGV2ZW50cyB0byBleHRlcm5hbCBvbmVzXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwXG4gICAqIEBwYXJhbSB7RFNTdWJzY3JpYmV9IHAuc3Vic2NyaWJlXG4gICAqIEBwYXJhbSB7RFNQdWJsaXNofSBwLnB1Ymxpc2hcbiAgICogQHBhcmFtIHtJbnRlcmFjdGlvbn0gcC5JbnRlcmFjdGlvblxuICAgKiBAcGFyYW0ge1NlbGVjdGVkU2V0fSBwLlNlbGVjdGVkU2V0XG4gICAqL1xuXG4gIHZhciBzdWJzY3JpYmVyQWxpYXNlcyA9IChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBzdWJzY3JpYmUgPSBfcmVmLnN1YnNjcmliZSxcbiAgICAgICAgcHVibGlzaCA9IF9yZWYucHVibGlzaCxcbiAgICAgICAgSW50ZXJhY3Rpb24gPSBfcmVmLkludGVyYWN0aW9uLFxuICAgICAgICBTZWxlY3RlZFNldCA9IF9yZWYuU2VsZWN0ZWRTZXQ7XG4gICAgdmFyIG1hcHBpbmcgPSB7XG4gICAgICAnU2VsZWN0ZWQ6YWRkZWQnOiBbe1xuICAgICAgICBuYW1lOiAnZWxlbWVudHNlbGVjdCdcbiAgICAgIH1dLFxuICAgICAgJ1NlbGVjdGVkOnJlbW92ZWQnOiBbe1xuICAgICAgICBuYW1lOiAnZWxlbWVudHVuc2VsZWN0J1xuICAgICAgfV0sXG4gICAgICAnQXJlYTpzY3JvbGwnOiBbe1xuICAgICAgICBuYW1lOiAnYXV0b3Njcm9sbCdcbiAgICAgIH1dLFxuICAgICAgLy8gc2Nyb2xsX2RpcmVjdGlvbnMsIHNjcm9sbF9tdWx0aXBsaWVyXG4gICAgICAnSW50ZXJhY3Rpb246c3RhcnQnOiBbe1xuICAgICAgICBuYW1lOiAnZHJhZ3N0YXJ0J1xuICAgICAgfV0sXG4gICAgICAvLyBldmVudCwgaXNEcmFnZ2luZ0tleWJvYXJkXG4gICAgICAnSW50ZXJhY3Rpb246dXBkYXRlJzogW3tcbiAgICAgICAgbmFtZTogJ2RyYWdtb3ZlJyxcbiAgICAgICAgY29uZGl0aW9uOiBmdW5jdGlvbiBjb25kaXRpb24oZGF0YSkge1xuICAgICAgICAgIHJldHVybiBkYXRhLmV2ZW50O1xuICAgICAgICB9XG4gICAgICB9XSxcbiAgICAgIC8vIGV2ZW50LCBpc0RyYWdnaW5nS2V5Ym9hcmRcbiAgICAgICdJbnRlcmFjdGlvbjplbmQnOiBbe1xuICAgICAgICBuYW1lOiAnY2FsbGJhY2snXG4gICAgICB9XSAvLyBldmVudCwgaXNEcmFnZ2luZ0tleWJvYXJkXG5cbiAgICB9O1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7XG4gICAgICB2YXIgX09iamVjdCRlbnRyaWVzJF9pID0gX3NsaWNlZFRvQXJyYXkoX09iamVjdCRlbnRyaWVzW19pXSwgMiksXG4gICAgICAgICAgc3ViX25hbWUgPSBfT2JqZWN0JGVudHJpZXMkX2lbMF0sXG4gICAgICAgICAgcHVicyA9IF9PYmplY3QkZW50cmllcyRfaVsxXTtcblxuICAgICAgWydwcmUnLCBmYWxzZV0uZm9yRWFjaChmdW5jdGlvbiAoZmlsbGVyKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmUoZmlsbGVyID8gXCJcIi5jb25jYXQoc3ViX25hbWUsIFwiOlwiKS5jb25jYXQoZmlsbGVyKSA6IHN1Yl9uYW1lLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHJldHVybiBwdWJzLmZvckVhY2goZnVuY3Rpb24gKHB1Yikge1xuICAgICAgICAgICAgcmV0dXJuICghcHViLmNvbmRpdGlvbiB8fCBwdWIuY29uZGl0aW9uKGRhdGEpKSAmJiBwdWJsaXNoKGZpbGxlciA/IFwiXCIuY29uY2F0KGZpbGxlcikuY29uY2F0KHB1Yi5uYW1lKSA6IHB1Yi5uYW1lLCBfb2JqZWN0U3ByZWFkMih7XG4gICAgICAgICAgICAgIGl0ZW1zOiBTZWxlY3RlZFNldC5lbGVtZW50cyxcbiAgICAgICAgICAgICAgaXNEcmFnZ2luZzogSW50ZXJhY3Rpb24uaXNEcmFnZ2luZ1xuICAgICAgICAgICAgfSwgZGF0YSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBfaSA9IDAsIF9PYmplY3QkZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKG1hcHBpbmcpOyBfaSA8IF9PYmplY3QkZW50cmllcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIF9sb29wKCk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogVHJhbnNmb3JtcyBhbnkgbGlzdCBvciBzaW5nbGUgaXRlbSB0byBhbiBhcnJheSBzbyB1c2VyIGRvZXNu4oCZdCBoYXZlIHRvIGNhcmUuXG4gICAqIEBwYXJhbSB7RFNJbnB1dEVsZW1lbnRzfSBpdGVtcyBhIHNpbmdsZSBpdGVtLCBhIE5vZGUtbGlzdCBvciBhbnkgZWxlbWVudCBncm91cFxuICAgKiBAcmV0dXJuIHtEU0VsZW1lbnRzfVxuICAgKi9cblxuICB2YXIgdG9BcnJheSA9IChmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICBpZiAoIWl0ZW1zKSByZXR1cm4gW107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW1zKSAmJiAoaXRlbXMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCBpdGVtcyBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpKSByZXR1cm4gW2l0ZW1zXTtcbiAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KGl0ZW1zKTtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBVcGRhdGVzIGVsZW1lbnQgc3R5bGUgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IHZhbHVlc1xuICAgKiBhY2NvcmRpbmcgdG8gcG9zIGlucHV0IG9iamVjdC5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge3tsZWZ0Om51bWJlcix0b3A6bnVtYmVyLHdpZHRoOm51bWJlcixoZWlnaHQ6bnVtYmVyfX0gcG9zXG4gICAqL1xuXG4gIHZhciB1cGRhdGVFbGVtZW50U3R5bGVQb3MgPSAoZnVuY3Rpb24gKGVsZW1lbnQsIHBvcykge1xuICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IFwiXCIuY29uY2F0KHBvcy5sZWZ0LCBcInB4XCIpO1xuICAgIGVsZW1lbnQuc3R5bGUudG9wID0gXCJcIi5jb25jYXQocG9zLnRvcCwgXCJweFwiKTtcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQocG9zLndpZHRoLCBcInB4XCIpO1xuICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQocG9zLmhlaWdodCwgXCJweFwiKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IEFyZWFQcm9wc1xuICAgKiBAcHJvcGVydHkge0RTQXJlYX0gYXJlYVxuICAgKiBAcHJvcGVydHkge1B1YlN1Yn0gUFNcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHpvb21cbiAgICovXG5cbiAgdmFyIEFyZWEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEU01vZGlmaWNhdGlvbkNhbGxiYWNrfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TXV0YXRpb25PYnNlcnZlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0RTQXJlYX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0RTQXJlYVtdfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7e3RvcDpudW1iZXIsYm90dG9tOm51bWJlcixsZWZ0Om51bWJlcixyaWdodDpudW1iZXJ9fVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEU0JvdW5kaW5nUmVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3IgQXJlYVxuICAgICAqIEBwYXJhbSB7QXJlYVByb3BzfSBzZXR0aW5nc1xuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcmVhKF9yZWYpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBfYXJlYSA9IF9yZWYuYXJlYSxcbiAgICAgICAgICBQUyA9IF9yZWYuUFMsXG4gICAgICAgICAgem9vbSA9IF9yZWYuem9vbTtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFyZWEpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbW9kaWZpY2F0aW9uQ2FsbGJhY2tcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX21vZGlmaWNhdGlvbk9ic2VydmVyXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl96b29tXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ub2RlXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wYXJlbnROb2Rlc1wiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY29tcHV0ZWRTdHlsZVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY29tcHV0ZWRCb3JkZXJcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3JlY3RcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2V0QXJlYVwiLCBmdW5jdGlvbiAoYXJlYSkge1xuICAgICAgICBfdGhpcy5fbm9kZSA9IGFyZWE7XG4gICAgICAgIGhhbmRsZUVsZW1lbnRQb3NpdGlvbkF0dHJpYnV0ZSh7XG4gICAgICAgICAgY29tcHV0ZWRTdHlsZTogX3RoaXMuY29tcHV0ZWRTdHlsZSxcbiAgICAgICAgICBub2RlOiBfdGhpcy5fbm9kZVxuICAgICAgICB9KTsgLy8gZmlyc3QgaW1tZWRpYXRlIGRlYm91bmNlIHRvIHVwZGF0ZSB2YWx1ZXMgYWZ0ZXIgZG9tLXVwZGF0ZVxuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLlB1YlN1Yi5wdWJsaXNoKCdBcmVhOm1vZGlmaWVkOnByZScsIHtcbiAgICAgICAgICAgIGl0ZW06IF90aGlzXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfdGhpcy5yZXNldCgpO1xuXG4gICAgICAgICAgX3RoaXMuUHViU3ViLnB1Ymxpc2goJ0FyZWE6bW9kaWZpZWQnLCB7XG4gICAgICAgICAgICBpdGVtOiBfdGhpc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFydFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkZE1vZGlmaWNhdGlvbk9ic2VydmVycyhfdGhpcy5wYXJlbnROb2RlcywgX3RoaXMuX21vZGlmaWNhdGlvbkNhbGxiYWNrLCBfdGhpcy5fbW9kaWZpY2F0aW9uT2JzZXJ2ZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlc2V0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuX2NvbXB1dGVkU3R5bGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLl9yZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICBfdGhpcy5fY29tcHV0ZWRCb3JkZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLl9wYXJlbnROb2RlcyA9IHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9wXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVtb3ZlTW9kaWZpY2F0aW9uT2JzZXJ2ZXJzKF90aGlzLl9tb2RpZmljYXRpb25PYnNlcnZlciwgX3RoaXMuX21vZGlmaWNhdGlvbkNhbGxiYWNrKTtcblxuICAgICAgICBfdGhpcy5yZXNldCgpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNjcm9sbFwiLCBmdW5jdGlvbiAoZGlyZWN0aW9ucywgbXVsdGlwbGllcikge1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICBzY3JvbGxfZGlyZWN0aW9uczogZGlyZWN0aW9ucyxcbiAgICAgICAgICBzY3JvbGxfbXVsdGlwbGllcjogbXVsdGlwbGllclxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLlB1YlN1Yi5wdWJsaXNoKCdBcmVhOnNjcm9sbDpwcmUnLCBkYXRhKTtcblxuICAgICAgICBzY3JvbGxFbGVtZW50KF90aGlzLl9ub2RlLCBkaXJlY3Rpb25zLCBtdWx0aXBsaWVyKTtcblxuICAgICAgICBfdGhpcy5QdWJTdWIucHVibGlzaCgnQXJlYTpzY3JvbGwnLCBkYXRhKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl96b29tID0gem9vbTtcbiAgICAgIHRoaXMuUHViU3ViID0gUFM7XG4gICAgICB0aGlzLnNldEFyZWEoX2FyZWEpO1xuICAgICAgdGhpcy5fbW9kaWZpY2F0aW9uQ2FsbGJhY2sgPSBkZWJvdW5jZShmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgX3RoaXMuUHViU3ViLnB1Ymxpc2goJ0FyZWE6bW9kaWZpZWQ6cHJlJywge1xuICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICBpdGVtOiBfdGhpc1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIF90aGlzLlB1YlN1Yi5wdWJsaXNoKCdBcmVhOm1vZGlmaWVkJywge1xuICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICBpdGVtOiBfdGhpc1xuICAgICAgICB9KTtcbiAgICAgIH0sIDYwKTtcbiAgICAgIHRoaXMuX21vZGlmaWNhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5fbW9kaWZpY2F0aW9uQ2FsbGJhY2spO1xuICAgICAgdGhpcy5QdWJTdWIuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjppbml0JywgdGhpcy5zdGFydCk7XG4gICAgICB0aGlzLlB1YlN1Yi5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOmVuZCcsIHRoaXMucmVzZXQpO1xuICAgIH1cbiAgICAvKiogQHBhcmFtIHtEU0FyZWF9IGFyZWEgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEFyZWEsIFt7XG4gICAgICBrZXk6IFwiSFRNTE5vZGVcIixcbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvLyBOb2RlIEdldHRlcnNcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8qKiBAdHlwZSB7RFNBcmVhfSAqL1xuICAgICAgICAgIHRoaXMuX25vZGVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogVGhlIGNvbXB1dGVkIGJvcmRlciBmcm9tIHRoZSBlbGVtZW50IChjYWNoZXMgcmVzdWx0KVxuICAgICAgICogQHR5cGUge3t0b3A6bnVtYmVyLGJvdHRvbTpudW1iZXIsbGVmdDpudW1iZXIscmlnaHQ6bnVtYmVyfX1cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImNvbXB1dGVkQm9yZGVyXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbXB1dGVkQm9yZGVyKSByZXR1cm4gdGhpcy5fY29tcHV0ZWRCb3JkZXI7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9wOiBwYXJzZUludCh0aGlzLmNvbXB1dGVkU3R5bGUuYm9yZGVyVG9wV2lkdGgpLFxuICAgICAgICAgIGJvdHRvbTogcGFyc2VJbnQodGhpcy5jb21wdXRlZFN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKSxcbiAgICAgICAgICBsZWZ0OiBwYXJzZUludCh0aGlzLmNvbXB1dGVkU3R5bGUuYm9yZGVyTGVmdFdpZHRoKSxcbiAgICAgICAgICByaWdodDogcGFyc2VJbnQodGhpcy5jb21wdXRlZFN0eWxlLmJvcmRlclJpZ2h0V2lkdGgpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBjb21wdXRlZCBzdHlsZXMgZnJvbSB0aGUgZWxlbWVudCAoY2FjaGVzIHJlc3VsdClcbiAgICAgICAqIEB0eXBlIHtDU1NTdHlsZURlY2xhcmF0aW9ufVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY29tcHV0ZWRTdHlsZVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb21wdXRlZFN0eWxlKSByZXR1cm4gdGhpcy5fY29tcHV0ZWRTdHlsZTtcbiAgICAgICAgaWYgKHRoaXMuSFRNTE5vZGUgaW5zdGFuY2VvZiBIVE1MRG9jdW1lbnQpIHJldHVybiB0aGlzLl9jb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5IVE1MTm9kZS5ib2R5IHx8IHRoaXMuSFRNTE5vZGUuZG9jdW1lbnRFbGVtZW50KTtlbHNlIHJldHVybiB0aGlzLl9jb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5IVE1MTm9kZSk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBlbGVtZW50IHJlY3QgKGNhY2hlcyByZXN1bHQpICh3aXRob3V0IHNjcm9sbGJhciBvciBib3JkZXJzKVxuICAgICAgICogQHR5cGUge0RTQm91bmRpbmdSZWN0fVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVjdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWN0KSByZXR1cm4gdGhpcy5fcmVjdDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlY3QgPSBnZXRBcmVhUmVjdCh0aGlzLkhUTUxOb2RlLCB0aGlzLl96b29tKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicGFyZW50Tm9kZXNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZXMpIHJldHVybiB0aGlzLl9wYXJlbnROb2RlcztcblxuICAgICAgICB2YXIgdHJhdmVyc2UgPSBmdW5jdGlvbiB0cmF2ZXJzZSh0b1dhdGNoKSB7XG4gICAgICAgICAgdmFyIF90b1dhdGNoJGluZGV4O1xuXG4gICAgICAgICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICAgIHZhciBwYXJlbnQgPSAoX3RvV2F0Y2gkaW5kZXggPSB0b1dhdGNoW2luZGV4XSkgPT09IG51bGwgfHwgX3RvV2F0Y2gkaW5kZXggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90b1dhdGNoJGluZGV4LnBhcmVudE5vZGU7XG5cbiAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICB0b1dhdGNoLnB1c2gocGFyZW50KTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICByZXR1cm4gdHJhdmVyc2UodG9XYXRjaCwgaW5kZXgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdG9XYXRjaDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fcGFyZW50Tm9kZXMgPSB0cmF2ZXJzZShbdGhpcy5IVE1MTm9kZV0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50Tm9kZXM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFyZWE7XG4gIH0oKTtcblxuICB2YXIgRHJhZyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtWZWN0Mn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1ZlY3QyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RFNFbGVtZW50c31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEU0RyYWdLZXlzfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcFxuICAgICAqIEBwYXJhbSB7RHJhZ1NlbGVjdH0gcC5EU1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcC5kcmFnZ2FiaWxpdHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHAudXNlVHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtEU0RyYWdLZXlzfSBwLmRyYWdLZXlzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwLmtleWJvYXJkRHJhZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwLmtleWJvYXJkRHJhZ1NwZWVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHAuem9vbVxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEcmFnKF9yZWYpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBEUyA9IF9yZWYuRFMsXG4gICAgICAgICAgZHJhZ0tleXMgPSBfcmVmLmRyYWdLZXlzLFxuICAgICAgICAgIGRyYWdnYWJpbGl0eSA9IF9yZWYuZHJhZ2dhYmlsaXR5LFxuICAgICAgICAgIGtleWJvYXJkRHJhZyA9IF9yZWYua2V5Ym9hcmREcmFnLFxuICAgICAgICAgIGtleWJvYXJkRHJhZ1NwZWVkID0gX3JlZi5rZXlib2FyZERyYWdTcGVlZCxcbiAgICAgICAgICB1c2VUcmFuc2Zvcm0gPSBfcmVmLnVzZVRyYW5zZm9ybSxcbiAgICAgICAgICB6b29tID0gX3JlZi56b29tO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRHJhZyk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl91c2VUcmFuc2Zvcm1cIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ByZXZDdXJzb3JQb3NcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ByZXZTY3JvbGxQb3NcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2VsZW1lbnRzXCIsIFtdKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RyYWdnYWJpbGl0eVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZHJhZ0tleXNcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RyYWdLZXlzRmxhdFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfa2V5Ym9hcmREcmFnXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9rZXlib2FyZERyYWdTcGVlZFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfem9vbVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJrZXlib2FyZERyYWdcIiwgZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgIHZhciBldmVudCA9IF9yZWYyLmV2ZW50LFxuICAgICAgICAgICAga2V5ID0gX3JlZjIua2V5O1xuICAgICAgICBpZiAoIV90aGlzLl9rZXlib2FyZERyYWcgfHwgIV90aGlzLl9kcmFnS2V5c0ZsYXQuaW5jbHVkZXMoa2V5KSB8fCAhX3RoaXMuRFMuU2VsZWN0ZWRTZXQuc2l6ZSB8fCAhX3RoaXMuX2RyYWdnYWJpbGl0eSB8fCBfdGhpcy5EU1tcImNvbnRpbnVlXCJdKSByZXR1cm47XG4gICAgICAgIHZhciBwdWJsaXNoRGF0YSA9IHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgaXNEcmFnZ2luZzogdHJ1ZSxcbiAgICAgICAgICBpc0RyYWdnaW5nS2V5Ym9hcmQ6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5EUy5wdWJsaXNoKFsnSW50ZXJhY3Rpb246c3RhcnQ6cHJlJywgJ0ludGVyYWN0aW9uOnN0YXJ0J10sIHB1Ymxpc2hEYXRhKTtcblxuICAgICAgICBfdGhpcy5fZWxlbWVudHMgPSBfdGhpcy5EUy5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVaSW5kZXgodHJ1ZSk7XG5cbiAgICAgICAgdmFyIHBvc0RpcmVjdGlvbiA9IGhhbmRsZUtleWJvYXJkRHJhZ1Bvc0RpZmZlcmVuY2Uoe1xuICAgICAgICAgIHNoaWZ0S2V5OiBfdGhpcy5EUy5zdG9yZXMuS2V5U3RvcmUuY3VycmVudFZhbHVlcy5pbmNsdWRlcygnc2hpZnQnKSxcbiAgICAgICAgICBrZXlib2FyZERyYWdTcGVlZDogX3RoaXMuX2tleWJvYXJkRHJhZ1NwZWVkLFxuICAgICAgICAgIHpvb206IF90aGlzLl96b29tLFxuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHNjcm9sbENhbGxiYWNrOiBfdGhpcy5EUy5BcmVhLnNjcm9sbCxcbiAgICAgICAgICBzY3JvbGxEaWZmOiBfdGhpcy5fc2Nyb2xsRGlmZixcbiAgICAgICAgICBjYW5TY3JvbGw6IF90aGlzLkRTLnN0b3Jlcy5TY3JvbGxTdG9yZS5jYW5TY3JvbGwsXG4gICAgICAgICAgZHJhZ0tleXM6IF90aGlzLl9kcmFnS2V5c1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5fZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBtb3ZlRWxlbWVudCh7XG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgcG9zRGlyZWN0aW9uOiBwb3NEaXJlY3Rpb24sXG4gICAgICAgICAgICBjb250YWluZXJSZWN0OiBfdGhpcy5EUy5TZWxlY3RvckFyZWEucmVjdCxcbiAgICAgICAgICAgIHVzZVRyYW5zZm9ybTogX3RoaXMuX3VzZVRyYW5zZm9ybVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5EUy5wdWJsaXNoKFsnSW50ZXJhY3Rpb246dXBkYXRlOnByZScsICdJbnRlcmFjdGlvbjp1cGRhdGUnXSwgcHVibGlzaERhdGEpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImtleWJvYXJkRW5kXCIsIGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICB2YXIgZXZlbnQgPSBfcmVmMy5ldmVudCxcbiAgICAgICAgICAgIGtleSA9IF9yZWYzLmtleTtcbiAgICAgICAgaWYgKCFfdGhpcy5fa2V5Ym9hcmREcmFnIHx8ICFfdGhpcy5fZHJhZ0tleXNGbGF0LmluY2x1ZGVzKGtleSkgfHwgIV90aGlzLkRTLlNlbGVjdGVkU2V0LnNpemUgfHwgIV90aGlzLl9kcmFnZ2FiaWxpdHkpIHJldHVybjtcbiAgICAgICAgdmFyIHB1Ymxpc2hEYXRhID0ge1xuICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICBpc0RyYWdnaW5nOiBfdGhpcy5fZHJhZ2dhYmlsaXR5LFxuICAgICAgICAgIGlzRHJhZ2dpbmdLZXlib2FyZDogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLkRTLnB1Ymxpc2goWydJbnRlcmFjdGlvbjplbmQ6cHJlJywgJ0ludGVyYWN0aW9uOmVuZCddLCBwdWJsaXNoRGF0YSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhcnRcIiwgZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICAgIHZhciBpc0RyYWdnaW5nID0gX3JlZjQuaXNEcmFnZ2luZyxcbiAgICAgICAgICAgIGlzRHJhZ2dpbmdLZXlib2FyZCA9IF9yZWY0LmlzRHJhZ2dpbmdLZXlib2FyZDtcbiAgICAgICAgaWYgKCFpc0RyYWdnaW5nIHx8IGlzRHJhZ2dpbmdLZXlib2FyZCkgcmV0dXJuO1xuICAgICAgICBfdGhpcy5fcHJldkN1cnNvclBvcyA9IG51bGw7XG4gICAgICAgIF90aGlzLl9wcmV2U2Nyb2xsUG9zID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2VsZW1lbnRzID0gX3RoaXMuRFMuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlWkluZGV4KHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBpZiAoZXZ0ICE9PSBudWxsICYmIGV2dCAhPT0gdm9pZCAwICYmIGV2dC5pc0tleWJvYXJkKSByZXR1cm47XG4gICAgICAgIF90aGlzLl9wcmV2Q3Vyc29yUG9zID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3ByZXZTY3JvbGxQb3MgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmhhbmRsZVpJbmRleChmYWxzZSk7XG5cbiAgICAgICAgX3RoaXMuX2VsZW1lbnRzID0gW107XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXBkYXRlXCIsIGZ1bmN0aW9uIChfcmVmNSkge1xuICAgICAgICB2YXIgaXNEcmFnZ2luZyA9IF9yZWY1LmlzRHJhZ2dpbmcsXG4gICAgICAgICAgICBpc0RyYWdnaW5nS2V5Ym9hcmQgPSBfcmVmNS5pc0RyYWdnaW5nS2V5Ym9hcmQ7XG4gICAgICAgIGlmICghaXNEcmFnZ2luZyB8fCAhX3RoaXMuX2VsZW1lbnRzLmxlbmd0aCB8fCBpc0RyYWdnaW5nS2V5Ym9hcmQgfHwgX3RoaXMuRFNbXCJjb250aW51ZVwiXSkgcmV0dXJuO1xuICAgICAgICB2YXIgcG9zRGlyZWN0aW9uID0gY2FsYyhfdGhpcy5fY3Vyc29yRGlmZiwgJysnLCBfdGhpcy5fc2Nyb2xsRGlmZik7XG5cbiAgICAgICAgX3RoaXMuX2VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gbW92ZUVsZW1lbnQoe1xuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgIHBvc0RpcmVjdGlvbjogcG9zRGlyZWN0aW9uLFxuICAgICAgICAgICAgY29udGFpbmVyUmVjdDogX3RoaXMuRFMuU2VsZWN0b3JBcmVhLnJlY3QsXG4gICAgICAgICAgICB1c2VUcmFuc2Zvcm06IF90aGlzLl91c2VUcmFuc2Zvcm1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaGFuZGxlWkluZGV4XCIsIGZ1bmN0aW9uIChhZGQpIHtcbiAgICAgICAgX3RoaXMuX2VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5zdHlsZS56SW5kZXggPSBcIlwiLmNvbmNhdCgocGFyc2VJbnQoZWxlbWVudC5zdHlsZS56SW5kZXgpIHx8IDApICsgYWRkID8gOTk5OSA6IC05OTk4KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5EUyA9IERTO1xuICAgICAgdGhpcy5fdXNlVHJhbnNmb3JtID0gdXNlVHJhbnNmb3JtO1xuICAgICAgdGhpcy5fa2V5Ym9hcmREcmFnU3BlZWQgPSBrZXlib2FyZERyYWdTcGVlZDtcbiAgICAgIHRoaXMuX2tleWJvYXJkRHJhZyA9IGtleWJvYXJkRHJhZztcbiAgICAgIHRoaXMuX3pvb20gPSB6b29tO1xuICAgICAgdGhpcy5fZHJhZ2dhYmlsaXR5ID0gZHJhZ2dhYmlsaXR5O1xuICAgICAgdGhpcy5fZHJhZ0tleXMgPSB7XG4gICAgICAgIHVwOiBkcmFnS2V5cy51cC5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gay50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9KSxcbiAgICAgICAgZG93bjogZHJhZ0tleXMuZG93bi5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gay50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9KSxcbiAgICAgICAgbGVmdDogZHJhZ0tleXMubGVmdC5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gay50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9KSxcbiAgICAgICAgcmlnaHQ6IGRyYWdLZXlzLnJpZ2h0Lm1hcChmdW5jdGlvbiAoaykge1xuICAgICAgICAgIHJldHVybiBrLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgICAgdGhpcy5fZHJhZ0tleXNGbGF0ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLl9kcmFnS2V5cy51cCksIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLl9kcmFnS2V5cy5kb3duKSwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuX2RyYWdLZXlzLmxlZnQpLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5fZHJhZ0tleXMucmlnaHQpKTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjpzdGFydCcsIHRoaXMuc3RhcnQpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOmVuZCcsIHRoaXMuc3RvcCk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246dXBkYXRlJywgdGhpcy51cGRhdGUpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0tleVN0b3JlOmRvd24nLCB0aGlzLmtleWJvYXJkRHJhZyk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnS2V5U3RvcmU6dXAnLCB0aGlzLmtleWJvYXJkRW5kKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRHJhZywgW3tcbiAgICAgIGtleTogXCJfY3Vyc29yRGlmZlwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHZhciBjdXJyZW50UG9pbnRlclZhbCA9IHRoaXMuRFMuc3RvcmVzLlBvaW50ZXJTdG9yZS5jdXJyZW50VmFsO1xuICAgICAgICB2YXIgY3Vyc29yRGlmZiA9IHRoaXMuX3ByZXZDdXJzb3JQb3MgPyBjYWxjKGN1cnJlbnRQb2ludGVyVmFsLCAnLScsIHRoaXMuX3ByZXZDdXJzb3JQb3MpIDoge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wcmV2Q3Vyc29yUG9zID0gY3VycmVudFBvaW50ZXJWYWw7XG4gICAgICAgIHJldHVybiBjdXJzb3JEaWZmO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2Nyb2xsRGlmZlwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHZhciBjdXJyZW50U2Nyb2xsVmFsID0gdGhpcy5EUy5zdG9yZXMuU2Nyb2xsU3RvcmUuY3VycmVudFZhbDtcbiAgICAgICAgdmFyIHNjcm9sbERpZmYgPSB0aGlzLl9wcmV2U2Nyb2xsUG9zID8gY2FsYyhjdXJyZW50U2Nyb2xsVmFsLCAnLScsIHRoaXMuX3ByZXZTY3JvbGxQb3MpIDoge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wcmV2U2Nyb2xsUG9zID0gY3VycmVudFNjcm9sbFZhbDtcbiAgICAgICAgcmV0dXJuIHNjcm9sbERpZmY7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERyYWc7XG4gIH0oKTtcblxuICB2YXIgSW50ZXJhY3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEU0FyZWF9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuXG4gICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yIEludGVyYWN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9ialxuICAgICAqIEBwYXJhbSB7RFNBcmVhfSBvYmouYXJlYUVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9iai5kcmFnZ2FiaWxpdHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9iai5pbW1lZGlhdGVEcmFnXG4gICAgICogQHBhcmFtIHtEcmFnU2VsZWN0fSBvYmouRFNcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb24oX3JlZikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGFyZWFFbGVtZW50ID0gX3JlZi5hcmVhRWxlbWVudCxcbiAgICAgICAgICBEUyA9IF9yZWYuRFMsXG4gICAgICAgICAgZHJhZ2dhYmlsaXR5ID0gX3JlZi5kcmFnZ2FiaWxpdHksXG4gICAgICAgICAgaW1tZWRpYXRlRHJhZyA9IF9yZWYuaW1tZWRpYXRlRHJhZztcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVyYWN0aW9uKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2FyZWFFbGVtZW50XCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kcmFnZ2FiaWxpdHlcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ltbWVkaWF0ZURyYWdcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNJbnRlcmFjdGluZ1wiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0RyYWdnaW5nXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuRFMucHVibGlzaCgnSW50ZXJhY3Rpb246aW5pdDpwcmUnLCB7fSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2luaXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgX3RoaXMuX2FyZWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIF90aGlzLnN0YXJ0KTtcblxuICAgICAgICBfdGhpcy5fYXJlYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIF90aGlzLnN0YXJ0LCB7XG4gICAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuRFMucHVibGlzaCgnSW50ZXJhY3Rpb246aW5pdCcsIHt9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFydFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLkRTLnB1Ymxpc2goJ0ludGVyYWN0aW9uOnN0YXJ0OnByZScsIHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgaXNEcmFnZ2luZzogX3RoaXMuaXNEcmFnZ2luZ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3RhcnRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAndG91Y2hzdGFydCcpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIENhbGwgcHJldmVudERlZmF1bHQoKSB0byBwcmV2ZW50IGRvdWJsZSBjbGljayBpc3N1ZSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9UaGliYXVsdEphbkJleWVyL0RyYWdTZWxlY3QvcHVsbC8yOSAmIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3ZpL2RvY3MvV2ViL0FQSS9Ub3VjaF9ldmVudHMvU3VwcG9ydGluZ19ib3RoX1RvdWNoRXZlbnRfYW5kX01vdXNlRXZlbnRcblxuICAgICAgICBpZiAoIV90aGlzLl9jYW5JbnRlcmFjdChldmVudCkpIHJldHVybjtcbiAgICAgICAgX3RoaXMuaXNJbnRlcmFjdGluZyA9IHRydWU7XG4gICAgICAgIF90aGlzLmlzRHJhZ2dpbmcgPSBfdGhpcy5pc0RyYWdFdmVudChldmVudCk7XG5cbiAgICAgICAgX3RoaXMuRFMucHVibGlzaCgnSW50ZXJhY3Rpb246c3RhcnQnLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGlzRHJhZ2dpbmc6IF90aGlzLmlzRHJhZ2dpbmdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLnJlc2V0KTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBfdGhpcy5yZXNldCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNEcmFnRXZlbnRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghX3RoaXMuX2RyYWdnYWJpbGl0eSB8fCBfdGhpcy5EUy5zdG9yZXMuS2V5U3RvcmUuaXNNdWx0aVNlbGVjdEtleVByZXNzZWQoZXZlbnQpIHx8ICFfdGhpcy5EUy5TZWxlY3RhYmxlU2V0LmhhcyhldmVudC50YXJnZXQpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKF90aGlzLl9pbW1lZGlhdGVEcmFnKSB7XG4gICAgICAgICAgaWYgKCFfdGhpcy5EUy5TZWxlY3RlZFNldC5zaXplKSBfdGhpcy5EUy5TZWxlY3RlZFNldC5hZGQoXG4gICAgICAgICAgLyoqIEB0eXBlIHtEU0VsZW1lbnR9ICovXG4gICAgICAgICAgZXZlbnQudGFyZ2V0KTtlbHNlIGlmICghX3RoaXMuRFMuU2VsZWN0ZWRTZXQuaGFzKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICAgIF90aGlzLkRTLlNlbGVjdGVkU2V0LmNsZWFyKCk7XG5cbiAgICAgICAgICAgIF90aGlzLkRTLlNlbGVjdGVkU2V0LmFkZChcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7RFNFbGVtZW50fSAqL1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMuRFMuU2VsZWN0ZWRTZXQuaGFzKGV2ZW50LnRhcmdldCkpIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib25DbGlja1wiLCBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gX3JlZjIuZXZlbnQ7XG4gICAgICAgIGlmICghX3RoaXMuX2NhbkludGVyYWN0KGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICBpZiAoZXZlbnQuZGV0YWlsID4gMCkgcmV0dXJuOyAvLyBtb3VzZSBpbnRlcmFjdGlvblxuXG4gICAgICAgIHZhciBfdGhpcyREUyA9IF90aGlzLkRTLFxuICAgICAgICAgICAgX3RoaXMkRFMkc3RvcmVzID0gX3RoaXMkRFMuc3RvcmVzLFxuICAgICAgICAgICAgUG9pbnRlclN0b3JlID0gX3RoaXMkRFMkc3RvcmVzLlBvaW50ZXJTdG9yZSxcbiAgICAgICAgICAgIEtleVN0b3JlID0gX3RoaXMkRFMkc3RvcmVzLktleVN0b3JlLFxuICAgICAgICAgICAgU2VsZWN0YWJsZVNldCA9IF90aGlzJERTLlNlbGVjdGFibGVTZXQsXG4gICAgICAgICAgICBTZWxlY3RlZFNldCA9IF90aGlzJERTLlNlbGVjdGVkU2V0O1xuICAgICAgICBQb2ludGVyU3RvcmUuc3RhcnQoZXZlbnQpO1xuICAgICAgICB2YXIgbm9kZSA9XG4gICAgICAgIC8qKiBAdHlwZSB7YW55fSAqL1xuICAgICAgICBldmVudC50YXJnZXQ7XG4gICAgICAgIGlmICghU2VsZWN0YWJsZVNldC5oYXMobm9kZSkpIHJldHVybjtcbiAgICAgICAgaWYgKCFLZXlTdG9yZS5pc011bHRpU2VsZWN0S2V5UHJlc3NlZChldmVudCkpIFNlbGVjdGVkU2V0LmNsZWFyKCk7XG4gICAgICAgIFNlbGVjdGVkU2V0LnRvZ2dsZShub2RlKTtcblxuICAgICAgICBfdGhpcy5yZXNldCgpOyAvLyBzaW11bGF0ZSBtb3VzZS11cCAodGhhdCBkb2VzIG5vdCBleGlzdCBvbiBrZXlib2FyZClcblxuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5pc0ludGVyYWN0aW5nID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy5fYXJlYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgX3RoaXMuc3RhcnQpO1xuXG4gICAgICAgIF90aGlzLl9hcmVhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgX3RoaXMuc3RhcnQsIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLnJlc2V0KTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBfdGhpcy5yZXNldCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXBkYXRlXCIsIGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICB2YXIgZXZlbnQgPSBfcmVmMy5ldmVudCxcbiAgICAgICAgICAgIHNjcm9sbF9kaXJlY3Rpb25zID0gX3JlZjMuc2Nyb2xsX2RpcmVjdGlvbnMsXG4gICAgICAgICAgICBzY3JvbGxfbXVsdGlwbGllciA9IF9yZWYzLnNjcm9sbF9tdWx0aXBsaWVyO1xuICAgICAgICBpZiAoX3RoaXMuaXNJbnRlcmFjdGluZykgX3RoaXMuRFMucHVibGlzaChbJ0ludGVyYWN0aW9uOnVwZGF0ZTpwcmUnLCAnSW50ZXJhY3Rpb246dXBkYXRlJ10sIHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgc2Nyb2xsX2RpcmVjdGlvbnM6IHNjcm9sbF9kaXJlY3Rpb25zLFxuICAgICAgICAgIHNjcm9sbF9tdWx0aXBsaWVyOiBzY3JvbGxfbXVsdGlwbGllcixcbiAgICAgICAgICBpc0RyYWdnaW5nOiBfdGhpcy5pc0RyYWdnaW5nXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlc2V0XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuRFMucHVibGlzaCgnSW50ZXJhY3Rpb246ZW5kOnByZScsIHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgaXNEcmFnZ2luZzogX3RoaXMuaXNEcmFnZ2luZ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcmVzZXRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBpc0RyYWdnaW5nID0gX3RoaXMuaXNEcmFnZ2luZztcblxuICAgICAgICBfdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgX3RoaXMuaW5pdCgpO1xuXG4gICAgICAgIF90aGlzLkRTLnB1Ymxpc2goJ0ludGVyYWN0aW9uOmVuZCcsIHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgaXNEcmFnZ2luZzogaXNEcmFnZ2luZ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9hcmVhRWxlbWVudCA9IGFyZWFFbGVtZW50O1xuICAgICAgdGhpcy5fZHJhZ2dhYmlsaXR5ID0gZHJhZ2dhYmlsaXR5O1xuICAgICAgdGhpcy5faW1tZWRpYXRlRHJhZyA9IGltbWVkaWF0ZURyYWc7XG4gICAgICB0aGlzLkRTID0gRFM7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnUG9pbnRlclN0b3JlOnVwZGF0ZWQnLCB0aGlzLnVwZGF0ZSk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnU2VsZWN0YWJsZTpjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnU2VsZWN0YWJsZTpwb2ludGVyJywgZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICAgIHZhciBldmVudCA9IF9yZWY0LmV2ZW50O1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RhcnQoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246c3RhcnQ6cHJlJywgZnVuY3Rpb24gKF9yZWY1KSB7XG4gICAgICAgIHZhciBldmVudCA9IF9yZWY1LmV2ZW50O1xuICAgICAgICByZXR1cm4gX3RoaXMuX3N0YXJ0KGV2ZW50KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOmluaXQ6cHJlJywgdGhpcy5faW5pdCk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246ZW5kOnByZScsIGZ1bmN0aW9uIChfcmVmNikge1xuICAgICAgICB2YXIgZXZlbnQgPSBfcmVmNi5ldmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9yZXNldChldmVudCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdBcmVhOnNjcm9sbCcsIHRoaXMudXBkYXRlKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoSW50ZXJhY3Rpb24sIFt7XG4gICAgICBrZXk6IFwiX2NhbkludGVyYWN0XCIsXG5cbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtEU0V2ZW50fSBldmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2NhbkludGVyYWN0KGV2ZW50KSB7XG4gICAgICAgIHZhciBpc0tleWJvYXJkQ2xpY2sgPVxuICAgICAgICAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovXG4gICAgICAgIGV2ZW50LmNsaWVudFggPT09IDAgJiZcbiAgICAgICAgLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqL1xuICAgICAgICBldmVudC5jbGllbnRZID09PSAwICYmXG4gICAgICAgIC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi9cbiAgICAgICAgZXZlbnQuZGV0YWlsID09PSAwICYmIGV2ZW50LnRhcmdldDtcbiAgICAgICAgaWYgKFxuICAgICAgICAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovXG4gICAgICAgIGV2ZW50LmJ1dHRvbiA9PT0gMiB8fCAvLyByaWdodC1jbGlja3NcbiAgICAgICAgdGhpcy5pc0ludGVyYWN0aW5nIHx8IC8vIGZpeCBkb3VibGUtY2xpY2sgaXNzdWVzXG4gICAgICAgIGV2ZW50LnRhcmdldCAmJiAhdGhpcy5EUy5TZWxlY3RvckFyZWEuaXNJbnNpZGUoXG4gICAgICAgIC8qKiBAdHlwZSB7RFNFbGVtZW50fSAqL1xuICAgICAgICBldmVudC50YXJnZXQpIHx8IC8vZml4IG91dHNpZGUgZWxlbWVudHMgaXNzdWVcbiAgICAgICAgIWlzS2V5Ym9hcmRDbGljayAmJiAhdGhpcy5EUy5TZWxlY3RvckFyZWEuaXNDbGlja2VkKGV2ZW50KSAvLyBtYWtlIHN1cmUgdGhlIG1vdXNlIGNsaWNrIGlzIGluc2lkZSB0aGUgYXJlYVxuICAgICAgICApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7RFNFdmVudH0gZXZlbnRcbiAgICAgICAqL1xuXG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEludGVyYWN0aW9uO1xuICB9KCk7XG5cbiAgdmFyIFB1YlN1YiA9IGZ1bmN0aW9uIFB1YlN1YihfcmVmKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBEUyA9IF9yZWYuRFM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHViU3ViKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN1YnNjcmliZXJzXCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN1YnNjcmliZVwiLCBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KF90aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0pKSBfdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdID0gW107XG5cbiAgICAgIF90aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0ucHVzaChjYWxsYmFjayk7XG5cbiAgICAgIHJldHVybiBfdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdLmxlbmd0aCAtIDE7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1bnN1YnNjcmliZVwiLCBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgaWQpIHtcbiAgICAgIGlmIChpZCA+PSAwKSBfdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdLnNwbGljZShpZCwgMSk7ZWxzZSBpZiAoY2FsbGJhY2spIF90aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0gPSBfdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdLmZpbHRlcihmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgcmV0dXJuIGNiICE9PSBjYWxsYmFjaztcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicHVibGlzaFwiLCBmdW5jdGlvbiAoZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudE5hbWUpKSBldmVudE5hbWUuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gX3RoaXMuX3B1Ymxpc2gobmFtZSwgZGF0YSk7XG4gICAgICB9KTtlbHNlIF90aGlzLl9wdWJsaXNoKGV2ZW50TmFtZSwgZGF0YSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcHVibGlzaFwiLCBmdW5jdGlvbiAoZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgICB2YXIgc3Vic2NyaWJlcnMgPSBfdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN1YnNjcmliZXJzKSkgcmV0dXJuO1xuICAgICAgaWYgKGV2ZW50TmFtZS5pbmNsdWRlcyhcIjpwcmVcIikpIF90aGlzLl9oYW5kbGVQcmVQdWJsaXNoKHN1YnNjcmliZXJzLCBkYXRhKTtlbHNlIF90aGlzLl9oYW5kbGVQdWJsaXNoKHN1YnNjcmliZXJzLCBkYXRhKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9oYW5kbGVQdWJsaXNoXCIsIGZ1bmN0aW9uIChzdWJzY3JpYmVycywgZGF0YSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gc3Vic2NyaWJlcnMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICBpZiAoX3RoaXMuRFMuc3RvcHBlZCkgcmV0dXJuO1xuICAgICAgICBzdWJzY3JpYmVyc1tpXShkYXRhKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9oYW5kbGVQcmVQdWJsaXNoXCIsIGZ1bmN0aW9uIChzdWJzY3JpYmVycywgZGF0YSkge1xuICAgICAgdmFyIGkgPSBzdWJzY3JpYmVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgaWYgKF90aGlzLkRTLnN0b3BwZWQpIHJldHVybjtcbiAgICAgICAgc3Vic2NyaWJlcnNbaV0oZGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLkRTID0gRFM7XG4gIH1cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBhbiBldmVudFxuICAgKiBAbWVtYmVyb2YgRHJhZ1NlbGVjdCNcbiAgICogQGZ1bmN0aW9uIHN1YnNjcmliZVxuICAgKiBAcGFyYW0ge0RTQ2FsbGJhY2tOYW1lc30gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7RFNDYWxsYmFja30gY2FsbGJhY2tcbiAgICogQHJldHVybnMge251bWJlcn0gZXZlbnQgaWQsIGNhbiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIG1vcmUgZWZmaWNpZW50bHlcbiAgICovXG4gIDtcblxuICB2YXIgU2VsZWN0YWJsZVNldCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1NldCkge1xuICAgIF9pbmhlcml0cyhTZWxlY3RhYmxlU2V0LCBfU2V0KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU2VsZWN0YWJsZVNldCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RFNFbGVtZW50c31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yIFNlbGVjdGFibGVTZXRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcFxuICAgICAqIEBwYXJhbSB7RFNJbnB1dEVsZW1lbnRzfSBwLmVsZW1lbnRzXG4gICAgICogQHBhcmFtIHtEcmFnU2VsZWN0fSBwLkRTXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHAuY2xhc3NOYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHAuaG92ZXJDbGFzc05hbWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHAudXNlVHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwLmRyYWdnYWJpbGl0eVxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZWxlY3RhYmxlU2V0KF9yZWYpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgdmFyIF9lbGVtZW50cyA9IF9yZWYuZWxlbWVudHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICAgICAgaG92ZXJDbGFzc05hbWUgPSBfcmVmLmhvdmVyQ2xhc3NOYW1lLFxuICAgICAgICAgIGRyYWdnYWJpbGl0eSA9IF9yZWYuZHJhZ2dhYmlsaXR5LFxuICAgICAgICAgIHVzZVRyYW5zZm9ybSA9IF9yZWYudXNlVHJhbnNmb3JtLFxuICAgICAgICAgIERTID0gX3JlZi5EUztcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbGVjdGFibGVTZXQpO1xuXG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2luaXRFbGVtZW50c1wiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2NsYXNzTmFtZVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2hvdmVyQ2xhc3NOYW1lXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfdXNlVHJhbnNmb3JtXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfZHJhZ2dhYmlsaXR5XCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJpbml0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9pbml0RWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuYWRkKGVsKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImNsZWFyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzW1wiZGVsZXRlXCJdKGVsKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vbkNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuRFMucHVibGlzaChbJ1NlbGVjdGFibGU6Y2xpY2s6cHJlJywgJ1NlbGVjdGFibGU6Y2xpY2snXSwge1xuICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX29uUG9pbnRlclwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLkRTLnB1Ymxpc2goWydTZWxlY3RhYmxlOnBvaW50ZXI6cHJlJywgJ1NlbGVjdGFibGU6cG9pbnRlciddLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJhZGRBbGxcIiwgZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5hZGQoZWwpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiZGVsZXRlQWxsXCIsIGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgICByZXR1cm4gZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXNbXCJkZWxldGVcIl0oZWwpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5EUyA9IERTO1xuICAgICAgX3RoaXMuX2luaXRFbGVtZW50cyA9IHRvQXJyYXkoX2VsZW1lbnRzKTtcbiAgICAgIF90aGlzLl9jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICBfdGhpcy5faG92ZXJDbGFzc05hbWUgPSBob3ZlckNsYXNzTmFtZTtcbiAgICAgIF90aGlzLl91c2VUcmFuc2Zvcm0gPSB1c2VUcmFuc2Zvcm07XG4gICAgICBfdGhpcy5fZHJhZ2dhYmlsaXR5ID0gZHJhZ2dhYmlsaXR5O1xuXG4gICAgICBfdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOmluaXQnLCBfdGhpcy5pbml0KTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhTZWxlY3RhYmxlU2V0LCBbe1xuICAgICAga2V5OiBcImFkZFwiLFxuXG4gICAgICAvKiogQHBhcmFtIHtEU0VsZW1lbnR9IGVsZW1lbnQgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY2xhc3NOYW1lKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2spO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uUG9pbnRlcik7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX29uUG9pbnRlciwge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuX2RyYWdnYWJpbGl0eSAmJiAhdGhpcy5fdXNlVHJhbnNmb3JtKSBoYW5kbGVFbGVtZW50UG9zaXRpb25BdHRyaWJ1dGUoe1xuICAgICAgICAgIGNvbXB1dGVkU3R5bGU6IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLFxuICAgICAgICAgIG5vZGU6IGVsZW1lbnRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfZ2V0KF9nZXRQcm90b3R5cGVPZihTZWxlY3RhYmxlU2V0LnByb3RvdHlwZSksIFwiYWRkXCIsIHRoaXMpLmNhbGwodGhpcywgZWxlbWVudCk7XG4gICAgICB9XG4gICAgICAvKiogQHBhcmFtIHtEU0VsZW1lbnR9IGVsZW1lbnQgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWxldGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NsYXNzTmFtZSk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9ob3ZlckNsYXNzTmFtZSk7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vblBvaW50ZXIpO1xuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblBvaW50ZXIsIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfZ2V0KF9nZXRQcm90b3R5cGVPZihTZWxlY3RhYmxlU2V0LnByb3RvdHlwZSksIFwiZGVsZXRlXCIsIHRoaXMpLmNhbGwodGhpcywgZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImVsZW1lbnRzXCIsXG5cbiAgICAgIC8qKiBAcmV0dXJuIHtEU0VsZW1lbnRzfSAqL1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMudmFsdWVzKCkpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTZWxlY3RhYmxlU2V0O1xuICB9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihTZXQpKTtcblxuICB2YXIgU2VsZWN0ZWRTZXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TZXQpIHtcbiAgICBfaW5oZXJpdHMoU2VsZWN0ZWRTZXQsIF9TZXQpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihTZWxlY3RlZFNldCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvciBTZWxlY3RhYmxlU2V0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBcbiAgICAgKiBAcGFyYW0ge0RyYWdTZWxlY3R9IHAuRFNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcC5jbGFzc05hbWVcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2VsZWN0ZWRTZXQoX3JlZikge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICB2YXIgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICAgICAgRFMgPSBfcmVmLkRTO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VsZWN0ZWRTZXQpO1xuXG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2NsYXNzTmFtZVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiY2xlYXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXNbXCJkZWxldGVcIl0oZWwpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiYWRkQWxsXCIsIGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgICByZXR1cm4gZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuYWRkKGVsKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImRlbGV0ZUFsbFwiLCBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzW1wiZGVsZXRlXCJdKGVsKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuRFMgPSBEUztcbiAgICAgIF90aGlzLl9jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKiBAcGFyYW0ge0RTRWxlbWVudH0gZWxlbWVudCAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoU2VsZWN0ZWRTZXQsIFt7XG4gICAgICBrZXk6IFwiYWRkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKF9nZXQoX2dldFByb3RvdHlwZU9mKFNlbGVjdGVkU2V0LnByb3RvdHlwZSksIFwiaGFzXCIsIHRoaXMpLmNhbGwodGhpcywgZWxlbWVudCkpIHJldHVybjtcbiAgICAgICAgdmFyIHB1Ymxpc2hEYXRhID0ge1xuICAgICAgICAgIGl0ZW1zOiB0aGlzLmVsZW1lbnRzLFxuICAgICAgICAgIGl0ZW06IGVsZW1lbnRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5EUy5wdWJsaXNoKCdTZWxlY3RlZDphZGRlZDpwcmUnLCBwdWJsaXNoRGF0YSk7XG5cbiAgICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoU2VsZWN0ZWRTZXQucHJvdG90eXBlKSwgXCJhZGRcIiwgdGhpcykuY2FsbCh0aGlzLCBlbGVtZW50KTtcblxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY2xhc3NOYW1lKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS56SW5kZXggPSBcIlwiLmNvbmNhdCgocGFyc2VJbnQoZWxlbWVudC5zdHlsZS56SW5kZXgpIHx8IDApICsgMSk7XG4gICAgICAgIHRoaXMuRFMucHVibGlzaCgnU2VsZWN0ZWQ6YWRkZWQnLCBwdWJsaXNoRGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgLyoqIEBwYXJhbSB7RFNFbGVtZW50fSBlbGVtZW50ICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVsZXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZShlbGVtZW50KSB7XG4gICAgICAgIGlmICghX2dldChfZ2V0UHJvdG90eXBlT2YoU2VsZWN0ZWRTZXQucHJvdG90eXBlKSwgXCJoYXNcIiwgdGhpcykuY2FsbCh0aGlzLCBlbGVtZW50KSkgcmV0dXJuO1xuICAgICAgICB2YXIgcHVibGlzaERhdGEgPSB7XG4gICAgICAgICAgaXRlbXM6IHRoaXMuZWxlbWVudHMsXG4gICAgICAgICAgaXRlbTogZWxlbWVudFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLkRTLnB1Ymxpc2goJ1NlbGVjdGVkOnJlbW92ZWQ6cHJlJywgcHVibGlzaERhdGEpO1xuXG4gICAgICAgIHZhciBkZWxldGVkID0gX2dldChfZ2V0UHJvdG90eXBlT2YoU2VsZWN0ZWRTZXQucHJvdG90eXBlKSwgXCJkZWxldGVcIiwgdGhpcykuY2FsbCh0aGlzLCBlbGVtZW50KTtcblxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY2xhc3NOYW1lKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS56SW5kZXggPSBcIlwiLmNvbmNhdCgocGFyc2VJbnQoZWxlbWVudC5zdHlsZS56SW5kZXgpIHx8IDApIC0gMSk7XG4gICAgICAgIHRoaXMuRFMucHVibGlzaCgnU2VsZWN0ZWQ6cmVtb3ZlZCcsIHB1Ymxpc2hEYXRhKTtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZWQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInRvZ2dsZVwiLFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZHMvUmVtb3ZlcyBhbiBlbGVtZW50LiBJZiBpdCBpcyBhbHJlYWR5IHNlbGVjdGVkID0gcmVtb3ZlLCBpZiBub3QgPSBhZGQuXG4gICAgICAgKiBAcGFyYW0ge0RTRWxlbWVudH0gZWxlbWVudFxuICAgICAgICogQHJldHVybiB7RFNFbGVtZW50fVxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzKGVsZW1lbnQpKSB0aGlzW1wiZGVsZXRlXCJdKGVsZW1lbnQpO2Vsc2UgdGhpcy5hZGQoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfVxuICAgICAgLyoqIEBwYXJhbSB7RFNFbGVtZW50c30gZWxlbWVudHMgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJlbGVtZW50c1wiLFxuXG4gICAgICAvKiogQHJldHVybiB7RFNFbGVtZW50c30gKi9cbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnZhbHVlcygpKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2VsZWN0ZWRTZXQ7XG4gIH0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKFNldCkpO1xuXG4gIHZhciBTZWxlY3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtTZXR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3IgU2VsZWN0aW9uXG4gICAgICogQHBhcmFtIHt7IERTOkRyYWdTZWxlY3QsIGhvdmVyQ2xhc3NOYW1lOnN0cmluZywgbXVsdGlTZWxlY3RUb2dnbGluZzpib29sZWFuIH19IHBcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2VsZWN0aW9uKF9yZWYpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBEUyA9IF9yZWYuRFMsXG4gICAgICAgICAgaG92ZXJDbGFzc05hbWUgPSBfcmVmLmhvdmVyQ2xhc3NOYW1lLFxuICAgICAgICAgIG11bHRpU2VsZWN0VG9nZ2xpbmcgPSBfcmVmLm11bHRpU2VsZWN0VG9nZ2xpbmc7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3Rpb24pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcHJldlNlbGVjdGVkU2V0XCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ob3ZlckNsYXNzTmFtZVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbXVsdGlTZWxlY3RUb2dnbGluZ1wiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFydFwiLCBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gX3JlZjIuZXZlbnQsXG4gICAgICAgICAgICBpc0RyYWdnaW5nID0gX3JlZjIuaXNEcmFnZ2luZztcbiAgICAgICAgaWYgKGlzRHJhZ2dpbmcpIHJldHVybjtcblxuICAgICAgICBfdGhpcy5fc3RvcmVQcmV2aW91cyhldmVudCk7XG5cbiAgICAgICAgX3RoaXMuX2hhbmRsZUluc2lkZVNlbGVjdGlvbih0cnVlLCBldmVudCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXBkYXRlXCIsIGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICB2YXIgaXNEcmFnZ2luZyA9IF9yZWYzLmlzRHJhZ2dpbmc7XG4gICAgICAgIGlmIChpc0RyYWdnaW5nIHx8IF90aGlzLkRTW1wiY29udGludWVcIl0pIHJldHVybjtcblxuICAgICAgICBfdGhpcy5faGFuZGxlSW5zaWRlU2VsZWN0aW9uKCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2hhbmRsZUluc2lkZVNlbGVjdGlvblwiLCBmdW5jdGlvbiAoZm9yY2UsIGV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyREUyA9IF90aGlzLkRTLFxuICAgICAgICAgICAgU2VsZWN0YWJsZVNldCA9IF90aGlzJERTLlNlbGVjdGFibGVTZXQsXG4gICAgICAgICAgICBTZWxlY3RvckFyZWEgPSBfdGhpcyREUy5TZWxlY3RvckFyZWEsXG4gICAgICAgICAgICBTZWxlY3RvciA9IF90aGlzJERTLlNlbGVjdG9yO1xuICAgICAgICAvKiogQHR5cGUge2FueX0gKi9cblxuICAgICAgICB2YXIgZWxQb3NDb21ibyA9IFNlbGVjdGFibGVTZXQuZWxlbWVudHMubWFwKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFtlbGVtZW50LCBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzZWxlY3QgPSBbXTtcbiAgICAgICAgdmFyIHVuc2VsZWN0ID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZWxQb3NDb21iby5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFTZWxlY3RvckFyZWEuaXNJbnNpZGUoZWxQb3NDb21ib1tpXVswXSwgZWxQb3NDb21ib1tpXVsxXSkpIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChpc0NvbGxpc2lvbihlbFBvc0NvbWJvW2ldWzFdLCBTZWxlY3Rvci5yZWN0KSkgc2VsZWN0LnB1c2goZWxQb3NDb21ib1tpXVswXSk7ZWxzZSB1bnNlbGVjdC5wdXNoKGVsUG9zQ29tYm9baV1bMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG11bHRpU2VsZWN0aW9uVG9nZ2xlID0gX3RoaXMuRFMuc3RvcmVzLktleVN0b3JlLmlzTXVsdGlTZWxlY3RLZXlQcmVzc2VkKGV2ZW50KSAmJiBfdGhpcy5fbXVsdGlTZWxlY3RUb2dnbGluZztcblxuICAgICAgICBpZiAoX3RoaXMuRFNbXCJjb250aW51ZVwiXSkgcmV0dXJuO1xuICAgICAgICBzZWxlY3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBoYW5kbGVTZWxlY3Rpb24oe1xuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgIGZvcmNlOiBmb3JjZSxcbiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uVG9nZ2xlOiBtdWx0aVNlbGVjdGlvblRvZ2dsZSxcbiAgICAgICAgICAgIFNlbGVjdGVkU2V0OiBfdGhpcy5EUy5TZWxlY3RlZFNldCxcbiAgICAgICAgICAgIGhvdmVyQ2xhc3NOYW1lOiBfdGhpcy5faG92ZXJDbGFzc05hbWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHVuc2VsZWN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlVW5TZWxlY3Rpb24oe1xuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgIGZvcmNlOiBmb3JjZSxcbiAgICAgICAgICAgIFNlbGVjdGVkU2V0OiBfdGhpcy5EUy5TZWxlY3RlZFNldCxcbiAgICAgICAgICAgIGhvdmVyQ2xhc3NOYW1lOiBfdGhpcy5faG92ZXJDbGFzc05hbWUsXG4gICAgICAgICAgICBQcmV2U2VsZWN0ZWRTZXQ6IF90aGlzLl9wcmV2U2VsZWN0ZWRTZXRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5faG92ZXJDbGFzc05hbWUgPSBob3ZlckNsYXNzTmFtZTtcbiAgICAgIHRoaXMuX211bHRpU2VsZWN0VG9nZ2xpbmcgPSBtdWx0aVNlbGVjdFRvZ2dsaW5nO1xuICAgICAgdGhpcy5EUyA9IERTO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOnN0YXJ0JywgdGhpcy5zdGFydCk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246dXBkYXRlJywgdGhpcy51cGRhdGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9yZXMgdGhlIHByZXZpb3VzIHNlbGVjdGlvbiAoc29sdmVzICM5KVxuICAgICAqIEBwYXJhbSB7RFNFdmVudH0gZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhTZWxlY3Rpb24sIFt7XG4gICAgICBrZXk6IFwiX3N0b3JlUHJldmlvdXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RvcmVQcmV2aW91cyhldmVudCkge1xuICAgICAgICB2YXIgX3RoaXMkRFMyID0gdGhpcy5EUyxcbiAgICAgICAgICAgIEtleVN0b3JlID0gX3RoaXMkRFMyLnN0b3Jlcy5LZXlTdG9yZSxcbiAgICAgICAgICAgIFNlbGVjdGVkU2V0ID0gX3RoaXMkRFMyLlNlbGVjdGVkU2V0O1xuICAgICAgICBpZiAoS2V5U3RvcmUuaXNNdWx0aVNlbGVjdEtleVByZXNzZWQoZXZlbnQpKSB0aGlzLl9wcmV2U2VsZWN0ZWRTZXQgPSBuZXcgU2V0KFNlbGVjdGVkU2V0KTtlbHNlIHRoaXMuX3ByZXZTZWxlY3RlZFNldCA9IG5ldyBTZXQoKTtcbiAgICAgIH1cbiAgICAgIC8qKiBAcGFyYW0ge3tldmVudDpEU0V2ZW50LGlzRHJhZ2dpbmc6Ym9vbGVhbn19IGV2ZW50ICovXG5cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2VsZWN0aW9uO1xuICB9KCk7XG5cbiAgdmFyIFNlbGVjdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RFNCb3VuZGluZ1JlY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvciBTZWxlY3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwXG4gICAgICogQHBhcmFtIHtEcmFnU2VsZWN0fSBwLkRTXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcC5zZWxlY3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwLnNlbGVjdG9yQ2xhc3NcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHAuY3VzdG9tU3R5bGVzXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNlbGVjdG9yKF9yZWYpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBEUyA9IF9yZWYuRFMsXG4gICAgICAgICAgc2VsZWN0b3IgPSBfcmVmLnNlbGVjdG9yLFxuICAgICAgICAgIHNlbGVjdG9yQ2xhc3MgPSBfcmVmLnNlbGVjdG9yQ2xhc3MsXG4gICAgICAgICAgY3VzdG9tU3R5bGVzID0gX3JlZi5jdXN0b21TdHlsZXM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3Rvcik7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZWN0XCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXJ0XCIsIGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgaXNEcmFnZ2luZyA9IF9yZWYyLmlzRHJhZ2dpbmc7XG4gICAgICAgIGlmIChpc0RyYWdnaW5nKSByZXR1cm47XG4gICAgICAgIHZhciBQb2ludGVyU3RvcmUgPSBfdGhpcy5EUy5zdG9yZXMuUG9pbnRlclN0b3JlO1xuICAgICAgICB2YXIgcFBvcyA9IFBvaW50ZXJTdG9yZS5pbml0aWFsVmFsQXJlYTtcbiAgICAgICAgdXBkYXRlRWxlbWVudFN0eWxlUG9zKF90aGlzLkhUTUxOb2RlLCB2ZWN0MnJlY3QocFBvcywgMSkpO1xuICAgICAgICBfdGhpcy5IVE1MTm9kZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgX3RoaXMuX3JlY3QgPSBudWxsO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5IVE1MTm9kZS5zdHlsZS53aWR0aCA9ICcwJztcbiAgICAgICAgX3RoaXMuSFRNTE5vZGUuc3R5bGUuaGVpZ2h0ID0gJzAnO1xuICAgICAgICBfdGhpcy5IVE1MTm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVwZGF0ZVwiLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIGlzRHJhZ2dpbmcgPSBfcmVmMy5pc0RyYWdnaW5nO1xuICAgICAgICBpZiAoaXNEcmFnZ2luZyB8fCBfdGhpcy5EU1tcImNvbnRpbnVlXCJdKSByZXR1cm47XG4gICAgICAgIHZhciBfdGhpcyREUyRzdG9yZXMgPSBfdGhpcy5EUy5zdG9yZXMsXG4gICAgICAgICAgICBTY3JvbGxTdG9yZSA9IF90aGlzJERTJHN0b3Jlcy5TY3JvbGxTdG9yZSxcbiAgICAgICAgICAgIFBvaW50ZXJTdG9yZSA9IF90aGlzJERTJHN0b3Jlcy5Qb2ludGVyU3RvcmU7XG4gICAgICAgIHZhciBwb3MgPSBnZXRTZWxlY3RvclBvc2l0aW9uKHtcbiAgICAgICAgICBzY3JvbGxBbW91bnQ6IFNjcm9sbFN0b3JlLnNjcm9sbEFtb3VudCxcbiAgICAgICAgICBpbml0aWFsUG9pbnRlclBvczogUG9pbnRlclN0b3JlLmluaXRpYWxWYWxBcmVhLFxuICAgICAgICAgIHBvaW50ZXJQb3M6IFBvaW50ZXJTdG9yZS5jdXJyZW50VmFsQXJlYVxuICAgICAgICB9KTtcbiAgICAgICAgdXBkYXRlRWxlbWVudFN0eWxlUG9zKF90aGlzLkhUTUxOb2RlLCBwb3MpO1xuICAgICAgICBfdGhpcy5fcmVjdCA9IG51bGw7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5EUyA9IERTO1xuICAgICAgdGhpcy5IVE1MTm9kZSA9IHNlbGVjdG9yIHx8IGNyZWF0ZVNlbGVjdG9yRWxlbWVudChjdXN0b21TdHlsZXMpO1xuICAgICAgdGhpcy5IVE1MTm9kZS5jbGFzc0xpc3QuYWRkKHNlbGVjdG9yQ2xhc3MpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOnN0YXJ0JywgdGhpcy5zdGFydCk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246dXBkYXRlJywgdGhpcy51cGRhdGUpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOmVuZCcsIHRoaXMuc3RvcCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFNlbGVjdG9yLCBbe1xuICAgICAga2V5OiBcInJlY3RcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAodGhpcy5fcmVjdCkgcmV0dXJuIHRoaXMuX3JlY3Q7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWN0ID0gdGhpcy5IVE1MTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2VsZWN0b3I7XG4gIH0oKTtcblxuICB2YXIgU2VsZWN0b3JBcmVhID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHsqfVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEU0JvdW5kaW5nUmVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0RTRWRnZXN9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtWZWN0Mn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFNlbGVjdG9yQXJlYVxuICAgICAqIEBjb25zdHJ1Y3RvciBTZWxlY3RvckFyZWFcbiAgICAgKiBAcGFyYW0ge3sgRFM6RHJhZ1NlbGVjdCwgc2VsZWN0b3JBcmVhQ2xhc3M6c3RyaW5nLCBhdXRvU2Nyb2xsU3BlZWQ6bnVtYmVyLCBvdmVyZmxvd1RvbGVyYW5jZTpWZWN0Mn19IG9ialxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZWxlY3RvckFyZWEoX3JlZikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIERTID0gX3JlZi5EUyxcbiAgICAgICAgICBzZWxlY3RvckFyZWFDbGFzcyA9IF9yZWYuc2VsZWN0b3JBcmVhQ2xhc3MsXG4gICAgICAgICAgYXV0b1Njcm9sbFNwZWVkID0gX3JlZi5hdXRvU2Nyb2xsU3BlZWQsXG4gICAgICAgICAgb3ZlcmZsb3dUb2xlcmFuY2UgPSBfcmVmLm92ZXJmbG93VG9sZXJhbmNlO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VsZWN0b3JBcmVhKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2F1dG9TY3JvbGxTcGVlZFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2Nyb2xsSW50ZXJ2YWxcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3JlY3RcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY3VycmVudEVkZ2VzXCIsIFtdKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX292ZXJmbG93VG9sZXJhbmNlXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXJ0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmFwcGx5RWxlbWVudHMoJ2FwcGVuZCcpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFwcGx5RWxlbWVudHNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWV0aG9kID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnYXBwZW5kJztcbiAgICAgICAgdmFyIGRvY0VsID0gZG9jdW1lbnQuYm9keSA/ICdib2R5JyA6ICdkb2N1bWVudEVsZW1lbnQnO1xuICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IFwiXCIuY29uY2F0KG1ldGhvZCwgXCJDaGlsZFwiKTtcblxuICAgICAgICBfdGhpcy5IVE1MTm9kZVttZXRob2ROYW1lXShfdGhpcy5EUy5TZWxlY3Rvci5IVE1MTm9kZSk7XG5cbiAgICAgICAgZG9jdW1lbnRbZG9jRWxdW21ldGhvZE5hbWVdKF90aGlzLkhUTUxOb2RlKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1cGRhdGVQb3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5fcmVjdCA9IG51bGw7XG4gICAgICAgIHZhciByZWN0ID0gX3RoaXMuRFMuQXJlYS5yZWN0O1xuICAgICAgICB2YXIgYm9yZGVyID0gX3RoaXMuRFMuQXJlYS5jb21wdXRlZEJvcmRlcjtcbiAgICAgICAgdmFyIHN0eWxlID0gX3RoaXMuSFRNTE5vZGUuc3R5bGU7XG4gICAgICAgIHZhciB0b3AgPSBcIlwiLmNvbmNhdChyZWN0LnRvcCArIGJvcmRlci50b3AsIFwicHhcIik7XG4gICAgICAgIHZhciBsZWZ0ID0gXCJcIi5jb25jYXQocmVjdC5sZWZ0ICsgYm9yZGVyLmxlZnQsIFwicHhcIik7XG4gICAgICAgIHZhciB3aWR0aCA9IFwiXCIuY29uY2F0KHJlY3Qud2lkdGgsIFwicHhcIik7XG4gICAgICAgIHZhciBoZWlnaHQgPSBcIlwiLmNvbmNhdChyZWN0LmhlaWdodCwgXCJweFwiKTtcbiAgICAgICAgaWYgKHN0eWxlLnRvcCAhPT0gdG9wKSBzdHlsZS50b3AgPSB0b3A7XG4gICAgICAgIGlmIChzdHlsZS5sZWZ0ICE9PSBsZWZ0KSBzdHlsZS5sZWZ0ID0gbGVmdDtcbiAgICAgICAgaWYgKHN0eWxlLndpZHRoICE9PSB3aWR0aCkgc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgaWYgKHN0eWxlLmhlaWdodCAhPT0gaGVpZ2h0KSBzdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RvcFwiLCBmdW5jdGlvbiAocmVtb3ZlKSB7XG4gICAgICAgIF90aGlzLnN0b3BBdXRvU2Nyb2xsKCk7XG5cbiAgICAgICAgaWYgKHJlbW92ZSkgX3RoaXMuYXBwbHlFbGVtZW50cygncmVtb3ZlJyk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhcnRBdXRvU2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuY3VycmVudEVkZ2VzID0gW107XG4gICAgICAgIF90aGlzLl9zY3JvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQXV0b1Njcm9sbCgpO1xuICAgICAgICB9LCAxNik7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaGFuZGxlQXV0b1Njcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5EU1tcImNvbnRpbnVlXCJdKSByZXR1cm47XG4gICAgICAgIHZhciBfdGhpcyREUyA9IF90aGlzLkRTLFxuICAgICAgICAgICAgUG9pbnRlclN0b3JlID0gX3RoaXMkRFMuc3RvcmVzLlBvaW50ZXJTdG9yZSxcbiAgICAgICAgICAgIEFyZWEgPSBfdGhpcyREUy5BcmVhO1xuICAgICAgICBfdGhpcy5jdXJyZW50RWRnZXMgPSBnZXRPdmVyZmxvd0VkZ2VzKHtcbiAgICAgICAgICBlbGVtZW50UmVjdDogdmVjdDJyZWN0KFBvaW50ZXJTdG9yZS5jdXJyZW50VmFsKSxcbiAgICAgICAgICBjb250YWluZXJSZWN0OiBfdGhpcy5yZWN0LFxuICAgICAgICAgIHRvbGVyYW5jZTogX3RoaXMuX292ZXJmbG93VG9sZXJhbmNlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoX3RoaXMuY3VycmVudEVkZ2VzLmxlbmd0aCkgQXJlYS5zY3JvbGwoX3RoaXMuY3VycmVudEVkZ2VzLCBfdGhpcy5fYXV0b1Njcm9sbFNwZWVkKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9wQXV0b1Njcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmN1cnJlbnRFZGdlcyA9IFtdO1xuICAgICAgICBjbGVhckludGVydmFsKF90aGlzLl9zY3JvbGxJbnRlcnZhbCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNJbnNpZGVcIiwgZnVuY3Rpb24gKGVsZW1lbnQsIGVsZW1lbnRSZWN0KSB7XG4gICAgICAgIGlmIChfdGhpcy5EUy5BcmVhLkhUTUxOb2RlLmNvbnRhaW5zKGVsZW1lbnQpICYmIF90aGlzLkRTLnN0b3Jlcy5TY3JvbGxTdG9yZS5jYW5TY3JvbGwpIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gaXNDb2xsaXNpb24oX3RoaXMucmVjdCwgZWxlbWVudFJlY3QgfHwgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fYXV0b1Njcm9sbFNwZWVkID0gYXV0b1Njcm9sbFNwZWVkO1xuICAgICAgdGhpcy5fb3ZlcmZsb3dUb2xlcmFuY2UgPSBvdmVyZmxvd1RvbGVyYW5jZTtcbiAgICAgIHRoaXMuRFMgPSBEUztcbiAgICAgIHRoaXMuSFRNTE5vZGUgPSBjcmVhdGVTZWxlY3RvckFyZWFFbGVtZW50KHNlbGVjdG9yQXJlYUNsYXNzKTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdBcmVhOm1vZGlmaWVkJywgdGhpcy51cGRhdGVQb3MpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOmluaXQnLCB0aGlzLnN0YXJ0KTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjpzdGFydCcsIHRoaXMuc3RhcnRBdXRvU2Nyb2xsKTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjplbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnVwZGF0ZVBvcygpO1xuXG4gICAgICAgIF90aGlzLnN0b3BBdXRvU2Nyb2xsKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2VsZWN0b3JBcmVhLCBbe1xuICAgICAga2V5OiBcImlzQ2xpY2tlZFwiLFxuXG4gICAgICAvKipcbiAgICAgICAqIGNoZWNrcyBpZiB0aGUgY2xpY2sgd2FzIHRyaWdnZXJlZCBvbiB0aGUgYXJlYS5cbiAgICAgICAqIEBwYXJhbSB7RFNFdmVudH0gW2V2ZW50XVxuICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NsaWNrZWQoZXZlbnQpIHtcbiAgICAgICAgdmFyIFBvaW50ZXJTdG9yZSA9IHRoaXMuRFMuc3RvcmVzLlBvaW50ZXJTdG9yZTtcbiAgICAgICAgdmFyIGluaXRpYWxWYWwgPSBldmVudCA/IFBvaW50ZXJTdG9yZS5nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpIDogUG9pbnRlclN0b3JlLmluaXRpYWxWYWw7XG4gICAgICAgIHJldHVybiBpc0NvbGxpc2lvbih7XG4gICAgICAgICAgbGVmdDogaW5pdGlhbFZhbC54LFxuICAgICAgICAgIHRvcDogaW5pdGlhbFZhbC55LFxuICAgICAgICAgIHJpZ2h0OiBpbml0aWFsVmFsLngsXG4gICAgICAgICAgYm90dG9tOiBpbml0aWFsVmFsLnlcbiAgICAgICAgfSwgdGhpcy5yZWN0KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVjdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWN0KSByZXR1cm4gdGhpcy5fcmVjdDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlY3QgPSB0aGlzLkhUTUxOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTZWxlY3RvckFyZWE7XG4gIH0oKTtcblxuICB2YXIgS2V5U3RvcmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEU011bHRpU2VsZWN0S2V5c31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7U2V0PHN0cmluZz59XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3tjb250cm9sOnN0cmluZyxzaGlmdDpzdHJpbmcsbWV0YTpzdHJpbmd9fVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBLZXlTdG9yZVxuICAgICAqIEBjb25zdHJ1Y3RvciBLZXlTdG9yZVxuICAgICAqIEBwYXJhbSB7e0RTOkRyYWdTZWxlY3QsbXVsdGlTZWxlY3RLZXlzOkRTTXVsdGlTZWxlY3RLZXlzLG11bHRpU2VsZWN0TW9kZTpib29sZWFufX0gcFxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBLZXlTdG9yZShfcmVmKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgRFMgPSBfcmVmLkRTLFxuICAgICAgICAgIG11bHRpU2VsZWN0S2V5cyA9IF9yZWYubXVsdGlTZWxlY3RLZXlzLFxuICAgICAgICAgIG11bHRpU2VsZWN0TW9kZSA9IF9yZWYubXVsdGlTZWxlY3RNb2RlO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgS2V5U3RvcmUpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbXVsdGlTZWxlY3RNb2RlXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9tdWx0aVNlbGVjdEtleXNcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2N1cnJlbnRWYWx1ZXNcIiwgbmV3IFNldCgpKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2tleU1hcHBpbmdcIiwge1xuICAgICAgICBjb250cm9sOiAnY3RybEtleScsXG4gICAgICAgIHNoaWZ0OiAnc2hpZnRLZXknLFxuICAgICAgICBtZXRhOiAnbWV0YUtleSdcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbml0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIF90aGlzLmtleWRvd24pO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIF90aGlzLmtleXVwKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBfdGhpcy5yZXNldCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGtleSA9IGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIF90aGlzLkRTLnB1Ymxpc2goJ0tleVN0b3JlOmRvd246cHJlJywge1xuICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICBrZXk6IGtleVxuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5fY3VycmVudFZhbHVlcy5hZGQoa2V5KTtcblxuICAgICAgICBfdGhpcy5EUy5wdWJsaXNoKCdLZXlTdG9yZTpkb3duJywge1xuICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICBrZXk6IGtleVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJrZXl1cFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGtleSA9IGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIF90aGlzLkRTLnB1Ymxpc2goJ0tleVN0b3JlOnVwOnByZScsIHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAga2V5OiBrZXlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuX2N1cnJlbnRWYWx1ZXNbXCJkZWxldGVcIl0oa2V5KTtcblxuICAgICAgICBfdGhpcy5EUy5wdWJsaXNoKCdLZXlTdG9yZTp1cCcsIHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAga2V5OiBrZXlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RvcFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBfdGhpcy5rZXlkb3duKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBfdGhpcy5yZXNldCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgX3RoaXMucmVzZXQpO1xuXG4gICAgICAgIF90aGlzLnJlc2V0KCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVzZXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuX2N1cnJlbnRWYWx1ZXMuY2xlYXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLkRTID0gRFM7XG4gICAgICB0aGlzLl9tdWx0aVNlbGVjdE1vZGUgPSBtdWx0aVNlbGVjdE1vZGU7IC8vIEBUT0RPOiByZW1vdmUgYWZ0ZXIgZGVwcmVjYXRpb25cblxuICAgICAgdGhpcy5fbXVsdGlTZWxlY3RLZXlzID0gbXVsdGlTZWxlY3RLZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBkZXByZWNhdGVkS2V5cyA9IHtcbiAgICAgICAgICBjdHJsS2V5OiAnQ29udHJvbCcsXG4gICAgICAgICAgc2hpZnRLZXk6ICdTaGlmdCcsXG4gICAgICAgICAgbWV0YUtleTogJ01ldGEnXG4gICAgICAgIH07XG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuXG4gICAgICAgIHZhciBuZXdOYW1lID0gZGVwcmVjYXRlZEtleXNba2V5XTtcblxuICAgICAgICBpZiAobmV3TmFtZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIltEcmFnU2VsZWN0XSBcIi5jb25jYXQoa2V5LCBcIiBpcyBkZXByZWNhdGVkLiBVc2UgXFxcIlwiKS5jb25jYXQobmV3TmFtZSwgXCJcXFwiIGluc3RlYWQuIEFjdCBOb3chLiBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvXCIpKTtcbiAgICAgICAgICByZXR1cm4gbmV3TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246aW5pdCcsIHRoaXMuaW5pdCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEtleVN0b3JlLCBbe1xuICAgICAga2V5OiBcImlzTXVsdGlTZWxlY3RLZXlQcmVzc2VkXCIsXG5cbiAgICAgIC8qKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSBbZXZlbnRdICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaXNNdWx0aVNlbGVjdEtleVByZXNzZWQoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX211bHRpU2VsZWN0TW9kZSkgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZXMuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5fbXVsdGlTZWxlY3RLZXlzLmluY2x1ZGVzKGtleSk7XG4gICAgICAgIH0pKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGV2ZW50ICYmIHRoaXMuX211bHRpU2VsZWN0S2V5cy5zb21lKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICByZXR1cm4gZXZlbnRbX3RoaXMyLl9rZXlNYXBwaW5nW2tleV1dO1xuICAgICAgICB9KSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY3VycmVudFZhbHVlc1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2N1cnJlbnRWYWx1ZXMudmFsdWVzKCkpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBLZXlTdG9yZTtcbiAgfSgpO1xuXG4gIHZhciBQb2ludGVyU3RvcmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAvLyBQb2ludGVyIFBvc2l0aW9ucyB3aXRoaW4gQXJlYVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1ZlY3QyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtWZWN0Mn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VmVjdDJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuICAgIC8vIEdlbmVyYWwgUG9pbnRlciBQb3NpdGlvblxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1ZlY3QyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtWZWN0Mn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VmVjdDJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1RvdWNoRXZlbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBvaW50ZXJTdG9yZVxuICAgICAqIEBjb25zdHJ1Y3RvciBQb2ludGVyU3RvcmVcbiAgICAgKiBAcGFyYW0ge3tEUzpEcmFnU2VsZWN0fX0gcFxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2ludGVyU3RvcmUoX3JlZikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIERTID0gX3JlZi5EUztcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvaW50ZXJTdG9yZSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc01vdXNlSW50ZXJhY3Rpb25cIiwgZmFsc2UpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW5pdGlhbFZhbEFyZWFcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2N1cnJlbnRWYWxBcmVhXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9sYXN0VmFsQXJlYVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW5pdGlhbFZhbFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY3VycmVudFZhbFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGFzdFZhbFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGFzdFRvdWNoXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy51cGRhdGUpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBfdGhpcy51cGRhdGUsIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0UG9pbnRlclBvc2l0aW9uXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gZ2V0UG9pbnRlclBvcyh7XG4gICAgICAgICAgZXZlbnQ6IF90aGlzLl9ub3JtYWxpemVkRXZlbnQoZXZlbnQpXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVwZGF0ZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFldmVudCkgcmV0dXJuO1xuXG4gICAgICAgIF90aGlzLkRTLnB1Ymxpc2goJ1BvaW50ZXJTdG9yZTp1cGRhdGVkOnByZScsIHtcbiAgICAgICAgICBldmVudDogZXZlbnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuY3VycmVudFZhbCA9IF90aGlzLmdldFBvaW50ZXJQb3NpdGlvbihldmVudCk7XG4gICAgICAgIGlmICghX3RoaXMuX2lzTW91c2VJbnRlcmFjdGlvbikgcmV0dXJuO1xuXG4gICAgICAgIF90aGlzLkRTLnB1Ymxpc2goJ1BvaW50ZXJTdG9yZTp1cGRhdGVkJywge1xuICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9wXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMudXBkYXRlKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgX3RoaXMudXBkYXRlLCB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICAgIH0pOyAvLyBkZWJvdW5jZSBpbiBvcmRlciBcIm9uQ2xpY2tcIiB0byB3b3JrXG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLl9pc01vdXNlSW50ZXJhY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXNldFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFldmVudCkgcmV0dXJuO1xuICAgICAgICBfdGhpcy5jdXJyZW50VmFsID0gX3RoaXMubGFzdFZhbCA9IF90aGlzLmdldFBvaW50ZXJQb3NpdGlvbihldmVudCk7XG5cbiAgICAgICAgX3RoaXMuc3RvcCgpO1xuXG4gICAgICAgIF90aGlzLmluaXQoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLkRTID0gRFM7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246aW5pdCcsIHRoaXMuaW5pdCk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246c3RhcnQnLCBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gX3JlZjIuZXZlbnQ7XG4gICAgICAgIHJldHVybiBfdGhpcy5zdGFydChldmVudCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjplbmQnLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gX3JlZjMuZXZlbnQ7XG4gICAgICAgIHJldHVybiBfdGhpcy5yZXNldChldmVudCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUG9pbnRlclN0b3JlLCBbe1xuICAgICAga2V5OiBcInN0YXJ0XCIsXG5cbiAgICAgIC8qKiBAcGFyYW0ge0RTRXZlbnR9IFtldmVudF0gKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydChldmVudCkge1xuICAgICAgICBpZiAoIWV2ZW50KSByZXR1cm47XG4gICAgICAgIHRoaXMuX2lzTW91c2VJbnRlcmFjdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbCA9IHRoaXMuaW5pdGlhbFZhbCA9IHRoaXMuZ2V0UG9pbnRlclBvc2l0aW9uKGV2ZW50KTtcbiAgICAgIH1cbiAgICAgIC8qKiBAcGFyYW0ge0RTRXZlbnR9IGV2ZW50ICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX25vcm1hbGl6ZWRFdmVudFwiLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7RFNFdmVudH0gZXZlbnRcbiAgICAgICAqIEByZXR1cm4ge01vdXNlRXZlbnR8VG91Y2h9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX25vcm1hbGl6ZWRFdmVudChldmVudCkge1xuICAgICAgICAvLyB0b3VjaGVuZCBoYXMgbm90IHRvdWNoZXMuIHNvIHdlIHRha2UgdGhlIGxhc3QgdG91Y2ggaWYgYSB0b3VjaGV2ZW50LCB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBwb3NpdGlvbnNcbiAgICAgICAgaWYgKCd0b3VjaGVzJyBpbiBldmVudCAmJiBldmVudC50eXBlICE9PSAndG91Y2hlbmQnKSB0aGlzLl9sYXN0VG91Y2ggPSBldmVudDsgLy8gaWYgYSB0b3VjaGV2ZW50LCByZXR1cm4gdGhlIGxhc3QgdG91Y2ggcmF0aGVyIHRoYW4gdGhlIHJlZ3VsYXIgZXZlbnRcbiAgICAgICAgLy8gd2UgbmVlZCAudG91Y2hlc1swXSBmcm9tIHRoYXQgZXZlbnQgaW5zdGVhZFxuXG4gICAgICAgIHJldHVybiAndG91Y2hlcycgaW4gZXZlbnQgPyB0aGlzLl9sYXN0VG91Y2gudG91Y2hlc1swXSA6IGV2ZW50O1xuICAgICAgfVxuICAgICAgLyoqIEZpcnN0IHJlY29yZGVkIHBvaW50ZXIgcG9zaXRpb24gd2l0aGluIHRoZSBhcmVhICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiaW5pdGlhbFZhbEFyZWFcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxWYWxBcmVhKSByZXR1cm4ge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbFZhbEFyZWE7XG4gICAgICB9XG4gICAgICAvKiogQ3VycmVudCBwb2ludGVyIHBvc2l0aW9uIHdpdGhpbiB0aGUgYXJlYSAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImN1cnJlbnRWYWxBcmVhXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jdXJyZW50VmFsQXJlYSkgcmV0dXJuIHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRWYWxBcmVhO1xuICAgICAgfVxuICAgICAgLyoqIExhc3QgcmVjb3JkZWQgcG9pbnRlciBwb3NpdGlvbiB3aXRoaW4gdGhlIGFyZWEgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJsYXN0VmFsQXJlYVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbGFzdFZhbEFyZWEpIHJldHVybiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0VmFsQXJlYTtcbiAgICAgIH1cbiAgICAgIC8qKiBGaXJzdCByZWNvcmRlZCBwb2ludGVyIHBvc2l0aW9uICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiaW5pdGlhbFZhbFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbFZhbCkgcmV0dXJuIHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxWYWw7XG4gICAgICB9XG4gICAgICAvKiogQ3VycmVudCBwb2ludGVyIHBvc2l0aW9uICovXG4gICAgICAsXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pbml0aWFsVmFsID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2luaXRpYWxWYWxBcmVhID0gdmFsdWUgJiYgY2FsYyh2YWx1ZSwgJy0nLCBjYWxjKHJlY3QydmVjdCh0aGlzLkRTLkFyZWEucmVjdCksICcrJywgcmVjdDJ2ZWN0KHRoaXMuRFMuQXJlYS5jb21wdXRlZEJvcmRlcikpKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY3VycmVudFZhbFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY3VycmVudFZhbCkgcmV0dXJuIHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRWYWw7XG4gICAgICB9XG4gICAgICAvKiogTGFzdCByZWNvcmRlZCBwb2ludGVyIHBvc2l0aW9uICovXG4gICAgICAsXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9jdXJyZW50VmFsID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRWYWxBcmVhID0gdmFsdWUgJiYgY2FsYyh2YWx1ZSwgJy0nLCBjYWxjKHJlY3QydmVjdCh0aGlzLkRTLkFyZWEucmVjdCksICcrJywgcmVjdDJ2ZWN0KHRoaXMuRFMuQXJlYS5jb21wdXRlZEJvcmRlcikpKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwibGFzdFZhbFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbGFzdFZhbCkgcmV0dXJuIHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RWYWw7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbGFzdFZhbCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9sYXN0VmFsQXJlYSA9IHZhbHVlICYmIGNhbGModmFsdWUsICctJywgY2FsYyhyZWN0MnZlY3QodGhpcy5EUy5BcmVhLnJlY3QpLCAnKycsIHJlY3QydmVjdCh0aGlzLkRTLkFyZWEuY29tcHV0ZWRCb3JkZXIpKSk7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFBvaW50ZXJTdG9yZTtcbiAgfSgpO1xuXG4gIHZhciBTY3JvbGxTdG9yZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge1ZlY3QyfVxuICAgICAqIEBwcml2YXRlICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VmVjdDJ9XG4gICAgICogQHByaXZhdGUgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEU0FyZWF9XG4gICAgICogQHByaXZhdGUgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlICovXG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgU2Nyb2xsU3RvcmVcbiAgICAgKiBAY29uc3RydWN0b3IgU2Nyb2xsU3RvcmVcbiAgICAgKiBAcGFyYW0ge3sgRFM6RHJhZ1NlbGVjdCwgYXJlYUVsZW1lbnQ6IERTQXJlYSwgem9vbTpudW1iZXIgfX0gcFxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTY3JvbGxTdG9yZShfcmVmKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgRFMgPSBfcmVmLkRTLFxuICAgICAgICAgIGFyZWFFbGVtZW50ID0gX3JlZi5hcmVhRWxlbWVudCxcbiAgICAgICAgICB6b29tID0gX3JlZi56b29tO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2Nyb2xsU3RvcmUpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW5pdGlhbFZhbFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY3VycmVudFZhbFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYXJlYUVsZW1lbnRcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NhblNjcm9sbFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbml0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9hcmVhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfdGhpcy51cGRhdGUpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXJ0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuX2N1cnJlbnRWYWwgPSBfdGhpcy5faW5pdGlhbFZhbCA9IGdldEN1cnJlbnRTY3JvbGwoX3RoaXMuX2FyZWFFbGVtZW50KTtcblxuICAgICAgICBfdGhpcy5fYXJlYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX3RoaXMudXBkYXRlKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1cGRhdGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuX2N1cnJlbnRWYWwgPSBnZXRDdXJyZW50U2Nyb2xsKF90aGlzLl9hcmVhRWxlbWVudCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RvcFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLl9hcmVhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfdGhpcy51cGRhdGUpO1xuXG4gICAgICAgIF90aGlzLl9pbml0aWFsVmFsID0ge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5fY2FuU2Nyb2xsID0gbnVsbDtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXNldFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnN0b3AoKTtcblxuICAgICAgICBfdGhpcy5zdGFydCgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2FyZWFFbGVtZW50ID0gYXJlYUVsZW1lbnQ7XG4gICAgICB0aGlzLkRTID0gRFM7XG4gICAgICB0aGlzLnpvb20gPSB6b29tO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOmluaXQnLCB0aGlzLmluaXQpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOnN0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RhcnQoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOmVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnJlc2V0KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2Nyb2xsU3RvcmUsIFt7XG4gICAgICBrZXk6IFwiY2FuU2Nyb2xsXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jYW5TY3JvbGwgPT09ICdib29sZWFuJykgcmV0dXJuIHRoaXMuX2NhblNjcm9sbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhblNjcm9sbCA9IGNhblNjcm9sbCh0aGlzLl9hcmVhRWxlbWVudCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNjcm9sbEFtb3VudFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHZhciBzY3JvbGxEaWZmID0gY2FsYyh0aGlzLmN1cnJlbnRWYWwsICctJywgdGhpcy5pbml0aWFsVmFsKTsgLy8gaWYgYXJlYSBpcyB6b29tZWQsIHRoZSBzY3JvbGwgdmFsdWVzIGFyZSBza2V3ZWQsIHdlIG5lZWQgdG8gZml4IHRoYXQgbWFudWFsbHkgOihcblxuICAgICAgICB2YXIgem9vbSA9IG51bTJ2ZWN0KHRoaXMuem9vbSk7XG4gICAgICAgIHZhciB6b29tU2Nyb2xsID0gY2FsYyhjYWxjKHNjcm9sbERpZmYsICcqJywgem9vbSksICctJywgc2Nyb2xsRGlmZik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogc2Nyb2xsRGlmZi54ICsgem9vbVNjcm9sbC54LFxuICAgICAgICAgIHk6IHNjcm9sbERpZmYueSArIHpvb21TY3JvbGwueVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJpbml0aWFsVmFsXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsVmFsKSByZXR1cm4ge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbFZhbDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY3VycmVudFZhbFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY3VycmVudFZhbCkgdGhpcy5fY3VycmVudFZhbCA9IGdldEN1cnJlbnRTY3JvbGwodGhpcy5fYXJlYUVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFZhbDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2Nyb2xsU3RvcmU7XG4gIH0oKTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIHZhciBEcmFnU2VsZWN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiB1c2VkIHRvIHNraXAgYWxsIGN1cnJlbnQgU2VsZWN0aW9uIGFuZCBkcmFnTmRyb3AgZnVuY3Rpb25hbGl0eVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIERyYWdTZWxlY3RcbiAgICAgKiBAY29uc3RydWN0b3IgRHJhZ1NlbGVjdFxuICAgICAqIEBwYXJhbSB7U2V0dGluZ3N9IHNldHRpbmdzXG4gICAgICovXG4gICAgZnVuY3Rpb24gRHJhZ1NlbGVjdChfcmVmKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgX3JlZiRhcmVhID0gX3JlZi5hcmVhLFxuICAgICAgICAgIGFyZWEgPSBfcmVmJGFyZWEgPT09IHZvaWQgMCA/IGRvY3VtZW50IDogX3JlZiRhcmVhLFxuICAgICAgICAgIF9yZWYkc2VsZWN0YWJsZXMgPSBfcmVmLnNlbGVjdGFibGVzLFxuICAgICAgICAgIHNlbGVjdGFibGVzID0gX3JlZiRzZWxlY3RhYmxlcyA9PT0gdm9pZCAwID8gW10gOiBfcmVmJHNlbGVjdGFibGVzLFxuICAgICAgICAgIF9yZWYkYXV0b1Njcm9sbFNwZWVkID0gX3JlZi5hdXRvU2Nyb2xsU3BlZWQsXG4gICAgICAgICAgYXV0b1Njcm9sbFNwZWVkID0gX3JlZiRhdXRvU2Nyb2xsU3BlZWQgPT09IHZvaWQgMCA/IDUgOiBfcmVmJGF1dG9TY3JvbGxTcGVlZCxcbiAgICAgICAgICBfcmVmJG92ZXJmbG93VG9sZXJhbmMgPSBfcmVmLm92ZXJmbG93VG9sZXJhbmNlLFxuICAgICAgICAgIG92ZXJmbG93VG9sZXJhbmNlID0gX3JlZiRvdmVyZmxvd1RvbGVyYW5jID09PSB2b2lkIDAgPyB7XG4gICAgICAgIHg6IDI1LFxuICAgICAgICB5OiAyNVxuICAgICAgfSA6IF9yZWYkb3ZlcmZsb3dUb2xlcmFuYyxcbiAgICAgICAgICBfcmVmJHpvb20gPSBfcmVmLnpvb20sXG4gICAgICAgICAgem9vbSA9IF9yZWYkem9vbSA9PT0gdm9pZCAwID8gMSA6IF9yZWYkem9vbSxcbiAgICAgICAgICBfcmVmJGN1c3RvbVN0eWxlcyA9IF9yZWYuY3VzdG9tU3R5bGVzLFxuICAgICAgICAgIGN1c3RvbVN0eWxlcyA9IF9yZWYkY3VzdG9tU3R5bGVzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkY3VzdG9tU3R5bGVzLFxuICAgICAgICAgIF9yZWYkbXVsdGlTZWxlY3RNb2RlID0gX3JlZi5tdWx0aVNlbGVjdE1vZGUsXG4gICAgICAgICAgbXVsdGlTZWxlY3RNb2RlID0gX3JlZiRtdWx0aVNlbGVjdE1vZGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRtdWx0aVNlbGVjdE1vZGUsXG4gICAgICAgICAgX3JlZiRtdWx0aVNlbGVjdFRvZ2dsID0gX3JlZi5tdWx0aVNlbGVjdFRvZ2dsaW5nLFxuICAgICAgICAgIG11bHRpU2VsZWN0VG9nZ2xpbmcgPSBfcmVmJG11bHRpU2VsZWN0VG9nZ2wgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJG11bHRpU2VsZWN0VG9nZ2wsXG4gICAgICAgICAgX3JlZiRtdWx0aVNlbGVjdEtleXMgPSBfcmVmLm11bHRpU2VsZWN0S2V5cyxcbiAgICAgICAgICBtdWx0aVNlbGVjdEtleXMgPSBfcmVmJG11bHRpU2VsZWN0S2V5cyA9PT0gdm9pZCAwID8gWydDb250cm9sJywgJ1NoaWZ0JywgJ01ldGEnXSA6IF9yZWYkbXVsdGlTZWxlY3RLZXlzLFxuICAgICAgICAgIF9yZWYkc2VsZWN0b3IgPSBfcmVmLnNlbGVjdG9yLFxuICAgICAgICAgIHNlbGVjdG9yID0gX3JlZiRzZWxlY3RvciA9PT0gdm9pZCAwID8gdW5kZWZpbmVkIDogX3JlZiRzZWxlY3RvcixcbiAgICAgICAgICBfcmVmJGRyYWdnYWJpbGl0eSA9IF9yZWYuZHJhZ2dhYmlsaXR5LFxuICAgICAgICAgIGRyYWdnYWJpbGl0eSA9IF9yZWYkZHJhZ2dhYmlsaXR5ID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRkcmFnZ2FiaWxpdHksXG4gICAgICAgICAgX3JlZiRpbW1lZGlhdGVEcmFnID0gX3JlZi5pbW1lZGlhdGVEcmFnLFxuICAgICAgICAgIGltbWVkaWF0ZURyYWcgPSBfcmVmJGltbWVkaWF0ZURyYWcgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGltbWVkaWF0ZURyYWcsXG4gICAgICAgICAgX3JlZiRrZXlib2FyZERyYWcgPSBfcmVmLmtleWJvYXJkRHJhZyxcbiAgICAgICAgICBrZXlib2FyZERyYWcgPSBfcmVmJGtleWJvYXJkRHJhZyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYka2V5Ym9hcmREcmFnLFxuICAgICAgICAgIGRyYWdLZXlzID0gX3JlZi5kcmFnS2V5cyxcbiAgICAgICAgICBfcmVmJGtleWJvYXJkRHJhZ1NwZWUgPSBfcmVmLmtleWJvYXJkRHJhZ1NwZWVkLFxuICAgICAgICAgIGtleWJvYXJkRHJhZ1NwZWVkID0gX3JlZiRrZXlib2FyZERyYWdTcGVlID09PSB2b2lkIDAgPyAxMCA6IF9yZWYka2V5Ym9hcmREcmFnU3BlZSxcbiAgICAgICAgICBfcmVmJHVzZVRyYW5zZm9ybSA9IF9yZWYudXNlVHJhbnNmb3JtLFxuICAgICAgICAgIHVzZVRyYW5zZm9ybSA9IF9yZWYkdXNlVHJhbnNmb3JtID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiR1c2VUcmFuc2Zvcm0sXG4gICAgICAgICAgX3JlZiRob3ZlckNsYXNzID0gX3JlZi5ob3ZlckNsYXNzLFxuICAgICAgICAgIGhvdmVyQ2xhc3MgPSBfcmVmJGhvdmVyQ2xhc3MgPT09IHZvaWQgMCA/ICdkcy1ob3ZlcicgOiBfcmVmJGhvdmVyQ2xhc3MsXG4gICAgICAgICAgX3JlZiRzZWxlY3RhYmxlQ2xhc3MgPSBfcmVmLnNlbGVjdGFibGVDbGFzcyxcbiAgICAgICAgICBzZWxlY3RhYmxlQ2xhc3MgPSBfcmVmJHNlbGVjdGFibGVDbGFzcyA9PT0gdm9pZCAwID8gJ2RzLXNlbGVjdGFibGUnIDogX3JlZiRzZWxlY3RhYmxlQ2xhc3MsXG4gICAgICAgICAgX3JlZiRzZWxlY3RlZENsYXNzID0gX3JlZi5zZWxlY3RlZENsYXNzLFxuICAgICAgICAgIHNlbGVjdGVkQ2xhc3MgPSBfcmVmJHNlbGVjdGVkQ2xhc3MgPT09IHZvaWQgMCA/ICdkcy1zZWxlY3RlZCcgOiBfcmVmJHNlbGVjdGVkQ2xhc3MsXG4gICAgICAgICAgX3JlZiRzZWxlY3RvckNsYXNzID0gX3JlZi5zZWxlY3RvckNsYXNzLFxuICAgICAgICAgIHNlbGVjdG9yQ2xhc3MgPSBfcmVmJHNlbGVjdG9yQ2xhc3MgPT09IHZvaWQgMCA/ICdkcy1zZWxlY3RvcicgOiBfcmVmJHNlbGVjdG9yQ2xhc3MsXG4gICAgICAgICAgX3JlZiRzZWxlY3RvckFyZWFDbGFzID0gX3JlZi5zZWxlY3RvckFyZWFDbGFzcyxcbiAgICAgICAgICBzZWxlY3RvckFyZWFDbGFzcyA9IF9yZWYkc2VsZWN0b3JBcmVhQ2xhcyA9PT0gdm9pZCAwID8gJ2RzLXNlbGVjdG9yLWFyZWEnIDogX3JlZiRzZWxlY3RvckFyZWFDbGFzLFxuICAgICAgICAgIGNhbGxiYWNrID0gX3JlZi5jYWxsYmFjayxcbiAgICAgICAgICBvbkRyYWdNb3ZlID0gX3JlZi5vbkRyYWdNb3ZlLFxuICAgICAgICAgIG9uRHJhZ1N0YXJ0QmVnaW4gPSBfcmVmLm9uRHJhZ1N0YXJ0QmVnaW4sXG4gICAgICAgICAgb25EcmFnU3RhcnQgPSBfcmVmLm9uRHJhZ1N0YXJ0LFxuICAgICAgICAgIG9uRWxlbWVudFNlbGVjdCA9IF9yZWYub25FbGVtZW50U2VsZWN0LFxuICAgICAgICAgIG9uRWxlbWVudFVuc2VsZWN0ID0gX3JlZi5vbkVsZW1lbnRVbnNlbGVjdDtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyYWdTZWxlY3QpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb250aW51ZVwiLCBmYWxzZSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXJ0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc3RvcHBlZCA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLkludGVyYWN0aW9uLmluaXQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJicmVha1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpc1tcImNvbnRpbnVlXCJdID0gdHJ1ZTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRTZWxlY3Rpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuU2VsZWN0ZWRTZXQuZWxlbWVudHM7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0U2VsZWN0YWJsZXNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuU2VsZWN0YWJsZVNldC5lbGVtZW50cztcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRJbml0aWFsQ3Vyc29yUG9zaXRpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RvcmVzLlBvaW50ZXJTdG9yZS5pbml0aWFsVmFsO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdldEN1cnJlbnRDdXJzb3JQb3NpdGlvblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zdG9yZXMuUG9pbnRlclN0b3JlLmN1cnJlbnRWYWw7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0UHJldmlvdXNDdXJzb3JQb3NpdGlvblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zdG9yZXMuUG9pbnRlclN0b3JlLmxhc3RWYWw7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0SW5pdGlhbEN1cnNvclBvc2l0aW9uQXJlYVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zdG9yZXMuUG9pbnRlclN0b3JlLmluaXRpYWxWYWxBcmVhO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdldEN1cnJlbnRDdXJzb3JQb3NpdGlvbkFyZWFcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RvcmVzLlBvaW50ZXJTdG9yZS5jdXJyZW50VmFsQXJlYTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRQcmV2aW91c0N1cnNvclBvc2l0aW9uQXJlYVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zdG9yZXMuUG9pbnRlclN0b3JlLmxhc3RWYWxBcmVhO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzTXVsdGlTZWxlY3RcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zdG9yZXMuS2V5U3RvcmUuaXNNdWx0aVNlbGVjdEtleVByZXNzZWQoZXZlbnQpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzRHJhZ2dpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuSW50ZXJhY3Rpb24uaXNEcmFnZ2luZztcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLlB1YlN1YiA9IG5ldyBQdWJTdWIoe1xuICAgICAgICBEUzogdGhpc1xuICAgICAgfSk7XG4gICAgICB0aGlzLnN1YnNjcmliZSA9IHRoaXMuUHViU3ViLnN1YnNjcmliZTtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSB0aGlzLlB1YlN1Yi51bnN1YnNjcmliZTtcbiAgICAgIHRoaXMucHVibGlzaCA9IHRoaXMuUHViU3ViLnB1Ymxpc2g7XG5cbiAgICAgIHRoaXMuX2NhbGxiYWNrc1RlbXAoe1xuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIG9uRHJhZ01vdmU6IG9uRHJhZ01vdmUsXG4gICAgICAgIG9uRHJhZ1N0YXJ0OiBvbkRyYWdTdGFydCxcbiAgICAgICAgb25EcmFnU3RhcnRCZWdpbjogb25EcmFnU3RhcnRCZWdpbixcbiAgICAgICAgb25FbGVtZW50U2VsZWN0OiBvbkVsZW1lbnRTZWxlY3QsXG4gICAgICAgIG9uRWxlbWVudFVuc2VsZWN0OiBvbkVsZW1lbnRVbnNlbGVjdFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc3RvcmVzID0ge1xuICAgICAgICBQb2ludGVyU3RvcmU6IG5ldyBQb2ludGVyU3RvcmUoe1xuICAgICAgICAgIERTOiB0aGlzXG4gICAgICAgIH0pLFxuICAgICAgICBTY3JvbGxTdG9yZTogbmV3IFNjcm9sbFN0b3JlKHtcbiAgICAgICAgICBEUzogdGhpcyxcbiAgICAgICAgICBhcmVhRWxlbWVudDogYXJlYSxcbiAgICAgICAgICB6b29tOiB6b29tXG4gICAgICAgIH0pLFxuICAgICAgICBLZXlTdG9yZTogbmV3IEtleVN0b3JlKHtcbiAgICAgICAgICBEUzogdGhpcyxcbiAgICAgICAgICBtdWx0aVNlbGVjdEtleXM6IG11bHRpU2VsZWN0S2V5cyxcbiAgICAgICAgICBtdWx0aVNlbGVjdE1vZGU6IG11bHRpU2VsZWN0TW9kZVxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICAgIHRoaXMuQXJlYSA9IG5ldyBBcmVhKHtcbiAgICAgICAgYXJlYTogYXJlYSxcbiAgICAgICAgUFM6IHRoaXMuUHViU3ViLFxuICAgICAgICB6b29tOiB6b29tXG4gICAgICB9KTtcbiAgICAgIHRoaXMuU2VsZWN0b3IgPSBuZXcgU2VsZWN0b3Ioe1xuICAgICAgICBEUzogdGhpcyxcbiAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgICAgICBzZWxlY3RvckNsYXNzOiBzZWxlY3RvckNsYXNzLFxuICAgICAgICBjdXN0b21TdHlsZXM6IGN1c3RvbVN0eWxlc1xuICAgICAgfSk7XG4gICAgICB0aGlzLlNlbGVjdG9yQXJlYSA9IG5ldyBTZWxlY3RvckFyZWEoe1xuICAgICAgICBEUzogdGhpcyxcbiAgICAgICAgc2VsZWN0b3JBcmVhQ2xhc3M6IHNlbGVjdG9yQXJlYUNsYXNzLFxuICAgICAgICBhdXRvU2Nyb2xsU3BlZWQ6IGF1dG9TY3JvbGxTcGVlZCxcbiAgICAgICAgb3ZlcmZsb3dUb2xlcmFuY2U6IG92ZXJmbG93VG9sZXJhbmNlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuU2VsZWN0YWJsZVNldCA9IG5ldyBTZWxlY3RhYmxlU2V0KHtcbiAgICAgICAgZWxlbWVudHM6IHNlbGVjdGFibGVzLFxuICAgICAgICBEUzogdGhpcyxcbiAgICAgICAgY2xhc3NOYW1lOiBzZWxlY3RhYmxlQ2xhc3MsXG4gICAgICAgIGhvdmVyQ2xhc3NOYW1lOiBob3ZlckNsYXNzLFxuICAgICAgICB1c2VUcmFuc2Zvcm06IHVzZVRyYW5zZm9ybSxcbiAgICAgICAgZHJhZ2dhYmlsaXR5OiBkcmFnZ2FiaWxpdHlcbiAgICAgIH0pO1xuICAgICAgdGhpcy5TZWxlY3RlZFNldCA9IG5ldyBTZWxlY3RlZFNldCh7XG4gICAgICAgIERTOiB0aGlzLFxuICAgICAgICBjbGFzc05hbWU6IHNlbGVjdGVkQ2xhc3NcbiAgICAgIH0pO1xuICAgICAgdGhpcy5TZWxlY3Rpb24gPSBuZXcgU2VsZWN0aW9uKHtcbiAgICAgICAgRFM6IHRoaXMsXG4gICAgICAgIGhvdmVyQ2xhc3NOYW1lOiBob3ZlckNsYXNzLFxuICAgICAgICBtdWx0aVNlbGVjdFRvZ2dsaW5nOiBtdWx0aVNlbGVjdFRvZ2dsaW5nXG4gICAgICB9KTtcbiAgICAgIHRoaXMuRHJhZyA9IG5ldyBEcmFnKHtcbiAgICAgICAgRFM6IHRoaXMsXG4gICAgICAgIGRyYWdnYWJpbGl0eTogZHJhZ2dhYmlsaXR5LFxuICAgICAgICB1c2VUcmFuc2Zvcm06IHVzZVRyYW5zZm9ybSxcbiAgICAgICAga2V5Ym9hcmREcmFnOiBrZXlib2FyZERyYWcsXG4gICAgICAgIGRyYWdLZXlzOiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICB1cDogWydBcnJvd1VwJ10sXG4gICAgICAgICAgZG93bjogWydBcnJvd0Rvd24nXSxcbiAgICAgICAgICBsZWZ0OiBbJ0Fycm93TGVmdCddLFxuICAgICAgICAgIHJpZ2h0OiBbJ0Fycm93UmlnaHQnXVxuICAgICAgICB9LCBkcmFnS2V5cyksXG4gICAgICAgIHpvb206IHpvb20sXG4gICAgICAgIGtleWJvYXJkRHJhZ1NwZWVkOiBrZXlib2FyZERyYWdTcGVlZFxuICAgICAgfSk7XG4gICAgICB0aGlzLkludGVyYWN0aW9uID0gbmV3IEludGVyYWN0aW9uKHtcbiAgICAgICAgYXJlYUVsZW1lbnQ6IGFyZWEsXG4gICAgICAgIERTOiB0aGlzLFxuICAgICAgICBkcmFnZ2FiaWxpdHk6IGRyYWdnYWJpbGl0eSxcbiAgICAgICAgaW1tZWRpYXRlRHJhZzogaW1tZWRpYXRlRHJhZ1xuICAgICAgfSk7IC8vIFN1YnNjcmliZXIgQWxpYXNlc1xuXG4gICAgICBzdWJzY3JpYmVyQWxpYXNlcyh7XG4gICAgICAgIHN1YnNjcmliZTogdGhpcy5zdWJzY3JpYmUsXG4gICAgICAgIHB1Ymxpc2g6IHRoaXMucHVibGlzaCxcbiAgICAgICAgU2VsZWN0ZWRTZXQ6IHRoaXMuU2VsZWN0ZWRTZXQsXG4gICAgICAgIEludGVyYWN0aW9uOiB0aGlzLkludGVyYWN0aW9uXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjplbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpc1tcImNvbnRpbnVlXCJdID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9IC8vIEBUT0RPOiByZW1vdmUgYWZ0ZXIgZGVwcmVjYXRpb25cblxuXG4gICAgX2NyZWF0ZUNsYXNzKERyYWdTZWxlY3QsIFt7XG4gICAgICBrZXk6IFwiX2NhbGxiYWNrc1RlbXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsbGJhY2tzVGVtcChfcmVmMikge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBfcmVmMi5jYWxsYmFjayxcbiAgICAgICAgICAgIG9uRHJhZ01vdmUgPSBfcmVmMi5vbkRyYWdNb3ZlLFxuICAgICAgICAgICAgb25EcmFnU3RhcnQgPSBfcmVmMi5vbkRyYWdTdGFydCxcbiAgICAgICAgICAgIG9uRHJhZ1N0YXJ0QmVnaW4gPSBfcmVmMi5vbkRyYWdTdGFydEJlZ2luLFxuICAgICAgICAgICAgb25FbGVtZW50U2VsZWN0ID0gX3JlZjIub25FbGVtZW50U2VsZWN0LFxuICAgICAgICAgICAgb25FbGVtZW50VW5zZWxlY3QgPSBfcmVmMi5vbkVsZW1lbnRVbnNlbGVjdDtcblxuICAgICAgICB2YXIgd2Fybk1lc3NhZ2UgPSBmdW5jdGlvbiB3YXJuTWVzc2FnZShuYW1lLCBuZXdOYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUud2FybihcIltEcmFnU2VsZWN0XSBcIi5jb25jYXQobmFtZSwgXCIgaXMgZGVwcmVjYXRlZC4gVXNlIERyYWdTZWxlY3Quc3Vic2NyaWJlKFxcXCJcIikuY29uY2F0KG5ld05hbWUsIFwiXFxcIiwgKGNhbGxiYWNrT2JqZWN0KSA9PiB7fSkgaW5zdGVhZC4gQWN0IE5vdyEgU2VlIGRvY3MgZm9yIG1vcmUgaW5mb1wiKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgd2Fybk1lc3NhZ2UoJ2NhbGxiYWNrJywgJ2NhbGxiYWNrJyk7XG4gICAgICAgICAgdGhpcy5zdWJzY3JpYmUoJ2NhbGxiYWNrJywgZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBfcmVmMy5pdGVtcyxcbiAgICAgICAgICAgICAgICBpdGVtID0gX3JlZjMuaXRlbSxcbiAgICAgICAgICAgICAgICBldmVudCA9IF9yZWYzLmV2ZW50O1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGl0ZW1zLCBldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob25EcmFnTW92ZSkge1xuICAgICAgICAgIHdhcm5NZXNzYWdlKCdvbkRyYWdNb3ZlJywgJ2RyYWdtb3ZlJyk7XG4gICAgICAgICAgdGhpcy5zdWJzY3JpYmUoJ2RyYWdtb3ZlJywgZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBfcmVmNC5pdGVtcyxcbiAgICAgICAgICAgICAgICBpdGVtID0gX3JlZjQuaXRlbSxcbiAgICAgICAgICAgICAgICBldmVudCA9IF9yZWY0LmV2ZW50O1xuICAgICAgICAgICAgcmV0dXJuIG9uRHJhZ01vdmUoZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9uRHJhZ1N0YXJ0KSB7XG4gICAgICAgICAgd2Fybk1lc3NhZ2UoJ29uRHJhZ1N0YXJ0JywgJ2RyYWdzdGFydCcpO1xuICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKCdkcmFnc3RhcnQnLCBmdW5jdGlvbiAoX3JlZjUpIHtcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IF9yZWY1Lml0ZW1zLFxuICAgICAgICAgICAgICAgIGl0ZW0gPSBfcmVmNS5pdGVtLFxuICAgICAgICAgICAgICAgIGV2ZW50ID0gX3JlZjUuZXZlbnQ7XG4gICAgICAgICAgICByZXR1cm4gb25EcmFnU3RhcnQoZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9uRHJhZ1N0YXJ0QmVnaW4pIHtcbiAgICAgICAgICB3YXJuTWVzc2FnZSgnb25EcmFnU3RhcnRCZWdpbicsICdkcmFnc3RhcnQnKTtcbiAgICAgICAgICB0aGlzLnN1YnNjcmliZSgnZHJhZ3N0YXJ0JywgZnVuY3Rpb24gKF9yZWY2KSB7XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBfcmVmNi5pdGVtcyxcbiAgICAgICAgICAgICAgICBpdGVtID0gX3JlZjYuaXRlbSxcbiAgICAgICAgICAgICAgICBldmVudCA9IF9yZWY2LmV2ZW50O1xuICAgICAgICAgICAgcmV0dXJuIG9uRHJhZ1N0YXJ0QmVnaW4oZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9uRWxlbWVudFNlbGVjdCkge1xuICAgICAgICAgIHdhcm5NZXNzYWdlKCdvbkVsZW1lbnRTZWxlY3QnLCAnZWxlbWVudHNlbGVjdCcpO1xuICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKCdlbGVtZW50c2VsZWN0JywgZnVuY3Rpb24gKF9yZWY3KSB7XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBfcmVmNy5pdGVtcyxcbiAgICAgICAgICAgICAgICBpdGVtID0gX3JlZjcuaXRlbSxcbiAgICAgICAgICAgICAgICBldmVudCA9IF9yZWY3LmV2ZW50O1xuICAgICAgICAgICAgcmV0dXJuIG9uRWxlbWVudFNlbGVjdChpdGVtLCBldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob25FbGVtZW50VW5zZWxlY3QpIHtcbiAgICAgICAgICB3YXJuTWVzc2FnZSgnb25FbGVtZW50VW5zZWxlY3QnLCAnZWxlbWVudHVuc2VsZWN0Jyk7XG4gICAgICAgICAgdGhpcy5zdWJzY3JpYmUoJ2VsZW1lbnR1bnNlbGVjdCcsIGZ1bmN0aW9uIChfcmVmOCkge1xuICAgICAgICAgICAgdmFyIGl0ZW1zID0gX3JlZjguaXRlbXMsXG4gICAgICAgICAgICAgICAgaXRlbSA9IF9yZWY4Lml0ZW0sXG4gICAgICAgICAgICAgICAgZXZlbnQgPSBfcmVmOC5ldmVudDtcbiAgICAgICAgICAgIHJldHVybiBvbkVsZW1lbnRVbnNlbGVjdChpdGVtLCBldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gVXNlZnVsIG1ldGhvZHMgZm9yIHRoZSB1c2VyXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAvKipcbiAgICAgICAqIEluaXRpYWxpemVzIHRoZSBmdW5jdGlvbmFsaXR5LiBBdXRvbWF0aWNhbGx5IHRyaWdnZXJlZCB3aGVuIGNyZWF0ZWQuXG4gICAgICAgKiBBbHNvLCByZXNldCB0aGUgZnVuY3Rpb25hbGl0eSBhZnRlciBhIHRlYXJkb3duXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzdG9wXCIsXG5cbiAgICAgIC8qKlxuICAgICAgICogQ29tcGxldGUgZnVuY3Rpb24gdGVhcmRvd25cbiAgICAgICAqIFdpbGwgdGVhcmRvd24vc3RvcCB0aGUgd2hvbGUgZnVuY3Rpb25hbGl0eVxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlXSAtIGlmIGVsZW1lbnRzIHNob3VsZCBiZSByZW1vdmVkLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVNlbGVjdGlvbl0gLSBpZiBlbGVtZW50cyBzaG91bGQgYWxzbyBiZSBhZGRlZC9yZW1vdmVkIHRvIHRoZSBzZWxlY3Rpb24uXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt3aXRoQ2FsbGJhY2tdIC0gaWYgZWxlbWVudHMgc2hvdWxkIGFsc28gYmUgYWRkZWQvcmVtb3ZlZCB0byB0aGUgc2VsZWN0aW9uLlxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgdmFyIHJlbW92ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcbiAgICAgICAgdmFyIGZyb21TZWxlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG4gICAgICAgIHZhciB3aXRoQ2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICAgICAgICBpZiAod2l0aENhbGxiYWNrKSB0aGlzLnB1Ymxpc2goJ2NhbGxiYWNrJywge1xuICAgICAgICAgIGl0ZW1zOiB0aGlzLmdldFNlbGVjdGlvbigpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLkludGVyYWN0aW9uLnN0b3AoKTtcbiAgICAgICAgdGhpcy5BcmVhLnN0b3AoKTtcbiAgICAgICAgdGhpcy5EcmFnLnN0b3AoKTtcbiAgICAgICAgdGhpcy5TZWxlY3Rvci5zdG9wKCk7XG4gICAgICAgIHRoaXMuU2VsZWN0b3JBcmVhLnN0b3AocmVtb3ZlKTtcbiAgICAgICAgdGhpcy5zdG9yZXMuS2V5U3RvcmUuc3RvcCgpO1xuICAgICAgICB0aGlzLnN0b3Jlcy5Qb2ludGVyU3RvcmUuc3RvcCgpO1xuICAgICAgICB0aGlzLnN0b3Jlcy5TY3JvbGxTdG9yZS5zdG9wKCk7XG4gICAgICAgIGlmIChyZW1vdmUpIHRoaXMuU2VsZWN0YWJsZVNldC5jbGVhcigpO1xuICAgICAgICBpZiAoZnJvbVNlbGVjdGlvbikgdGhpcy5TZWxlY3RlZFNldC5jbGVhcigpO1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBVdGlsaXR5IHRvIG92ZXJyaWRlIERyYWdTZWxlY3QgaW50ZXJuYWwgZnVuY3Rpb25hbGl0eTpcbiAgICAgICAqIEJyZWFrIHdpbGwgc2tpcCB0aGUgc2VsZWN0aW9uIG9yIGRyYWdnaW5nIGZ1bmN0aW9uYWxpdHkgKHVudGlsIGFmdGVyIHRoZSBjYWxsYmFjaykgYnV0IGxldCBldmVyeXRoaW5nIGNvbnRpbnVlIHRvIHJ1bi5cbiAgICAgICAqIFVzZWZ1bCB1dGlsaXR5IHRvIHdyaXRlIHlvdXIgb3duIGZ1bmN0aW9uYWxpdHkvbW92ZS9kcmFnTmRyb3AgYmFzZWQgb24gRHJhZ1NlbGVjdCBwb2ludGVyIHBvc2l0aW9ucy5cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImFkZFNlbGVjdGlvblwiLFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZHMgc2V2ZXJhbCBlbGVtZW50cyB0byB0aGUgc2VsZWN0aW9uIGxpc3QgYWxzbyBhZGRzIHRoZSBzcGVjaWZpYyBjbGFzc2VzIGFuZCB0YWtlIGludG8gYWNjb3VudCBhbGwgY2FsY3VsYXRpb25zLlxuICAgICAgICogRG9lcyBub3QgY2xlYXIgdGhlIHNlbGVjdGlvbiwgaW4gY29udHJhcnkgdG8gLnNldFNlbGVjdGlvbi4gQ2FuIGFkZCBtdWx0aXBsZSBlbGVtZW50cyBhdCBvbmNlXG4gICAgICAgKiBAcGFyYW0ge0RTSW5wdXRFbGVtZW50c30gZWxlbWVudHMgb25lIG9yIG11bHRpcGxlIGVsZW1lbnRzXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt0cmlnZ2VyQ2FsbGJhY2tdIC0gaWYgY2FsbGJhY2sgc2hvdWxkIGJlIGNhbGxlZFxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbZG9udEFkZFRvU2VsZWN0YWJsZXNdIC0gaWYgZWxlbWVudCBzaG91bGQgbm90IGJlIGFkZGVkIHRvIHRoZSBsaXN0IG9mIHNlbGVjdGFibGUgZWxlbWVudHNcbiAgICAgICAqIEByZXR1cm4ge0RTRWxlbWVudHN9IGFsbCBzZWxlY3RlZCBlbGVtZW50c1xuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU2VsZWN0aW9uKGVsZW1lbnRzKSB7XG4gICAgICAgIHZhciB0cmlnZ2VyQ2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgICAgICB2YXIgZG9udEFkZFRvU2VsZWN0YWJsZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICAgICAgICB0aGlzLlNlbGVjdGVkU2V0LmFkZEFsbCh0b0FycmF5KGVsZW1lbnRzKSk7XG4gICAgICAgIGlmICghZG9udEFkZFRvU2VsZWN0YWJsZXMpIHRoaXMuYWRkU2VsZWN0YWJsZXMoZWxlbWVudHMpO1xuICAgICAgICBpZiAodHJpZ2dlckNhbGxiYWNrKSB0aGlzLlB1YlN1Yi5wdWJsaXNoKCdjYWxsYmFjaycsIHtcbiAgICAgICAgICBpdGVtczogdGhpcy5nZXRTZWxlY3Rpb24oKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZXMgc3BlY2lmaWMgZWxlbWVudHMgZnJvbSB0aGUgc2VsZWN0aW9uXG4gICAgICAgKiBNdWx0aXBsZSBlbGVtZW50cyBjYW4gYmUgZ2l2ZW4gYXQgb25jZSwgaW4gY29udHJhcnkgdG8gdW5zZWxlY3RcbiAgICAgICAqIEBwYXJhbSB7RFNJbnB1dEVsZW1lbnRzfSBlbGVtZW50cyBvbmUgb3IgbXVsdGlwbGUgZWxlbWVudHNcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3RyaWdnZXJDYWxsYmFja10gLSBpZiBjYWxsYmFjayBzaG91bGQgYmUgY2FsbGVkXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVGcm9tU2VsZWN0YWJsZXNdIC0gaWYgZWxlbWVudCBzaG91bGQgYmUgcmVtb3ZlZCBmcm9tIHRoZSBsaXN0IG9mIHNlbGVjdGFibGUgZWxlbWVudHNcbiAgICAgICAqIEByZXR1cm4ge0RTRWxlbWVudHN9IGFsbCBzZWxlY3RlZCBlbGVtZW50c1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVtb3ZlU2VsZWN0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlU2VsZWN0aW9uKGVsZW1lbnRzKSB7XG4gICAgICAgIHZhciB0cmlnZ2VyQ2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgICAgICB2YXIgcmVtb3ZlRnJvbVNlbGVjdGFibGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAgICAgdGhpcy5TZWxlY3RlZFNldC5kZWxldGVBbGwodG9BcnJheShlbGVtZW50cykpO1xuICAgICAgICBpZiAocmVtb3ZlRnJvbVNlbGVjdGFibGVzKSB0aGlzLnJlbW92ZVNlbGVjdGFibGVzKGVsZW1lbnRzKTtcbiAgICAgICAgaWYgKHRyaWdnZXJDYWxsYmFjaykgdGhpcy5QdWJTdWIucHVibGlzaCgnY2FsbGJhY2snLCB7XG4gICAgICAgICAgaXRlbXM6IHRoaXMuZ2V0U2VsZWN0aW9uKClcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlbGVjdGlvbigpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBUb2dnbGVzIHNwZWNpZmljIGVsZW1lbnRzIGZyb20gdGhlIHNlbGVjdGlvbjpcbiAgICAgICAqIElmIGVsZW1lbnQgaXMgbm90IGluIHNlbGVjdGlvbiBpdCB3aWxsIGJlIGFkZGVkLCBpZiBpdCBpcyBhbHJlYWR5IHNlbGVjdGVkLCBpdCB3aWxsIGJlIHJlbW92ZWQuXG4gICAgICAgKiBNdWx0aXBsZSBlbGVtZW50cyBjYW4gYmUgZ2l2ZW4gYXQgb25jZS5cbiAgICAgICAqIEBwYXJhbSB7RFNJbnB1dEVsZW1lbnRzfSBlbGVtZW50cyBvbmUgb3IgbXVsdGlwbGUgZWxlbWVudHNcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3RyaWdnZXJDYWxsYmFja10gLSBpZiBjYWxsYmFjayBzaG91bGQgYmUgY2FsbGVkXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbHNvU2VsZWN0YWJsZXNdIC0gaWYgZWxlbWVudCBzaG91bGQgbm90IGJlIGFkZGVkL3JlbW92ZWQgdG8gdGhlIGxpc3Qgb2Ygc2VsZWN0YWJsZSBlbGVtZW50cyBhY2NvcmRpbmdseVxuICAgICAgICogQHJldHVybiB7RFNFbGVtZW50c30gYWxsIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJ0b2dnbGVTZWxlY3Rpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVTZWxlY3Rpb24oZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHRyaWdnZXJDYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICAgIHZhciBhbHNvU2VsZWN0YWJsZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICAgICAgICB0b0FycmF5KGVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuU2VsZWN0ZWRTZXQuaGFzKGVsKSA/IF90aGlzMi5yZW1vdmVTZWxlY3Rpb24oZWxlbWVudHMsIHRyaWdnZXJDYWxsYmFjaywgYWxzb1NlbGVjdGFibGVzKSA6IF90aGlzMi5hZGRTZWxlY3Rpb24oZWxlbWVudHMsIHRyaWdnZXJDYWxsYmFjaywgYWxzb1NlbGVjdGFibGVzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0cmlnZ2VyQ2FsbGJhY2spIHRoaXMuUHViU3ViLnB1Ymxpc2goJ2NhbGxiYWNrJywge1xuICAgICAgICAgIGl0ZW1zOiB0aGlzLmdldFNlbGVjdGlvbigpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogU2V0cyB0aGUgY3VycmVudCBzZWxlY3RlZCBlbGVtZW50cyBhbmQgb3B0aW9uYWxseSBydW4gdGhlIGNhbGxiYWNrXG4gICAgICAgKiBCeSBkZWZhdWx0LCBhZGRzIG5ldyBlbGVtZW50cyBhbHNvIHRvIHRoZSBsaXN0IG9mIHNlbGVjdGFibGVzXG4gICAgICAgKiBAcGFyYW0ge0RTSW5wdXRFbGVtZW50c30gZWxlbWVudHMg4oCTIGRvbSBlbGVtZW50c1xuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbdHJpZ2dlckNhbGxiYWNrXSAtIGlmIGNhbGxiYWNrIHNob3VsZCBiZSBjYWxsZWRcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvbnRBZGRUb1NlbGVjdGFibGVzXSAtIGlmIGVsZW1lbnQgc2hvdWxkIG5vdCBiZSBhZGRlZCB0byB0aGUgbGlzdCBvZiBzZWxlY3RhYmxlIGVsZW1lbnRzXG4gICAgICAgKiBAcmV0dXJuIHtEU0VsZW1lbnRzfVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0U2VsZWN0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2VsZWN0aW9uKGVsZW1lbnRzKSB7XG4gICAgICAgIHZhciB0cmlnZ2VyQ2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgICAgICB2YXIgZG9udEFkZFRvU2VsZWN0YWJsZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuYWRkU2VsZWN0aW9uKGVsZW1lbnRzLCB0cmlnZ2VyQ2FsbGJhY2ssIGRvbnRBZGRUb1NlbGVjdGFibGVzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFVuc2VsZWN0IC8gRGVzZWxlY3QgYWxsIGN1cnJlbnQgc2VsZWN0ZWQgTm9kZXNcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3RyaWdnZXJDYWxsYmFja10gLSBpZiBjYWxsYmFjayBzaG91bGQgYmUgY2FsbGVkXG4gICAgICAgKiBAcmV0dXJuIHtEU0VsZW1lbnRzfSB0aGlzLnNlbGVjdGVkLCBzaG91bGQgYmUgZW1wdHlcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImNsZWFyU2VsZWN0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgICAgIHZhciB0cmlnZ2VyQ2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICAgICAgICB0aGlzLlNlbGVjdGVkU2V0LmNsZWFyKCk7XG4gICAgICAgIGlmICh0cmlnZ2VyQ2FsbGJhY2spIHRoaXMuUHViU3ViLnB1Ymxpc2goJ2NhbGxiYWNrJywge1xuICAgICAgICAgIGl0ZW1zOiB0aGlzLmdldFNlbGVjdGlvbigpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogQWRkIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHNlbGVjdGVkLiBObyBub2RlIGlzIGFkZGVkIHR3aWNlXG4gICAgICAgKiBAcGFyYW0ge0RTSW5wdXRFbGVtZW50c30gZWxlbWVudHMgZG9tIGVsZW1lbnQocylcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FkZFRvU2VsZWN0aW9uXSBpZiBlbGVtZW50cyBzaG91bGQgYWxzbyBiZSBhZGRlZCB0byBjdXJyZW50IHNlbGVjdGlvblxuICAgICAgICogQHJldHVybiB7RFNJbnB1dEVsZW1lbnRzfSB0aGUgYWRkZWQgZWxlbWVudChzKVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWRkU2VsZWN0YWJsZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTZWxlY3RhYmxlcyhlbGVtZW50cykge1xuICAgICAgICB2YXIgYWRkVG9TZWxlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgICAgICB2YXIgZWxzID0gdG9BcnJheShlbGVtZW50cyk7XG4gICAgICAgIHRoaXMuU2VsZWN0YWJsZVNldC5hZGRBbGwoZWxzKTtcbiAgICAgICAgaWYgKGFkZFRvU2VsZWN0aW9uKSB0aGlzLlNlbGVjdGVkU2V0LmFkZEFsbChlbHMpO1xuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEdldHMgYWxsIG5vZGVzIHRoYXQgY2FuIHBvdGVudGlhbGx5IGJlIHNlbGVjdGVkXG4gICAgICAgKiBAcmV0dXJuIHtEU0VsZW1lbnRzfSB0aGlzLnNlbGVjdGFibGVzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzZXRTZWxlY3RhYmxlc1wiLFxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHMgYWxsIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHNlbGVjdGVkLlxuICAgICAgICogUmVtb3ZlcyBhbGwgY3VycmVudCBzZWxlY3RhYmxlcyAoJiB0aGVpciByZXNwZWN0aXZlIGNsYXNzZXMpLlxuICAgICAgICogQWRkcyB0aGUgbmV3IHNldCB0byB0aGUgc2VsZWN0YWJsZXMgc2V0LCB0aHVzIHJlcGxhY2luZyB0aGUgb3JpZ2luYWwgc2V0LlxuICAgICAgICogQHBhcmFtIHtEU0lucHV0RWxlbWVudHN9IGVsZW1lbnRzIOKAkyBkb20gZWxlbWVudChzKVxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlRnJvbVNlbGVjdGlvbl0gaWYgZWxlbWVudHMgc2hvdWxkIGFsc28gYmUgcmVtb3ZlZCBmcm9tIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthZGRUb1NlbGVjdGlvbl0gaWYgZWxlbWVudHMgc2hvdWxkIGFsc28gYmUgYWRkZWQgdG8gY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAqIEByZXR1cm4ge0RTSW5wdXRFbGVtZW50c30gZWxlbWVudHMg4oCTIHRoZSBhZGRlZCBlbGVtZW50KHMpXG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZWxlY3RhYmxlcyhlbGVtZW50cykge1xuICAgICAgICB2YXIgcmVtb3ZlRnJvbVNlbGVjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICAgIHZhciBhZGRUb1NlbGVjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG4gICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0YWJsZXMoZWxlbWVudHMsIHJlbW92ZUZyb21TZWxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRTZWxlY3RhYmxlcyhlbGVtZW50cywgYWRkVG9TZWxlY3Rpb24pO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgZWxlbWVudHMgZnJvbSB0aGUgZWxlbWVudHMgdGhhdCBjYW4gYmUgc2VsZWN0ZWQuXG4gICAgICAgKiBAcGFyYW0ge0RTSW5wdXRFbGVtZW50c30gZWxlbWVudHMg4oCTIGRvbSBlbGVtZW50KHMpXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVGcm9tU2VsZWN0aW9uXSBpZiBlbGVtZW50cyBzaG91bGQgYWxzbyBiZSByZW1vdmVkIGZyb20gY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAqIEByZXR1cm4ge0RTSW5wdXRFbGVtZW50c30gdGhlIHJlbW92ZWQgZWxlbWVudChzKVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVtb3ZlU2VsZWN0YWJsZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVTZWxlY3RhYmxlcyhlbGVtZW50cykge1xuICAgICAgICB2YXIgcmVtb3ZlRnJvbVNlbGVjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICAgIHRoaXMuU2VsZWN0YWJsZVNldC5kZWxldGVBbGwodG9BcnJheShlbGVtZW50cykpO1xuICAgICAgICBpZiAocmVtb3ZlRnJvbVNlbGVjdGlvbikgdGhpcy5yZW1vdmVTZWxlY3Rpb24oZWxlbWVudHMpO1xuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICB9XG4gICAgICAvKiogVGhlIHN0YXJ0aW5nL2luaXRpYWwgcG9zaXRpb24gb2YgdGhlIGN1cnNvci9zZWxlY3RvciBAcmV0dXJuIHtWZWN0Mn0gKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRDdXJzb3JQb3NpdGlvbkRpZmZlcmVuY2VcIixcblxuICAgICAgLyoqXG4gICAgICAgKiBVdGlsaXR5IG1ldGhvZCB0aGF0IHJldHVybnMgdGhlIGN1cnNvciBwb3NpdGlvbiBkaWZmZXJlbmNlIGJldHdlZW4gc3RhcnQgYW5kIG5vd1xuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbdXNlUHJldmlvdXNDdXJzb3JEaWZmZXJlbmNlXSBpZiB0cnVlLCBpdCB3aWxsIG91dHB1dCB0aGUgY3Vyc29yIHBvc2l0aW9uIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcHJldmlvdXMgc2VsZWN0aW9uIGFuZCBub3dcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VzZUFyZWFQb3NpdGlvbnNdIGlmIHRydWUsIGl0IHdpbGwgdXNlIGN1cnNvciBwb3NpdGlvbnMgcmVsYXRpdmUgdG8gdGhlIGFyZWFcbiAgICAgICAqIEByZXR1cm4ge1ZlY3QyfVxuICAgICAgICogQGRlcHJlY2F0ZWRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnNvclBvc2l0aW9uRGlmZmVyZW5jZSgpIHtcbiAgICAgICAgdmFyIHVzZVByZXZpb3VzQ3Vyc29yRGlmZmVyZW5jZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG4gICAgICAgIHZhciB1c2VBcmVhUG9zaXRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgICAgY29uc29sZS53YXJuKCdbRHJhZ1NlbGVjdF0gVXNpbmcgLmdldEN1cnNvclBvc2l0aW9uRGlmZmVyZW5jZSBpcyBkZXByZWNhdGVkLiBDYWxjdWxhdGUgeW91cnNlbGYgaW5zdGVhZC4gaS5lLiBgLmdldEN1cnJlbnRDdXJzb3JQb3NpdGlvbigpLnggLSAuZ2V0SW5pdGlhbEN1cnNvclBvc2l0aW9uKCkueGAnKTtcbiAgICAgICAgdmFyIHBvc0EgPSB1c2VBcmVhUG9zaXRpb25zID8gdGhpcy5nZXRDdXJyZW50Q3Vyc29yUG9zaXRpb25BcmVhKCkgOiB0aGlzLmdldEN1cnJlbnRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgcG9zQiA9IHVzZVByZXZpb3VzQ3Vyc29yRGlmZmVyZW5jZSA/IHVzZUFyZWFQb3NpdGlvbnMgPyB0aGlzLmdldFByZXZpb3VzQ3Vyc29yUG9zaXRpb25BcmVhKCkgOiB0aGlzLmdldFByZXZpb3VzQ3Vyc29yUG9zaXRpb24oKSA6IHVzZUFyZWFQb3NpdGlvbnMgPyB0aGlzLmdldEluaXRpYWxDdXJzb3JQb3NpdGlvbkFyZWEoKSA6IHRoaXMuZ2V0SW5pdGlhbEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHJldHVybiBjYWxjKHBvc0EsICctJywgcG9zQik7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFdoZXRoZXIgdGhlIHVzZXIgaXMgY3VycmVudGx5IGRyYWcgbiBkcm9wcGluZyBlbGVtZW50cyAoaW5zdGVhZCBvZiBzZWxlY3Rpb24pXG4gICAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAgICovXG5cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRHJhZ1NlbGVjdDtcbiAgfSgpO1xuXG4gIHJldHVybiBEcmFnU2VsZWN0O1xuXG59KSkpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImltcG9ydCBEcmFnU2VsZWN0IGZyb20gJ2RyYWdzZWxlY3QnO1xyXG5cclxuZnVuY3Rpb24gbW9udGhseVRyZW5kKCk6IHZvaWQge1xyXG5cclxuICBjb25zdCBsaXN0T2ZNb250aHM6IE9iamVjdCA9IHtcclxuICAgIFwiR2VubmFpb1wiOiAwLFxyXG4gICAgXCJGZWJicmFpb1wiOiAxLFxyXG4gICAgXCJNYXJ6b1wiOiAyLFxyXG4gICAgXCJBcHJpbGVcIjogMyxcclxuICAgIFwiTWFnZ2lvXCI6IDQsXHJcbiAgICBcIkdpdWdub1wiOiA1LFxyXG4gICAgXCJMdWdsaW9cIjogNixcclxuICAgIFwiQWdvc3RvXCI6IDcsXHJcbiAgICBcIlNldHRlbWJyZVwiOiA4LFxyXG4gICAgXCJPdHRvYnJlXCI6IDksXHJcbiAgICBcIk5vdmVtYnJlXCI6IDEwLFxyXG4gICAgXCJEaWNlbWJyZVwiOiAxMSxcclxuICB9XHJcbiAgLy8gZ2V0IGEgbW9udGggZnJvbSBhIGxpc3RcclxuICBmdW5jdGlvbiBnZXRNb250aChsaXN0T2ZWYWx1ZTpvYmplY3QsIHZhbHVlOiBOdW1iZXIgKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBPYmplY3Qua2V5cyhsaXN0T2ZWYWx1ZSkuZmluZChrZXkgPT4gbGlzdE9mVmFsdWVba2V5XSA9PT0gdmFsdWUpO1xyXG4gIH1cclxuICAvLyBnZW5lcmF0ZSB2YWx1ZSBmb3IgdGhlIHZhbHVlLWJveFxyXG4gIGZ1bmN0aW9uIGdlbmVyYXRlVmFsdWUobWluOm51bWJlciwgbWF4Om51bWJlciwgdmFsdWU6IG51bWJlciwgbWF4RGl2SGVpZ2h0OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgZm9yIChsZXQgaW5kZXggPSBtaW47IGluZGV4IDw9IG1heDsgaW5kZXgrKykge1xyXG4gICAgICBpZiAoaW5kZXggPT09IHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIChpbmRleCAqIG1heERpdkhlaWdodCkgLyBtYXg7XHJcbiAgICAgIH0gXHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIGNyZWF0ZSBhbiBhcmVhIHdoZXJlIHRvIHByaW50IHRoZSBzZWxlY3RlZCBtb250aFxyXG4gIGZ1bmN0aW9uIHByaW50TW9udGgoKTogdm9pZCB7XHJcbiAgICBsZXQgb3V0cHV0QXJlYTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG91dHB1dEFyZWEuY2xhc3NMaXN0LmFkZChcIm91dHB1dC1hcmVhXCIpO1xyXG4gICAgbGV0IGFjdGl2ZU1vbnRoQm94ZXM6IE5vZGVMaXN0T2Y8SFRNTERpdkVsZW1lbnQ+ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb250aC1ib3guYWN0aXZlXCIpO1xyXG4gICAgaWYgKGFjdGl2ZU1vbnRoQm94ZXMpIHtcclxuICAgICAgYWN0aXZlTW9udGhCb3hlcy5mb3JFYWNoKGJveCA9PiB7XHJcbiAgICAgICAgbGV0IG1vbnRoTmFtZTogc3RyaW5nID0gYm94LmZpcnN0RWxlbWVudENoaWxkLmlubmVySFRNTDtcclxuICAgICAgICBsZXQgaHRtbENvbnRlbnQ6IHN0cmluZyA9IFxyXG4gICAgICAgIGBcclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWxlY3RlZC1tb250aFwiPlxyXG4gICAgICAgICAgICAke21vbnRoTmFtZX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICAgICAgb3V0cHV0QXJlYS5pbm5lckhUTUwgKz0gaHRtbENvbnRlbnQ7XHJcbiAgICAgIH0pO1xyXG4gICAgICBsZXQgYXJyYXlPZk91dHB1dEFyZWE6IE5vZGVMaXN0T2Y8SFRNTERpdkVsZW1lbnQ+ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5vdXRwdXQtYXJlYVwiKTtcclxuICAgICAgaWYgKGFycmF5T2ZPdXRwdXRBcmVhKSB7XHJcbiAgICAgICAgYXJyYXlPZk91dHB1dEFyZWEuZm9yRWFjaChhcmVhID0+IHtcclxuICAgICAgICAgIGFyZWEucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdXRwdXRBcmVhKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gZ2V0IHRoZSBkYXRhIGZyb20gdGhlIGVuZCBwb2ludFxyXG4gIGFzeW5jIGZ1bmN0aW9uIGdldERhdGEoKSB7XHJcbiAgICBsZXQgdXJsOiBzdHJpbmcgPSBcImh0dHA6Ly9zdGFjY2FoLmZhdHR1cmVpbmNsb3VkLml0L3Rlc3Rmcm9udGVuZC9kYXRhLmpzb25cIjtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXMgPSBhd2FpdCBmZXRjaCh1cmwpO1xyXG4gICAgICByZXR1cm4gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyByZW5kZXIgdGhlIGNvbXBvbmVudCB3aXRoIHRoZSB2YWx1ZSBhbmQgaGFuZGxlIGl0cyBmdW5jaW9uYWxpdHlcclxuICBhc3luYyBmdW5jdGlvbiByZW5kZXJDb21wb25lbnQoKTogUHJvbWlzZTxIVE1MRGl2RWxlbWVudD4ge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldERhdGEoKTtcclxuICAgIGxldCBtb250aEJveGVzOiBBcnJheTxIVE1MRGl2RWxlbWVudD4gPSBbXTtcclxuICAgIGxldCBtYXhWYWx1ZTogbnVtYmVyID0gMDtcclxuICAgIGxldCBtaW5WYWx1ZTogbnVtYmVyID0gMDtcclxuICAgIGxldCBhbW91bnRBcnJheSA9IFtdO1xyXG4gICAgLy9jcmVhdGUgY29tcG9uZW50IGRpdiBjb250YWluZXJcclxuICAgIGNvbnN0IGNvbXBvbmVudDogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKFwibW9udGhseS10cmVuZC1jb21wb25lbnRcIik7XHJcbiAgICAvLyBnZXQgdGhlIGRhdGEgZm9yIHRoZSB2YWx1ZSBiYXJcclxuICAgIGRhdGEubWVzaS5mb3JFYWNoKChtb250aCkgPT4ge1xyXG4gICAgICBhbW91bnRBcnJheS5wdXNoKG1vbnRoLmltcG9ydG8pO1xyXG4gICAgICBtYXhWYWx1ZSA9IE1hdGgubWF4KC4uLmFtb3VudEFycmF5KTtcclxuICAgICAgbWluVmFsdWUgPSBNYXRoLm1pbiguLi5hbW91bnRBcnJheSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGNyZWF0ZSBkaW5hbWljYWxseSB0aGUgdmlzdWFsaXphdGlvbiBvZiB0aGUgZGF0YVxyXG4gICAgZGF0YS5tZXNpLmZvckVhY2goKG1vbnRoLCBpbmRleCkgPT4ge1xyXG4gICAgICAvL2NyZWF0ZSBhbmQgaGFuZGxlIHRoZSBodG1sIGVsZW1lbnRzXHJcbiAgICAgIGxldCBtb250aEJveDogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgbW9udGhCb3guY2xhc3NMaXN0LmFkZChcIm1vbnRoLWJveFwiKTtcclxuICAgICAgY29tcG9uZW50LmFwcGVuZENoaWxkKG1vbnRoQm94KTtcclxuICAgICAgbW9udGhCb3hlcy5wdXNoKG1vbnRoQm94KTtcclxuICAgICAgLy8gQ29tcG9zZSB0aGUgY29udGVudCBvZiB0aGUgbW9udGggYm94IHdpdGggZHluYW1pYyBkYXRhICAgIFxyXG4gICAgICAgIGxldCBodG1sQ29udGVudDogc3RyaW5nID0gXHJcbiAgICAgICAgYFxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5hbWVcIj5cclxuICAgICAgICAgICAgJHtnZXRNb250aChsaXN0T2ZNb250aHMsIGluZGV4KX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9zXCI+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9aGVpZ2h0OiR7Z2VuZXJhdGVWYWx1ZShtaW5WYWx1ZSwgbWF4VmFsdWUsIG1vbnRoLmltcG9ydG8sIDc4KX1weCBjbGFzcz1cInZhbHVlLWJhclwiPiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZG9jdW1lbnRcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY291bnRcIj5cclxuICAgICAgICAgICAgICAgICR7bW9udGguZG9jdW1lbnRpfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0XCI+XHJcbiAgICAgICAgICAgICAgICBkb2MuXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9uZXlcIj5cclxuICAgICAgICAgICAgJHtuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2l0LUlUJywgeyBzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6ICdFVVInICwgbWF4aW11bVNpZ25pZmljYW50RGlnaXRzOiA1fSkuZm9ybWF0KG1vbnRoLmltcG9ydG8pfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICAgICAgbW9udGhCb3guaW5uZXJIVE1MICs9IGh0bWxDb250ZW50O1xyXG4gICAgICAgIC8vIEFkZCBhbmQgcmVtb3ZlIHNlbGVjdGlvbiBmcm9tIG1vbnRoIGJveGVzIHdpdGggdGhlIG1vbnRoIHByaW50aW5nXHJcbiAgICAgICAgbW9udGhCb3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xyXG4gICAgICAgICAgbW9udGhCb3hlcy5mb3JFYWNoKGFycmF5RWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGFycmF5RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBtb250aEJveC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgcHJpbnRNb250aCgpO1xyXG4gICAgICAgIH0pIFxyXG4gICAgICAgIC8vaGFuZGxlIHRoZSBtdWx0aXBsZSBzZWxlY3Rpb24gd2l0aCBtb3VzZSBjbGljayBhbmQgZHJhZyBhbmQgdGhlIG1vbnRoIHByaW50aW5nXHJcbiAgICAgICAgY29uc3QgZHJhZ1NlbGVjdCA9IG5ldyBEcmFnU2VsZWN0KHtcclxuICAgICAgICAgIHNlbGVjdGFibGVzOiBtb250aEJveGVzLFxyXG4gICAgICAgICAgZHJhZ2dhYmlsaXR5OiBmYWxzZSxcclxuICAgICAgICAgIHNlbGVjdGVkQ2xhc3M6IFwiYWN0aXZlXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZHJhZ1NlbGVjdC5zdWJzY3JpYmUoJ2NhbGxiYWNrJywgcHJpbnRNb250aCk7XHJcbiAgICAgIH0pO1xyXG4gICAgcmV0dXJuIGF3YWl0IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29tcG9uZW50KTtcclxuICB9XHJcbiAgLy8gY2FsbCB0aGUgcmVuZGVyaW5nIG9mIHRoZSBjb21wb25lbnRcclxuICByZW5kZXJDb21wb25lbnQoKTtcclxufVxyXG4vLyBjYWxsIHRoZSBjb21wb25lbnQgYW5kIGl0cyBmdW5jaW9uYWxpdGllc1xyXG5tb250aGx5VHJlbmQoKTsiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIl9kZWZpbmVQcm9wZXJ0eSIsIm9iaiIsInZhbHVlIiwib3duS2V5cyIsIm9iamVjdCIsImVudW1lcmFibGVPbmx5Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJwdXNoIiwiYXBwbHkiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIl9zZXRQcm90b3R5cGVPZiIsIl9nZXRQcm90b3R5cGVPZiIsIm8iLCJzZXRQcm90b3R5cGVPZiIsImdldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwicCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0Iiwic2hhbSIsIlByb3h5IiwiRGF0ZSIsInRvU3RyaW5nIiwiY2FsbCIsImUiLCJfY29uc3RydWN0IiwiUGFyZW50IiwiYXJncyIsIkNsYXNzIiwiYSIsIkZ1bmN0aW9uIiwiYmluZCIsImFyZ3VtZW50cyIsIl93cmFwTmF0aXZlU3VwZXIiLCJfY2FjaGUiLCJNYXAiLCJ1bmRlZmluZWQiLCJmbiIsImluZGV4T2YiLCJoYXMiLCJnZXQiLCJzZXQiLCJXcmFwcGVyIiwidGhpcyIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwicmVzdWx0IiwiU3VwZXIiLCJOZXdUYXJnZXQiLCJfZ2V0IiwicHJvcGVydHkiLCJyZWNlaXZlciIsImJhc2UiLCJoYXNPd25Qcm9wZXJ0eSIsIl9zdXBlclByb3BCYXNlIiwiZGVzYyIsIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsIm5leHQiLCJkb25lIiwiZXJyIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIl90b0NvbnN1bWFibGVBcnJheSIsIl9hcnJheUxpa2VUb0FycmF5IiwiX2FycmF5V2l0aG91dEhvbGVzIiwiaXRlciIsImZyb20iLCJfaXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwibWluTGVuIiwibiIsInNsaWNlIiwibmFtZSIsInRlc3QiLCJsZW4iLCJhcnIyIiwiY2FsYyIsIl9yZWYiLCJvcGVyYXRvciIsIl9yZWYyIiwieDEiLCJ4IiwieTEiLCJ5IiwieDIiLCJ5MiIsInJlY3QydmVjdCIsInJlY3QiLCJsZWZ0IiwidG9wIiwidmVjdDJyZWN0IiwidmVjdCIsImRpbWVuc2lvbiIsInJpZ2h0IiwiYm90dG9tIiwid2lkdGgiLCJoZWlnaHQiLCJkb2N1bWVudFNjcm9sbCIsIl9kb2N1bWVudCRib2R5IiwiX2RvY3VtZW50JGRvY3VtZW50RWxlIiwiX2RvY3VtZW50JGJvZHkyIiwiX2RvY3VtZW50JGRvY3VtZW50RWxlMiIsImRvY3VtZW50IiwiYm9keSIsInNjcm9sbFRvcCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbExlZnQiLCJnZXRDdXJyZW50U2Nyb2xsIiwiYXJlYSIsIkRvY3VtZW50IiwiZ2V0T3ZlcmZsb3dFZGdlcyIsImVsZW1lbnRSZWN0IiwiY29udGFpbmVyUmVjdCIsIl9yZWYkdG9sZXJhbmNlIiwidG9sZXJhbmNlIiwiZWRnZXMiLCJnZXRDb21wdXRlZFRyYW5zbGF0ZVBvc2l0aW9ucyIsImVsZW1lbnQiLCJwb3NpdGlvbiIsImNvbXB1dGVkIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInRyYW5zZm9ybSIsIm1hdGNoIiwidHJpbSIsIl9tYXRjaCQiLCJ2YWx1ZXMiLCJzcGxpdCIsInBhcnNlSW50IiwiX21hdGNoIiwiX21hdGNoJDIiLCJfdmFsdWVzIiwiZ2V0U3R5bGVQb3NpdGlvbiIsInVzZVRyYW5zbGF0ZSIsInN0eWxlIiwiX21hdGNoJDMiLCJfc3BsaXQkIiwiZ2V0VHJhbnNsYXRlZFBvc2l0aW9ucyIsImdldFRvcExlZnRQb3NpdGlvbiIsImhhbmRsZUVsZW1lbnRQb3NpdGlvbkF0dHJpYnV0ZSIsImNvbXB1dGVkU3R5bGUiLCJub2RlIiwiSFRNTERvY3VtZW50IiwiaXNDb2xsaXNpb24iLCJlbDEiLCJlbDIiLCJtb3ZlRWxlbWVudCIsInBvc0RpcmVjdGlvbiIsInVzZVRyYW5zZm9ybSIsImVsZW1lbnRQb3MiLCJuZXdQb3MiLCJzZXRTdHlsZVBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaW5jbHVkZXMiLCJoYW5kbGVFbGVtZW50T3ZlcmZsb3ciLCJwcmV2VHJhbnNmb3JtIiwiY29uY2F0IiwicmVwbGFjZSIsInN1YnNjcmliZXJBbGlhc2VzIiwic3Vic2NyaWJlIiwicHVibGlzaCIsIkludGVyYWN0aW9uIiwiU2VsZWN0ZWRTZXQiLCJfbG9vcCIsIl9PYmplY3QkZW50cmllcyRfaSIsIl9PYmplY3QkZW50cmllcyIsInN1Yl9uYW1lIiwicHVicyIsImZvckVhY2giLCJmaWxsZXIiLCJkYXRhIiwicHViIiwiY29uZGl0aW9uIiwic291cmNlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJfb2JqZWN0U3ByZWFkMiIsIml0ZW1zIiwiZWxlbWVudHMiLCJpc0RyYWdnaW5nIiwiZW50cmllcyIsImV2ZW50IiwidG9BcnJheSIsIkhUTUxFbGVtZW50IiwiU1ZHRWxlbWVudCIsInVwZGF0ZUVsZW1lbnRTdHlsZVBvcyIsInBvcyIsIkFyZWEiLCJmdW5jIiwid2FpdCIsInRpbWVvdXQiLCJfdGhpcyIsIl9hcmVhIiwiUFMiLCJ6b29tIiwiX25vZGUiLCJzZXRUaW1lb3V0IiwiUHViU3ViIiwiaXRlbSIsInJlc2V0Iiwibm9kZXMiLCJjYWxsYmFjayIsIm1vZGlmaWNhdGlvbk9ic2VydmVyIiwicGFyZW50Tm9kZXMiLCJfbW9kaWZpY2F0aW9uQ2FsbGJhY2siLCJfbW9kaWZpY2F0aW9uT2JzZXJ2ZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZWwiLCJvYnNlcnZlIiwiY2hpbGRMaXN0IiwiYXR0cmlidXRlcyIsIl9jb21wdXRlZFN0eWxlIiwiX3JlY3QiLCJfY29tcHV0ZWRCb3JkZXIiLCJfcGFyZW50Tm9kZXMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzY29ubmVjdCIsImRpcmVjdGlvbnMiLCJtdWx0aXBsaWVyIiwic2Nyb2xsX2RpcmVjdGlvbnMiLCJzY3JvbGxfbXVsdGlwbGllciIsImRvY0VsIiwiX2VsZW1lbnQiLCJzY3JvbGxCb3QiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxSaWdodCIsInNjcm9sbFdpZHRoIiwic2Nyb2xsRWxlbWVudCIsIl96b29tIiwic2V0QXJlYSIsIl9sZW4iLCJfa2V5IiwibGF0ZXIiLCJjbGVhclRpbWVvdXQiLCJNdXRhdGlvbk9ic2VydmVyIiwic3RhcnQiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsIkhUTUxOb2RlIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRBcmVhUmVjdCIsInRyYXZlcnNlIiwidG9XYXRjaCIsIl90b1dhdGNoJGluZGV4IiwiaW5kZXgiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwiRHJhZyIsIkRTIiwiZHJhZ0tleXMiLCJkcmFnZ2FiaWxpdHkiLCJrZXlib2FyZERyYWciLCJrZXlib2FyZERyYWdTcGVlZCIsIl9rZXlib2FyZERyYWciLCJfZHJhZ0tleXNGbGF0Iiwic2l6ZSIsIl9kcmFnZ2FiaWxpdHkiLCJwdWJsaXNoRGF0YSIsImlzRHJhZ2dpbmdLZXlib2FyZCIsIl9lbGVtZW50cyIsImdldFNlbGVjdGlvbiIsImhhbmRsZVpJbmRleCIsInNoaWZ0S2V5Iiwic2Nyb2xsRGlmZiIsImNhblNjcm9sbCIsInNjcm9sbENhbGxiYWNrIiwiaW5jcmVhc2UiLCJ1cCIsImRvd24iLCJoYW5kbGVLZXlib2FyZERyYWdQb3NEaWZmZXJlbmNlIiwic3RvcmVzIiwiS2V5U3RvcmUiLCJjdXJyZW50VmFsdWVzIiwiX2tleWJvYXJkRHJhZ1NwZWVkIiwic2Nyb2xsIiwiX3Njcm9sbERpZmYiLCJTY3JvbGxTdG9yZSIsIl9kcmFnS2V5cyIsIlNlbGVjdG9yQXJlYSIsIl91c2VUcmFuc2Zvcm0iLCJfcmVmMyIsIl9yZWY0IiwiX3ByZXZDdXJzb3JQb3MiLCJfcHJldlNjcm9sbFBvcyIsImV2dCIsImlzS2V5Ym9hcmQiLCJfcmVmNSIsIl9jdXJzb3JEaWZmIiwiYWRkIiwiekluZGV4IiwibWFwIiwiayIsInRvTG93ZXJDYXNlIiwic3RvcCIsInVwZGF0ZSIsImtleWJvYXJkRW5kIiwiY3VycmVudFBvaW50ZXJWYWwiLCJQb2ludGVyU3RvcmUiLCJjdXJyZW50VmFsIiwiY3Vyc29yRGlmZiIsImN1cnJlbnRTY3JvbGxWYWwiLCJhcmVhRWxlbWVudCIsImltbWVkaWF0ZURyYWciLCJfYXJlYUVsZW1lbnQiLCJwYXNzaXZlIiwidHlwZSIsInByZXZlbnREZWZhdWx0IiwiX2NhbkludGVyYWN0IiwiaXNJbnRlcmFjdGluZyIsImlzRHJhZ0V2ZW50IiwiaXNNdWx0aVNlbGVjdEtleVByZXNzZWQiLCJTZWxlY3RhYmxlU2V0IiwiX2ltbWVkaWF0ZURyYWciLCJjbGVhciIsImRldGFpbCIsIl90aGlzJERTIiwiX3RoaXMkRFMkc3RvcmVzIiwidG9nZ2xlIiwiaW5pdCIsIm9uQ2xpY2siLCJfc3RhcnQiLCJfaW5pdCIsIl9yZWY2IiwiX3Jlc2V0IiwiaXNLZXlib2FyZENsaWNrIiwiY2xpZW50WCIsImNsaWVudFkiLCJidXR0b24iLCJpc0luc2lkZSIsImlzQ2xpY2tlZCIsImV2ZW50TmFtZSIsInN1YnNjcmliZXJzIiwiaWQiLCJzcGxpY2UiLCJjYiIsIl9wdWJsaXNoIiwiX2hhbmRsZVByZVB1Ymxpc2giLCJfaGFuZGxlUHVibGlzaCIsImlsIiwic3RvcHBlZCIsIl9TZXQiLCJfc3VwZXIiLCJjbGFzc05hbWUiLCJob3ZlckNsYXNzTmFtZSIsIl9pbml0RWxlbWVudHMiLCJfY2xhc3NOYW1lIiwiX2hvdmVyQ2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwiX29uQ2xpY2siLCJfb25Qb2ludGVyIiwicmVtb3ZlIiwiU2V0IiwiZGVsZXRlZCIsIlNlbGVjdGlvbiIsIm11bHRpU2VsZWN0VG9nZ2xpbmciLCJfc3RvcmVQcmV2aW91cyIsIl9oYW5kbGVJbnNpZGVTZWxlY3Rpb24iLCJmb3JjZSIsIlNlbGVjdG9yIiwiZWxQb3NDb21ibyIsInNlbGVjdCIsInVuc2VsZWN0IiwibXVsdGlTZWxlY3Rpb25Ub2dnbGUiLCJfbXVsdGlTZWxlY3RUb2dnbGluZyIsImNvbnRhaW5zIiwiaGFuZGxlU2VsZWN0aW9uIiwiUHJldlNlbGVjdGVkU2V0IiwiaW5TZWxlY3Rpb24iLCJpblByZXZTZWxlY3Rpb24iLCJoYW5kbGVVblNlbGVjdGlvbiIsIl9wcmV2U2VsZWN0ZWRTZXQiLCJfdGhpcyREUzIiLCJzZWxlY3RvciIsInNlbGVjdG9yQ2xhc3MiLCJjdXN0b21TdHlsZXMiLCJwUG9zIiwiaW5pdGlhbFZhbEFyZWEiLCJkaXNwbGF5Iiwic2Nyb2xsQW1vdW50IiwiaW5pdGlhbFBvaW50ZXJQb3MiLCJwb2ludGVyUG9zIiwic2VsZWN0b3JQb3MiLCJnZXRTZWxlY3RvclBvc2l0aW9uIiwiY3VycmVudFZhbEFyZWEiLCJjcmVhdGVFbGVtZW50IiwiYmFja2dyb3VuZCIsImJvcmRlciIsInBvaW50ZXJFdmVudHMiLCJjcmVhdGVTZWxlY3RvckVsZW1lbnQiLCJzZWxlY3RvckFyZWFDbGFzcyIsImF1dG9TY3JvbGxTcGVlZCIsIm92ZXJmbG93VG9sZXJhbmNlIiwiYXBwbHlFbGVtZW50cyIsIm1ldGhvZCIsIm1ldGhvZE5hbWUiLCJjb21wdXRlZEJvcmRlciIsInN0b3BBdXRvU2Nyb2xsIiwiY3VycmVudEVkZ2VzIiwiX3Njcm9sbEludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJoYW5kbGVBdXRvU2Nyb2xsIiwiX292ZXJmbG93VG9sZXJhbmNlIiwiX2F1dG9TY3JvbGxTcGVlZCIsImNsZWFySW50ZXJ2YWwiLCJvdmVyZmxvdyIsImNyZWF0ZVNlbGVjdG9yQXJlYUVsZW1lbnQiLCJ1cGRhdGVQb3MiLCJzdGFydEF1dG9TY3JvbGwiLCJpbml0aWFsVmFsIiwiZ2V0UG9pbnRlclBvc2l0aW9uIiwibXVsdGlTZWxlY3RLZXlzIiwibXVsdGlTZWxlY3RNb2RlIiwiY29udHJvbCIsInNoaWZ0IiwibWV0YSIsImtleWRvd24iLCJrZXl1cCIsIl9jdXJyZW50VmFsdWVzIiwiX211bHRpU2VsZWN0TW9kZSIsIl9tdWx0aVNlbGVjdEtleXMiLCJuZXdOYW1lIiwiY3RybEtleSIsIm1ldGFLZXkiLCJjb25zb2xlIiwid2FybiIsIl90aGlzMiIsInNvbWUiLCJfa2V5TWFwcGluZyIsImdldFBvaW50ZXJQb3MiLCJfbm9ybWFsaXplZEV2ZW50IiwiX2lzTW91c2VJbnRlcmFjdGlvbiIsImxhc3RWYWwiLCJfbGFzdFRvdWNoIiwidG91Y2hlcyIsIl9pbml0aWFsVmFsQXJlYSIsIl9jdXJyZW50VmFsQXJlYSIsIl9sYXN0VmFsQXJlYSIsIl9pbml0aWFsVmFsIiwiX2N1cnJlbnRWYWwiLCJfbGFzdFZhbCIsIl9jYW5TY3JvbGwiLCJ6b29tU2Nyb2xsIiwiRHJhZ1NlbGVjdCIsIl9yZWYkYXJlYSIsIl9yZWYkc2VsZWN0YWJsZXMiLCJzZWxlY3RhYmxlcyIsIl9yZWYkYXV0b1Njcm9sbFNwZWVkIiwiX3JlZiRvdmVyZmxvd1RvbGVyYW5jIiwiX3JlZiR6b29tIiwiX3JlZiRjdXN0b21TdHlsZXMiLCJfcmVmJG11bHRpU2VsZWN0TW9kZSIsIl9yZWYkbXVsdGlTZWxlY3RUb2dnbCIsIl9yZWYkbXVsdGlTZWxlY3RLZXlzIiwiX3JlZiRzZWxlY3RvciIsIl9yZWYkZHJhZ2dhYmlsaXR5IiwiX3JlZiRpbW1lZGlhdGVEcmFnIiwiX3JlZiRrZXlib2FyZERyYWciLCJfcmVmJGtleWJvYXJkRHJhZ1NwZWUiLCJfcmVmJHVzZVRyYW5zZm9ybSIsIl9yZWYkaG92ZXJDbGFzcyIsImhvdmVyQ2xhc3MiLCJfcmVmJHNlbGVjdGFibGVDbGFzcyIsInNlbGVjdGFibGVDbGFzcyIsIl9yZWYkc2VsZWN0ZWRDbGFzcyIsInNlbGVjdGVkQ2xhc3MiLCJfcmVmJHNlbGVjdG9yQ2xhc3MiLCJfcmVmJHNlbGVjdG9yQXJlYUNsYXMiLCJvbkRyYWdNb3ZlIiwib25EcmFnU3RhcnRCZWdpbiIsIm9uRHJhZ1N0YXJ0Iiwib25FbGVtZW50U2VsZWN0Iiwib25FbGVtZW50VW5zZWxlY3QiLCJsYXN0VmFsQXJlYSIsInVuc3Vic2NyaWJlIiwiX2NhbGxiYWNrc1RlbXAiLCJhc3NpZ24iLCJ3YXJuTWVzc2FnZSIsIl9yZWY3IiwiX3JlZjgiLCJmcm9tU2VsZWN0aW9uIiwidHJpZ2dlckNhbGxiYWNrIiwiZG9udEFkZFRvU2VsZWN0YWJsZXMiLCJhZGRBbGwiLCJhZGRTZWxlY3RhYmxlcyIsInJlbW92ZUZyb21TZWxlY3RhYmxlcyIsImRlbGV0ZUFsbCIsInJlbW92ZVNlbGVjdGFibGVzIiwiYWxzb1NlbGVjdGFibGVzIiwicmVtb3ZlU2VsZWN0aW9uIiwiYWRkU2VsZWN0aW9uIiwiY2xlYXJTZWxlY3Rpb24iLCJhZGRUb1NlbGVjdGlvbiIsImVscyIsInJlbW92ZUZyb21TZWxlY3Rpb24iLCJ1c2VQcmV2aW91c0N1cnNvckRpZmZlcmVuY2UiLCJ1c2VBcmVhUG9zaXRpb25zIiwicG9zQSIsImdldEN1cnJlbnRDdXJzb3JQb3NpdGlvbkFyZWEiLCJnZXRDdXJyZW50Q3Vyc29yUG9zaXRpb24iLCJwb3NCIiwiZ2V0UHJldmlvdXNDdXJzb3JQb3NpdGlvbkFyZWEiLCJnZXRQcmV2aW91c0N1cnNvclBvc2l0aW9uIiwiZ2V0SW5pdGlhbEN1cnNvclBvc2l0aW9uQXJlYSIsImdldEluaXRpYWxDdXJzb3JQb3NpdGlvbiIsImZhY3RvcnkiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJkZWZpbml0aW9uIiwicHJvcCIsImxpc3RPZk1vbnRocyIsInByaW50TW9udGgiLCJvdXRwdXRBcmVhIiwiYWN0aXZlTW9udGhCb3hlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJib3giLCJtb250aE5hbWUiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImlubmVySFRNTCIsImh0bWxDb250ZW50IiwiYXJyYXlPZk91dHB1dEFyZWEiLCJhcHBlbmRDaGlsZCIsImdldERhdGEiLCJ1cmwiLCJmZXRjaCIsImpzb24iLCJlcnJvciIsIm1vbnRoQm94ZXMiLCJtYXhWYWx1ZSIsIm1pblZhbHVlIiwiYW1vdW50QXJyYXkiLCJjb21wb25lbnQiLCJtZXNpIiwibW9udGgiLCJpbXBvcnRvIiwiTWF0aCIsIm1heCIsIm1pbiIsIm1vbnRoQm94IiwibGlzdE9mVmFsdWUiLCJmaW5kIiwibWF4RGl2SGVpZ2h0IiwiZ2VuZXJhdGVWYWx1ZSIsImRvY3VtZW50aSIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJjdXJyZW5jeSIsIm1heGltdW1TaWduaWZpY2FudERpZ2l0cyIsImZvcm1hdCIsImFycmF5RWxlbWVudCIsInJlbmRlckNvbXBvbmVudCIsIm1vbnRobHlUcmVuZCJdLCJzb3VyY2VSb290IjoiIn0=