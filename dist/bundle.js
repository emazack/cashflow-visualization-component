(()=>{var e={501:function(e){e.exports=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,n){return l=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i},l.apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,s(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)},u(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function f(e){var t=c();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function v(e,t,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},v(e,t,n||e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e,t,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{"+":{x:r+o,y:i+s},"-":{x:r-o,y:i-s},"*":{x:r*o,y:i*s},"/":{x:r/o,y:i/s}}[t]},y=function(e){return{x:e.left,y:e.top}},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{left:e.x,top:e.y,right:e.x,bottom:e.y,width:t,height:t}},D=function(){var e,t,n,r;return{y:(null===(e=document.body)||void 0===e?void 0:e.scrollTop)||(null===(t=document.documentElement)||void 0===t?void 0:t.scrollTop)||0,x:(null===(n=document.body)||void 0===n?void 0:n.scrollLeft)||(null===(r=document.documentElement)||void 0===r?void 0:r.scrollLeft)||0}},w=function(e){return!e||e instanceof Document?D():{x:e.scrollLeft>=0?e.scrollLeft:D().x,y:e.scrollTop>=0?e.scrollTop:D().y}},P=function(e){var t=e.elementRect,n=e.containerRect,r=e.tolerance,i=void 0===r?{x:0,y:0}:r,o=[];return t.top-i.y<n.top&&o.push("top"),t.left-i.x<n.left&&o.push("left"),t.bottom+i.y>n.bottom&&o.push("bottom"),t.right+i.y>n.right&&o.push("right"),o},k=function(e){var t={x:0,y:0},n=window.getComputedStyle(e);if(!n.transform||"none"===n.transform)return t;if(n.transform.indexOf("3d")>=0){var r=n.transform.trim().match(/matrix3d\((.*?)\)/);if(r&&r.length){var i,o=null===(i=r[1])||void 0===i?void 0:i.split(",");t.x=parseInt(o[12])||0,t.y=parseInt(o[13])||0}return t}var s=n.transform.trim().match(/matrix\((.*?)\)/);if(s&&s.length){var a,c=null===(a=s[1])||void 0===a?void 0:a.split(",");t.x=parseInt(c[4])||0,t.y=parseInt(c[5])||0}return t},x=function(e,t){return t?function(e){var t=e.style.transform;if(!t||t.indexOf("translate")<0)return k(e);var n={x:0,y:0},r=t.trim().match(/translate[3dD]*?\(.*?\)/);if(r){var i,o=null===(i=r[0])||void 0===i?void 0:i.split("(");if(o){var s,a=null===(s=o[1])||void 0===s?void 0:s.split(",");n.x=parseInt(a[0])||0,n.y=parseInt(a[1])||0}}return n.x||n.x?n:k(e)}(e):function(e){var t=e.style,n={x:parseInt(t.left)||0,y:parseInt(t.top)||0};if(!n.x&&!n.x){var r=window.getComputedStyle(e);return{x:parseInt(r.left)||0,y:parseInt(r.top)||0}}return n}(e)},E=function(e){var t=e.computedStyle,n=e.node,r=t.position;n instanceof HTMLDocument||"absolute"===r||"relative"===r||"fixed"===r||(n.style.position="relative")},A=function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top},I=function(e){var t=e.element,n=e.posDirection,r=e.containerRect,i=e.useTransform,o=x(t,i),s=b(o,"+",n);L(t,s,i);var a=t.getBoundingClientRect();!function(e){var t=e.element,n=e.edges,r=e.elementRect,i=e.containerRect,o=e.elementPos,s=e.useTransform;n.includes("top")&&L(t,{y:o.y+i.top-r.top,x:o.x},s),n.includes("left")&&L(t,{y:o.y,x:o.x+i.left-r.left},s),n.includes("bottom")&&L(t,{y:o.y+i.bottom-r.bottom,x:o.x},s),n.includes("right")&&L(t,{y:o.y,x:o.x+i.right-r.right},s)}({element:t,edges:P({elementRect:a,containerRect:r}),elementRect:a,containerRect:r,elementPos:s,useTransform:i})},L=function(e,t,n){if(n){var r=e.style.transform;e.style.transform="translate3d(".concat(t.x,"px,").concat(t.y,"px,1px) ").concat(r.replace(/translate.*?\)/g,""))}else e.style.left="".concat(t.x,"px"),e.style.top="".concat(t.y,"px");return e},C=function(e){for(var t=e.subscribe,n=e.publish,o=e.Interaction,s=e.SelectedSet,a=function(){var e=p(l[c],2),a=e[0],u=e[1];["pre",!1].forEach((function(e){return t(e?"".concat(a,":").concat(e):a,(function(t){return u.forEach((function(a){return(!a.condition||a.condition(t))&&n(e?"".concat(e).concat(a.name):a.name,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({items:s.elements,isDragging:o.isDragging},t))}))}))}))},c=0,l=Object.entries({"Selected:added":[{name:"elementselect"}],"Selected:removed":[{name:"elementunselect"}],"Area:scroll":[{name:"autoscroll"}],"Interaction:start":[{name:"dragstart"}],"Interaction:update":[{name:"dragmove",condition:function(e){return e.event}}],"Interaction:end":[{name:"callback"}]});c<l.length;c++)a()},T=function(e){return e?!Array.isArray(e)&&(e instanceof HTMLElement||e instanceof SVGElement)?[e]:m(e):[]},V=function(e,t){e.style.left="".concat(t.left,"px"),e.style.top="".concat(t.top,"px"),e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px")},M=function(){function t(n){var i,o,s,a=this,c=n.area,l=n.PS,u=n.zoom;e(this,t),r(this,"_modificationCallback",void 0),r(this,"_modificationObserver",void 0),r(this,"_zoom",void 0),r(this,"_node",void 0),r(this,"_parentNodes",void 0),r(this,"_computedStyle",void 0),r(this,"_computedBorder",void 0),r(this,"_rect",void 0),r(this,"setArea",(function(e){a._node=e,E({computedStyle:a.computedStyle,node:a._node}),setTimeout((function(){a.PubSub.publish("Area:modified:pre",{item:a}),a.reset(),a.PubSub.publish("Area:modified",{item:a})}))})),r(this,"start",(function(){var e,t,n;e=a.parentNodes,t=a._modificationCallback,n=a._modificationObserver,window.addEventListener("resize",t),window.addEventListener("scroll",t),e.forEach((function(e,t){n.observe(e,{childList:0!==t,attributes:!0})}))})),r(this,"reset",(function(){a._computedStyle=void 0,a._rect=void 0,a._computedBorder=void 0,a._parentNodes=void 0})),r(this,"stop",(function(){var e,t;e=a._modificationObserver,t=a._modificationCallback,window.removeEventListener("resize",t),window.removeEventListener("scroll",t),e.disconnect(),a.reset()})),r(this,"scroll",(function(e,t){var n={scroll_directions:e,scroll_multiplier:t};a.PubSub.publish("Area:scroll:pre",n),function(e,t,n){if(t.length){var r=document&&document.documentElement&&document.documentElement.scrollTop&&document.documentElement,i=e instanceof HTMLDocument?r||document.body:e,o=t.includes("top")&&i.scrollTop>0,s=t.includes("bottom")&&i.scrollTop<i.scrollHeight,a=t.includes("left")&&i.scrollLeft>0,c=t.includes("right")&&i.scrollLeft<i.scrollWidth;o&&(i.scrollTop-=1*n),s&&(i.scrollTop+=1*n),a&&(i.scrollLeft-=1*n),c&&(i.scrollLeft+=1*n)}}(a._node,e,t),a.PubSub.publish("Area:scroll",n)})),this._zoom=u,this.PubSub=l,this.setArea(c),this._modificationCallback=(i=function(e){a.PubSub.publish("Area:modified:pre",{event:e,item:a}),a.reset(),a.PubSub.publish("Area:modified",{event:e,item:a})},o=60,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(){s=null,i.apply(void 0,t)};clearTimeout(s),s=setTimeout(r,o)}),this._modificationObserver=new MutationObserver(this._modificationCallback),this.PubSub.subscribe("Interaction:init",this.start),this.PubSub.subscribe("Interaction:end",this.reset)}return n(t,[{key:"HTMLNode",get:function(){return this._node}},{key:"computedBorder",get:function(){return this._computedBorder?this._computedBorder:{top:parseInt(this.computedStyle.borderTopWidth),bottom:parseInt(this.computedStyle.borderBottomWidth),left:parseInt(this.computedStyle.borderLeftWidth),right:parseInt(this.computedStyle.borderRightWidth)}}},{key:"computedStyle",get:function(){return this._computedStyle?this._computedStyle:this.HTMLNode instanceof HTMLDocument?this._computedStyle=window.getComputedStyle(this.HTMLNode.body||this.HTMLNode.documentElement):this._computedStyle=window.getComputedStyle(this.HTMLNode)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=function(e,t){if(e instanceof Document)return{top:0,left:0,bottom:0,right:0,width:window.innerWidth,height:window.innerHeight};var n=e.getBoundingClientRect();return{top:n.top,left:n.left,bottom:n.bottom,right:n.right,width:(e.clientWidth||n.width)*t,height:(e.clientHeight||n.height)*t}}(this.HTMLNode,this._zoom)}},{key:"parentNodes",get:function(){if(this._parentNodes)return this._parentNodes;return this._parentNodes=function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=null===(n=t[r])||void 0===n?void 0:n.parentNode;return i?(t.push(i),e(t,++r)):t}([this.HTMLNode]),this._parentNodes}}]),t}(),N=function(){function t(n){var i=this,o=n.DS,s=n.dragKeys,a=n.draggability,c=n.keyboardDrag,l=n.keyboardDragSpeed,u=n.useTransform,d=n.zoom;e(this,t),r(this,"_useTransform",void 0),r(this,"_prevCursorPos",void 0),r(this,"_prevScrollPos",void 0),r(this,"_elements",[]),r(this,"_draggability",void 0),r(this,"_dragKeys",void 0),r(this,"_dragKeysFlat",void 0),r(this,"_keyboardDrag",void 0),r(this,"_keyboardDragSpeed",void 0),r(this,"_zoom",void 0),r(this,"keyboardDrag",(function(e){var t=e.event,n=e.key;if(i._keyboardDrag&&i._dragKeysFlat.includes(n)&&i.DS.SelectedSet.size&&i._draggability&&!i.DS.continue){var r={event:t,isDragging:!0,isDraggingKeyboard:!0};i.DS.publish(["Interaction:start:pre","Interaction:start"],r),i._elements=i.DS.getSelection(),i.handleZIndex(!0);var o=function(e){var t=e.shiftKey,n=e.keyboardDragSpeed,r=e.zoom,i=e.key,o=e.dragKeys,s=e.scrollDiff,a=e.canScroll,c=e.scrollCallback,l={x:0,y:0},u=t?4*n*r:n*r;return o.left.includes(i)&&(l.x=s.x||-u,t||s.x||!a||c(["left"],n)),o.right.includes(i)&&(l.x=s.x||u,t||s.x||!a||c(["right"],n)),o.up.includes(i)&&(l.y=s.y||-u,t||s.y||!a||c(["top"],n)),o.down.includes(i)&&(l.y=s.y||u,t||s.y||!a||c(["bottom"],n)),l}({shiftKey:i.DS.stores.KeyStore.currentValues.includes("shift"),keyboardDragSpeed:i._keyboardDragSpeed,zoom:i._zoom,key:n,scrollCallback:i.DS.Area.scroll,scrollDiff:i._scrollDiff,canScroll:i.DS.stores.ScrollStore.canScroll,dragKeys:i._dragKeys});i._elements.forEach((function(e){return I({element:e,posDirection:o,containerRect:i.DS.SelectorArea.rect,useTransform:i._useTransform})})),i.DS.publish(["Interaction:update:pre","Interaction:update"],r)}})),r(this,"keyboardEnd",(function(e){var t=e.event,n=e.key;if(i._keyboardDrag&&i._dragKeysFlat.includes(n)&&i.DS.SelectedSet.size&&i._draggability){var r={event:t,isDragging:i._draggability,isDraggingKeyboard:!0};i.DS.publish(["Interaction:end:pre","Interaction:end"],r)}})),r(this,"start",(function(e){var t=e.isDragging,n=e.isDraggingKeyboard;t&&!n&&(i._prevCursorPos=null,i._prevScrollPos=null,i._elements=i.DS.getSelection(),i.handleZIndex(!0))})),r(this,"stop",(function(e){null!=e&&e.isKeyboard||(i._prevCursorPos=null,i._prevScrollPos=null,i.handleZIndex(!1),i._elements=[])})),r(this,"update",(function(e){var t=e.isDragging,n=e.isDraggingKeyboard;if(t&&i._elements.length&&!n&&!i.DS.continue){var r=b(i._cursorDiff,"+",i._scrollDiff);i._elements.forEach((function(e){return I({element:e,posDirection:r,containerRect:i.DS.SelectorArea.rect,useTransform:i._useTransform})}))}})),r(this,"handleZIndex",(function(e){i._elements.forEach((function(t){return t.style.zIndex="".concat((parseInt(t.style.zIndex)||0)+e?9999:-9998)}))})),this.DS=o,this._useTransform=u,this._keyboardDragSpeed=l,this._keyboardDrag=c,this._zoom=d,this._draggability=a,this._dragKeys={up:s.up.map((function(e){return e.toLowerCase()})),down:s.down.map((function(e){return e.toLowerCase()})),left:s.left.map((function(e){return e.toLowerCase()})),right:s.right.map((function(e){return e.toLowerCase()}))},this._dragKeysFlat=[].concat(m(this._dragKeys.up),m(this._dragKeys.down),m(this._dragKeys.left),m(this._dragKeys.right)),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:end",this.stop),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("KeyStore:down",this.keyboardDrag),this.DS.subscribe("KeyStore:up",this.keyboardEnd)}return n(t,[{key:"_cursorDiff",get:function(){var e=this.DS.stores.PointerStore.currentVal,t=this._prevCursorPos?b(e,"-",this._prevCursorPos):{x:0,y:0};return this._prevCursorPos=e,t}},{key:"_scrollDiff",get:function(){var e=this.DS.stores.ScrollStore.currentVal,t=this._prevScrollPos?b(e,"-",this._prevScrollPos):{x:0,y:0};return this._prevScrollPos=e,t}}]),t}(),K=function(){function t(n){var i=this,o=n.areaElement,s=n.DS,a=n.draggability,c=n.immediateDrag;e(this,t),r(this,"_areaElement",void 0),r(this,"_draggability",void 0),r(this,"_immediateDrag",void 0),r(this,"isInteracting",void 0),r(this,"isDragging",void 0),r(this,"init",(function(){return i.DS.publish("Interaction:init:pre",{})})),r(this,"_init",(function(){i.stop(),i._areaElement.addEventListener("mousedown",i.start),i._areaElement.addEventListener("touchstart",i.start,{passive:!1}),i.DS.publish("Interaction:init",{})})),r(this,"start",(function(e){return i.DS.publish("Interaction:start:pre",{event:e,isDragging:i.isDragging})})),r(this,"_start",(function(e){"touchstart"===e.type&&e.preventDefault(),i._canInteract(e)&&(i.isInteracting=!0,i.isDragging=i.isDragEvent(e),i.DS.publish("Interaction:start",{event:e,isDragging:i.isDragging}),document.addEventListener("mouseup",i.reset),document.addEventListener("touchend",i.reset))})),r(this,"isDragEvent",(function(e){return!(!i._draggability||i.DS.stores.KeyStore.isMultiSelectKeyPressed(e)||!i.DS.SelectableSet.has(e.target)||(i._immediateDrag&&(i.DS.SelectedSet.size?i.DS.SelectedSet.has(e.target)||(i.DS.SelectedSet.clear(),i.DS.SelectedSet.add(e.target)):i.DS.SelectedSet.add(e.target)),!i.DS.SelectedSet.has(e.target)))})),r(this,"onClick",(function(e){var t=e.event;if(i._canInteract(t)&&!(t.detail>0)){var n=i.DS,r=n.stores,o=r.PointerStore,s=r.KeyStore,a=n.SelectableSet,c=n.SelectedSet;o.start(t);var l=t.target;a.has(l)&&(s.isMultiSelectKeyPressed(t)||c.clear(),c.toggle(l),i.reset())}})),r(this,"stop",(function(){i.isInteracting=!1,i.isDragging=!1,i._areaElement.removeEventListener("mousedown",i.start),i._areaElement.removeEventListener("touchstart",i.start,{passive:!1}),document.removeEventListener("mouseup",i.reset),document.removeEventListener("touchend",i.reset)})),r(this,"update",(function(e){var t=e.event,n=e.scroll_directions,r=e.scroll_multiplier;i.isInteracting&&i.DS.publish(["Interaction:update:pre","Interaction:update"],{event:t,scroll_directions:n,scroll_multiplier:r,isDragging:i.isDragging})})),r(this,"reset",(function(e){return i.DS.publish("Interaction:end:pre",{event:e,isDragging:i.isDragging})})),r(this,"_reset",(function(e){var t=i.isDragging;i.stop(),i.init(),i.DS.publish("Interaction:end",{event:e,isDragging:t})})),this._areaElement=o,this._draggability=a,this._immediateDrag=c,this.DS=s,this.DS.subscribe("PointerStore:updated",this.update),this.DS.subscribe("Selectable:click",this.onClick),this.DS.subscribe("Selectable:pointer",(function(e){var t=e.event;return i.start(t)})),this.DS.subscribe("Interaction:start:pre",(function(e){var t=e.event;return i._start(t)})),this.DS.subscribe("Interaction:init:pre",this._init),this.DS.subscribe("Interaction:end:pre",(function(e){var t=e.event;return i._reset(t)})),this.DS.subscribe("Area:scroll",this.update)}return n(t,[{key:"_canInteract",value:function(e){var t=0===e.clientX&&0===e.clientY&&0===e.detail&&e.target;return!(2===e.button||this.isInteracting||e.target&&!this.DS.SelectorArea.isInside(e.target)||!t&&!this.DS.SelectorArea.isClicked(e))}}]),t}(),O=function t(n){var i=this,o=n.DS;e(this,t),r(this,"subscribers",{}),r(this,"subscribe",(function(e,t){return Array.isArray(i.subscribers[e])||(i.subscribers[e]=[]),i.subscribers[e].push(t),i.subscribers[e].length-1})),r(this,"unsubscribe",(function(e,t,n){n>=0?i.subscribers[e].splice(n,1):t&&(i.subscribers[e]=i.subscribers[e].filter((function(e){return e!==t})))})),r(this,"publish",(function(e,t){Array.isArray(e)?e.forEach((function(e){return i._publish(e,t)})):i._publish(e,t)})),r(this,"_publish",(function(e,t){var n=i.subscribers[e];Array.isArray(n)&&(e.includes(":pre")?i._handlePrePublish(n,t):i._handlePublish(n,t))})),r(this,"_handlePublish",(function(e,t){for(var n=0,r=e.length;n<r;n++){if(i.DS.stopped)return;e[n](t)}})),r(this,"_handlePrePublish",(function(e,t){for(var n=e.length;n--;){if(i.DS.stopped)return;e[n](t)}})),this.DS=o},j=function(t){o(a,t);var i=f(a);function a(t){var n,o=t.elements,s=t.className,c=t.hoverClassName,l=t.draggability,u=t.useTransform,h=t.DS;return e(this,a),r(d(n=i.call(this)),"_initElements",void 0),r(d(n),"_className",void 0),r(d(n),"_hoverClassName",void 0),r(d(n),"_useTransform",void 0),r(d(n),"_draggability",void 0),r(d(n),"init",(function(){return n._initElements.forEach((function(e){return n.add(e)}))})),r(d(n),"clear",(function(){return n.forEach((function(e){return n.delete(e)}))})),r(d(n),"_onClick",(function(e){return n.DS.publish(["Selectable:click:pre","Selectable:click"],{event:e})})),r(d(n),"_onPointer",(function(e){return n.DS.publish(["Selectable:pointer:pre","Selectable:pointer"],{event:e})})),r(d(n),"addAll",(function(e){return e.forEach((function(e){return n.add(e)}))})),r(d(n),"deleteAll",(function(e){return e.forEach((function(e){return n.delete(e)}))})),n.DS=h,n._initElements=T(o),n._className=s,n._hoverClassName=c,n._useTransform=u,n._draggability=l,n.DS.subscribe("Interaction:init",n.init),n}return n(a,[{key:"add",value:function(e){return e.classList.add(this._className),e.addEventListener("click",this._onClick),e.addEventListener("mousedown",this._onPointer),e.addEventListener("touchstart",this._onPointer,{passive:!1}),this._draggability&&!this._useTransform&&E({computedStyle:window.getComputedStyle(e),node:e}),v(s(a.prototype),"add",this).call(this,e)}},{key:"delete",value:function(e){return e.classList.remove(this._className),e.classList.remove(this._hoverClassName),e.removeEventListener("click",this._onClick),e.removeEventListener("mousedown",this._onPointer),e.removeEventListener("touchstart",this._onPointer,{passive:!1}),v(s(a.prototype),"delete",this).call(this,e)}},{key:"elements",get:function(){return Array.from(this.values())}}]),a}(u(Set)),H=function(t){o(a,t);var i=f(a);function a(t){var n,o=t.className,s=t.DS;return e(this,a),r(d(n=i.call(this)),"_className",void 0),r(d(n),"clear",(function(){return n.forEach((function(e){return n.delete(e)}))})),r(d(n),"addAll",(function(e){return e.forEach((function(e){return n.add(e)}))})),r(d(n),"deleteAll",(function(e){return e.forEach((function(e){return n.delete(e)}))})),n.DS=s,n._className=o,n}return n(a,[{key:"add",value:function(e){if(!v(s(a.prototype),"has",this).call(this,e)){var t={items:this.elements,item:e};return this.DS.publish("Selected:added:pre",t),v(s(a.prototype),"add",this).call(this,e),e.classList.add(this._className),e.style.zIndex="".concat((parseInt(e.style.zIndex)||0)+1),this.DS.publish("Selected:added",t),this}}},{key:"delete",value:function(e){if(v(s(a.prototype),"has",this).call(this,e)){var t={items:this.elements,item:e};this.DS.publish("Selected:removed:pre",t);var n=v(s(a.prototype),"delete",this).call(this,e);return e.classList.remove(this._className),e.style.zIndex="".concat((parseInt(e.style.zIndex)||0)-1),this.DS.publish("Selected:removed",t),n}}},{key:"toggle",value:function(e){return this.has(e)?this.delete(e):this.add(e),e}},{key:"elements",get:function(){return Array.from(this.values())}}]),a}(u(Set)),z=function(){function t(n){var i=this,o=n.DS,s=n.hoverClassName,a=n.multiSelectToggling;e(this,t),r(this,"_prevSelectedSet",void 0),r(this,"_hoverClassName",void 0),r(this,"_multiSelectToggling",void 0),r(this,"start",(function(e){var t=e.event;e.isDragging||(i._storePrevious(t),i._handleInsideSelection(!0,t))})),r(this,"update",(function(e){e.isDragging||i.DS.continue||i._handleInsideSelection()})),r(this,"_handleInsideSelection",(function(e,t){for(var n=i.DS,r=n.SelectableSet,o=n.SelectorArea,s=n.Selector,a=r.elements.map((function(e){return[e,e.getBoundingClientRect()]})),c=[],l=[],u=0,d=a.length;u<d;u++)o.isInside(a[u][0],a[u][1])&&(A(a[u][1],s.rect)?c.push(a[u][0]):l.push(a[u][0]));var h=i.DS.stores.KeyStore.isMultiSelectKeyPressed(t)&&i._multiSelectToggling;i.DS.continue||(c.forEach((function(t){return function(e){var t=e.element,n=e.force,r=e.multiSelectionToggle,i=e.SelectedSet,o=e.hoverClassName;t.classList.contains(o)&&!n||(i.has(t)?r&&i.delete(t):i.add(t),t.classList.add(o))}({element:t,force:e,multiSelectionToggle:h,SelectedSet:i.DS.SelectedSet,hoverClassName:i._hoverClassName})})),l.forEach((function(t){return function(e){var t=e.element,n=e.force,r=e.SelectedSet,i=e.PrevSelectedSet,o=e.hoverClassName;if(!t.classList.contains(o)&&!n)return!1;var s=r.has(t),a=i.has(t);s&&!a?r.delete(t):!s&&a&&r.add(t),t.classList.remove(o)}({element:t,force:e,SelectedSet:i.DS.SelectedSet,hoverClassName:i._hoverClassName,PrevSelectedSet:i._prevSelectedSet})})))})),this._hoverClassName=s,this._multiSelectToggling=a,this.DS=o,this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update)}return n(t,[{key:"_storePrevious",value:function(e){var t=this.DS,n=t.stores.KeyStore,r=t.SelectedSet;n.isMultiSelectKeyPressed(e)?this._prevSelectedSet=new Set(r):this._prevSelectedSet=new Set}}]),t}(),R=function(){function t(n){var i=this,o=n.DS,s=n.selector,a=n.selectorClass,c=n.customStyles;e(this,t),r(this,"_rect",void 0),r(this,"start",(function(e){if(!e.isDragging){var t=i.DS.stores.PointerStore.initialValArea;V(i.HTMLNode,_(t,1)),i.HTMLNode.style.display="block",i._rect=null}})),r(this,"stop",(function(){i.HTMLNode.style.width="0",i.HTMLNode.style.height="0",i.HTMLNode.style.display="none"})),r(this,"update",(function(e){if(!e.isDragging&&!i.DS.continue){var t=i.DS.stores,n=t.ScrollStore,r=t.PointerStore,o=function(e){var t=e.scrollAmount,n=e.initialPointerPos,r=e.pointerPos,i={};return r.x>n.x-t.x?(i.left=n.x-t.x,i.width=r.x-n.x+t.x):(i.left=r.x,i.width=n.x-r.x-t.x),r.y>n.y-t.y?(i.top=n.y-t.y,i.height=r.y-n.y+t.y):(i.top=r.y,i.height=n.y-r.y-t.y),i}({scrollAmount:n.scrollAmount,initialPointerPos:r.initialValArea,pointerPos:r.currentValArea});V(i.HTMLNode,o),i._rect=null}})),this.DS=o,this.HTMLNode=s||function(e){var t=document.createElement("div");return t.style.position="absolute",e||(t.style.background="rgba(0, 0, 255, 0.1)",t.style.border="1px solid rgba(0, 0, 255, 0.45)",t.style.display="none",t.style.pointerEvents="none"),t}(c),this.HTMLNode.classList.add(a),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("Interaction:end",this.stop)}return n(t,[{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),t}(),B=function(){function t(n){var i=this,o=n.DS,s=n.selectorAreaClass,a=n.autoScrollSpeed,c=n.overflowTolerance;e(this,t),r(this,"_autoScrollSpeed",void 0),r(this,"_scrollInterval",void 0),r(this,"_rect",void 0),r(this,"currentEdges",[]),r(this,"_overflowTolerance",void 0),r(this,"start",(function(){return i.applyElements("append")})),r(this,"applyElements",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"append",t=document.body?"body":"documentElement",n="".concat(e,"Child");i.HTMLNode[n](i.DS.Selector.HTMLNode),document[t][n](i.HTMLNode)})),r(this,"updatePos",(function(){i._rect=null;var e=i.DS.Area.rect,t=i.DS.Area.computedBorder,n=i.HTMLNode.style,r="".concat(e.top+t.top,"px"),o="".concat(e.left+t.left,"px"),s="".concat(e.width,"px"),a="".concat(e.height,"px");n.top!==r&&(n.top=r),n.left!==o&&(n.left=o),n.width!==s&&(n.width=s),n.height!==a&&(n.height=a)})),r(this,"stop",(function(e){i.stopAutoScroll(),e&&i.applyElements("remove")})),r(this,"startAutoScroll",(function(){i.currentEdges=[],i._scrollInterval=setInterval((function(){return i.handleAutoScroll()}),16)})),r(this,"handleAutoScroll",(function(){if(!i.DS.continue){var e=i.DS,t=e.stores.PointerStore,n=e.Area;i.currentEdges=P({elementRect:_(t.currentVal),containerRect:i.rect,tolerance:i._overflowTolerance}),i.currentEdges.length&&n.scroll(i.currentEdges,i._autoScrollSpeed)}})),r(this,"stopAutoScroll",(function(){i.currentEdges=[],clearInterval(i._scrollInterval)})),r(this,"isInside",(function(e,t){return!(!i.DS.Area.HTMLNode.contains(e)||!i.DS.stores.ScrollStore.canScroll)||A(i.rect,t||e.getBoundingClientRect())})),this._autoScrollSpeed=a,this._overflowTolerance=c,this.DS=o,this.HTMLNode=function(e){var t=document.createElement("div");return t.style.position="fixed",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="999999999999999999",t.classList.add(e),t}(s),this.DS.subscribe("Area:modified",this.updatePos),this.DS.subscribe("Interaction:init",this.start),this.DS.subscribe("Interaction:start",this.startAutoScroll),this.DS.subscribe("Interaction:end",(function(){i.updatePos(),i.stopAutoScroll()}))}return n(t,[{key:"isClicked",value:function(e){var t=this.DS.stores.PointerStore,n=e?t.getPointerPosition(e):t.initialVal;return A({left:n.x,top:n.y,right:n.x,bottom:n.y},this.rect)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),t}(),U=function(){function t(n){var i=this,o=n.DS,s=n.multiSelectKeys,a=n.multiSelectMode;e(this,t),r(this,"_multiSelectMode",void 0),r(this,"_multiSelectKeys",void 0),r(this,"_currentValues",new Set),r(this,"_keyMapping",{control:"ctrlKey",shift:"shiftKey",meta:"metaKey"}),r(this,"init",(function(){document.addEventListener("keydown",i.keydown),document.addEventListener("keyup",i.keyup),window.addEventListener("blur",i.reset)})),r(this,"keydown",(function(e){var t=e.key.toLowerCase();i.DS.publish("KeyStore:down:pre",{event:e,key:t}),i._currentValues.add(t),i.DS.publish("KeyStore:down",{event:e,key:t})})),r(this,"keyup",(function(e){var t=e.key.toLowerCase();i.DS.publish("KeyStore:up:pre",{event:e,key:t}),i._currentValues.delete(t),i.DS.publish("KeyStore:up",{event:e,key:t})})),r(this,"stop",(function(){document.removeEventListener("keydown",i.keydown),document.removeEventListener("keyup",i.reset),window.removeEventListener("blur",i.reset),i.reset()})),r(this,"reset",(function(){return i._currentValues.clear()})),this.DS=o,this._multiSelectMode=a,this._multiSelectKeys=s.map((function(e){var t={ctrlKey:"Control",shiftKey:"Shift",metaKey:"Meta"}[e];return t?(console.warn("[DragSelect] ".concat(e,' is deprecated. Use "').concat(t,'" instead. Act Now!. See docs for more info')),t.toLowerCase()):e.toLowerCase()})),this.DS.subscribe("Interaction:init",this.init)}return n(t,[{key:"isMultiSelectKeyPressed",value:function(e){var t=this;return!!this._multiSelectMode||!!this.currentValues.some((function(e){return t._multiSelectKeys.includes(e)}))||!(!e||!this._multiSelectKeys.some((function(n){return e[t._keyMapping[n]]})))}},{key:"currentValues",get:function(){return Array.from(this._currentValues.values())}}]),t}(),F=function(){function t(n){var i=this,o=n.DS;e(this,t),r(this,"_isMouseInteraction",!1),r(this,"_initialValArea",void 0),r(this,"_currentValArea",void 0),r(this,"_lastValArea",void 0),r(this,"_initialVal",void 0),r(this,"_currentVal",void 0),r(this,"_lastVal",void 0),r(this,"_lastTouch",void 0),r(this,"init",(function(){document.addEventListener("mousemove",i.update),document.addEventListener("touchmove",i.update,{passive:!1})})),r(this,"getPointerPosition",(function(e){return function(e){var t=e.event;return{x:t.clientX,y:t.clientY}}({event:i._normalizedEvent(e)})})),r(this,"update",(function(e){e&&(i.DS.publish("PointerStore:updated:pre",{event:e}),i.currentVal=i.getPointerPosition(e),i._isMouseInteraction&&i.DS.publish("PointerStore:updated",{event:e}))})),r(this,"stop",(function(){document.removeEventListener("mousemove",i.update),document.removeEventListener("touchmove",i.update,{passive:!1}),setTimeout((function(){return i._isMouseInteraction=!1}),100)})),r(this,"reset",(function(e){e&&(i.currentVal=i.lastVal=i.getPointerPosition(e),i.stop(),i.init())})),this.DS=o,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",(function(e){var t=e.event;return i.start(t)})),this.DS.subscribe("Interaction:end",(function(e){var t=e.event;return i.reset(t)}))}return n(t,[{key:"start",value:function(e){e&&(this._isMouseInteraction=!0,this.currentVal=this.initialVal=this.getPointerPosition(e))}},{key:"_normalizedEvent",value:function(e){return"touches"in e&&"touchend"!==e.type&&(this._lastTouch=e),"touches"in e?this._lastTouch.touches[0]:e}},{key:"initialValArea",get:function(){return this._initialValArea?this._initialValArea:{x:0,y:0}}},{key:"currentValArea",get:function(){return this._currentValArea?this._currentValArea:{x:0,y:0}}},{key:"lastValArea",get:function(){return this._lastValArea?this._lastValArea:{x:0,y:0}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}},set:function(e){this._initialVal=e,this._initialValArea=e&&b(e,"-",b(y(this.DS.Area.rect),"+",y(this.DS.Area.computedBorder)))}},{key:"currentVal",get:function(){return this._currentVal?this._currentVal:{x:0,y:0}},set:function(e){this._currentVal=e,this._currentValArea=e&&b(e,"-",b(y(this.DS.Area.rect),"+",y(this.DS.Area.computedBorder)))}},{key:"lastVal",get:function(){return this._lastVal?this._lastVal:{x:0,y:0}},set:function(e){this._lastVal=e,this._lastValArea=e&&b(e,"-",b(y(this.DS.Area.rect),"+",y(this.DS.Area.computedBorder)))}}]),t}(),W=function(){function t(n){var i=this,o=n.DS,s=n.areaElement,a=n.zoom;e(this,t),r(this,"_initialVal",void 0),r(this,"_currentVal",void 0),r(this,"_areaElement",void 0),r(this,"_canScroll",void 0),r(this,"init",(function(){return i._areaElement.addEventListener("scroll",i.update)})),r(this,"start",(function(){i._currentVal=i._initialVal=w(i._areaElement),i._areaElement.addEventListener("scroll",i.update)})),r(this,"update",(function(){return i._currentVal=w(i._areaElement)})),r(this,"stop",(function(){i._areaElement.removeEventListener("scroll",i.update),i._initialVal={x:0,y:0},i._canScroll=null})),r(this,"reset",(function(){i.stop(),i.start()})),this._areaElement=s,this.DS=o,this.zoom=a,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",(function(){return i.start()})),this.DS.subscribe("Interaction:end",(function(){return i.reset()}))}return n(t,[{key:"canScroll",get:function(){return"boolean"==typeof this._canScroll?this._canScroll:this._canScroll=(e=this._areaElement,!!((t=w(e)).x||t.y||(e instanceof HTMLDocument?e.body?e.body.scrollTop=1:e.documentElement.scrollTop=1:e.scrollTop=1)));var e,t}},{key:"scrollAmount",get:function(){var e,t=b(this.currentVal,"-",this.initialVal),n={x:e=this.zoom,y:e},r=b(b(t,"*",n),"-",t);return{x:t.x+r.x,y:t.y+r.y}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}}},{key:"currentVal",get:function(){return this._currentVal||(this._currentVal=w(this._areaElement)),this._currentVal}}]),t}(),G=function(){function t(n){var i=this,o=n.area,s=void 0===o?document:o,a=n.selectables,c=void 0===a?[]:a,l=n.autoScrollSpeed,u=void 0===l?5:l,d=n.overflowTolerance,h=void 0===d?{x:25,y:25}:d,f=n.zoom,v=void 0===f?1:f,p=n.customStyles,m=void 0!==p&&p,S=n.multiSelectMode,g=void 0!==S&&S,b=n.multiSelectToggling,y=void 0===b||b,_=n.multiSelectKeys,D=void 0===_?["Control","Shift","Meta"]:_,w=n.selector,P=void 0===w?void 0:w,k=n.draggability,x=void 0===k||k,E=n.immediateDrag,A=void 0===E||E,I=n.keyboardDrag,L=void 0===I||I,T=n.dragKeys,V=n.keyboardDragSpeed,G=void 0===V?10:V,Z=n.useTransform,q=void 0===Z||Z,X=n.hoverClass,Y=void 0===X?"ds-hover":X,$=n.selectableClass,J=void 0===$?"ds-selectable":$,Q=n.selectedClass,ee=void 0===Q?"ds-selected":Q,te=n.selectorClass,ne=void 0===te?"ds-selector":te,re=n.selectorAreaClass,ie=void 0===re?"ds-selector-area":re,oe=n.callback,se=n.onDragMove,ae=n.onDragStartBegin,ce=n.onDragStart,le=n.onElementSelect,ue=n.onElementUnselect;e(this,t),r(this,"continue",!1),r(this,"start",(function(){i.stopped=!1,i.Interaction.init()})),r(this,"break",(function(){return i.continue=!0})),r(this,"getSelection",(function(){return i.SelectedSet.elements})),r(this,"getSelectables",(function(){return i.SelectableSet.elements})),r(this,"getInitialCursorPosition",(function(){return i.stores.PointerStore.initialVal})),r(this,"getCurrentCursorPosition",(function(){return i.stores.PointerStore.currentVal})),r(this,"getPreviousCursorPosition",(function(){return i.stores.PointerStore.lastVal})),r(this,"getInitialCursorPositionArea",(function(){return i.stores.PointerStore.initialValArea})),r(this,"getCurrentCursorPositionArea",(function(){return i.stores.PointerStore.currentValArea})),r(this,"getPreviousCursorPositionArea",(function(){return i.stores.PointerStore.lastValArea})),r(this,"isMultiSelect",(function(e){return i.stores.KeyStore.isMultiSelectKeyPressed(e)})),r(this,"isDragging",(function(){return i.Interaction.isDragging})),this.PubSub=new O({DS:this}),this.subscribe=this.PubSub.subscribe,this.unsubscribe=this.PubSub.unsubscribe,this.publish=this.PubSub.publish,this._callbacksTemp({callback:oe,onDragMove:se,onDragStart:ce,onDragStartBegin:ae,onElementSelect:le,onElementUnselect:ue}),this.stores={PointerStore:new F({DS:this}),ScrollStore:new W({DS:this,areaElement:s,zoom:v}),KeyStore:new U({DS:this,multiSelectKeys:D,multiSelectMode:g})},this.Area=new M({area:s,PS:this.PubSub,zoom:v}),this.Selector=new R({DS:this,selector:P,selectorClass:ne,customStyles:m}),this.SelectorArea=new B({DS:this,selectorAreaClass:ie,autoScrollSpeed:u,overflowTolerance:h}),this.SelectableSet=new j({elements:c,DS:this,className:J,hoverClassName:Y,useTransform:q,draggability:x}),this.SelectedSet=new H({DS:this,className:ee}),this.Selection=new z({DS:this,hoverClassName:Y,multiSelectToggling:y}),this.Drag=new N({DS:this,draggability:x,useTransform:q,keyboardDrag:L,dragKeys:Object.assign({up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]},T),zoom:v,keyboardDragSpeed:G}),this.Interaction=new K({areaElement:s,DS:this,draggability:x,immediateDrag:A}),C({subscribe:this.subscribe,publish:this.publish,SelectedSet:this.SelectedSet,Interaction:this.Interaction}),this.subscribe("Interaction:end",(function(){return i.continue=!1})),this.start()}return n(t,[{key:"_callbacksTemp",value:function(e){var t=e.callback,n=e.onDragMove,r=e.onDragStart,i=e.onDragStartBegin,o=e.onElementSelect,s=e.onElementUnselect,a=function(e,t){return console.warn("[DragSelect] ".concat(e,' is deprecated. Use DragSelect.subscribe("').concat(t,'", (callbackObject) => {}) instead. Act Now! See docs for more info'))};t&&(a("callback","callback"),this.subscribe("callback",(function(e){var n=e.items,r=(e.item,e.event);return t(n,r)}))),n&&(a("onDragMove","dragmove"),this.subscribe("dragmove",(function(e){e.items,e.item;var t=e.event;return n(t)}))),r&&(a("onDragStart","dragstart"),this.subscribe("dragstart",(function(e){e.items,e.item;var t=e.event;return r(t)}))),i&&(a("onDragStartBegin","dragstart"),this.subscribe("dragstart",(function(e){e.items,e.item;var t=e.event;return i(t)}))),o&&(a("onElementSelect","elementselect"),this.subscribe("elementselect",(function(e){e.items;var t=e.item,n=e.event;return o(t,n)}))),s&&(a("onElementUnselect","elementunselect"),this.subscribe("elementunselect",(function(e){e.items;var t=e.item,n=e.event;return s(t,n)})))}},{key:"stop",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.publish("callback",{items:this.getSelection()}),this.Interaction.stop(),this.Area.stop(),this.Drag.stop(),this.Selector.stop(),this.SelectorArea.stop(e),this.stores.KeyStore.stop(),this.stores.PointerStore.stop(),this.stores.ScrollStore.stop(),e&&this.SelectableSet.clear(),t&&this.SelectedSet.clear(),this.stopped=!0}},{key:"addSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.SelectedSet.addAll(T(e)),n||this.addSelectables(e),t&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"removeSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.SelectedSet.deleteAll(T(e)),n&&this.removeSelectables(e),t&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"toggleSelection",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return T(e).forEach((function(i){return t.SelectedSet.has(i)?t.removeSelection(e,n,r):t.addSelection(e,n,r)})),n&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.clearSelection(),this.addSelection(e,t,n),this.getSelection()}},{key:"clearSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.SelectedSet.clear(),e&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"addSelectables",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=T(e);return this.SelectableSet.addAll(n),t&&this.SelectedSet.addAll(n),e}},{key:"setSelectables",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.removeSelectables(e,t),this.addSelectables(e,n)}},{key:"removeSelectables",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.SelectableSet.deleteAll(T(e)),t&&this.removeSelection(e),e}},{key:"getCursorPositionDifference",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.warn("[DragSelect] Using .getCursorPositionDifference is deprecated. Calculate yourself instead. i.e. `.getCurrentCursorPosition().x - .getInitialCursorPosition().x`");var n=t?this.getCurrentCursorPositionArea():this.getCurrentCursorPosition(),r=e?t?this.getPreviousCursorPositionArea():this.getPreviousCursorPosition():t?this.getInitialCursorPositionArea():this.getInitialCursorPosition();return b(n,"-",r)}}]),t}();return G}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(501),t=n.n(e);!function(){var e={Gennaio:0,Febbraio:1,Marzo:2,Aprile:3,Maggio:4,Giugno:5,Luglio:6,Agosto:7,Settembre:8,Ottobre:9,Novembre:10,Dicembre:11};function n(){var e=document.createElement("div");e.classList.add("output-area");var t=document.querySelectorAll(".month-box.active");if(t){t.forEach((function(t){var n=t.firstElementChild.innerHTML,r='\n          <div class="selected-month">\n            '.concat(n,"\n          </div>\n        ");e.innerHTML+=r}));var n=document.querySelectorAll(".output-area");n&&n.forEach((function(e){e.remove()})),document.body.appendChild(e)}}!function(){var r,i,o,s;r=this,i=void 0,s=function(){var r,i,o,s,a,c;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(l){switch(l.label){case 0:return r={mesi:[{documenti:5,importo:39375},{documenti:11,importo:4104},{documenti:8,importo:33108},{documenti:39,importo:10137},{documenti:21,importo:8022},{documenti:26,importo:7609},{documenti:25,importo:32254},{documenti:13,importo:26772},{documenti:24,importo:46155},{documenti:42,importo:17016},{documenti:23,importo:29394},{documenti:18,importo:18829}]},i=[],o=0,s=0,a=[],(c=document.createElement("div")).classList.add("monthly-trend-component"),r.mesi.forEach((function(e){a.push(e.importo),o=Math.max.apply(Math,a),s=Math.min.apply(Math,a)})),r.mesi.forEach((function(r,a){var l=document.createElement("div");l.classList.add("month-box"),c.appendChild(l),i.push(l);var u,d,h='\n          <div class="name">\n            '.concat((u=e,d=a,Object.keys(u).find((function(e){return u[e]===d}))),'\n          </div>\n          <div class="infos">\n            <div style=height:').concat(function(e,t,n,r){for(var i=e;i<=t;i++)if(i===n)return 78*i/t}(s,o,r.importo),'px class="value-bar">           \n            </div>\n            <div class="document">\n              <div class="count">\n                ').concat(r.documenti,'\n              </div>\n              <div class="text">\n                doc.\n              </div>\n            </div>\n            <div class="money">\n            ').concat(new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR",maximumSignificantDigits:5}).format(r.importo),"\n            </div>\n          </div>\n        ");l.innerHTML+=h,l.addEventListener("click",(function(){i.forEach((function(e){e.classList.remove("active")})),l.classList.add("active"),n()})),new(t())({selectables:i,draggability:!1,selectedClass:"active"}).subscribe("callback",n)})),[4,document.body.appendChild(c)];case 1:return[2,l.sent()]}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,a)}c((s=s.apply(r,i||[])).next())}))}()}()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSixDQUFlLENBQ2hDdkUsWUFBYWtGLEVBQ2JyUixjQUFjLEVBQ2RzTixjQUFlLFdBRU50VCxVQUFVLFdBQVkwVyxNQUU5QixHQUFNbmEsU0FBU0MsS0FBSzRhLFlBQVlLLEksT0FBdkMsTUFBTyxDQUFQLEVBQU8sZSxtUkFHVG1CLEdBR0ZDLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb250aGx5LXRyZW5kLWNvbXBvbmVudC8uL25vZGVfbW9kdWxlcy9kcmFnc2VsZWN0L2Rpc3QvRHJhZ1NlbGVjdC5qcyIsIndlYnBhY2s6Ly9tb250aGx5LXRyZW5kLWNvbXBvbmVudC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tb250aGx5LXRyZW5kLWNvbXBvbmVudC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9tb250aGx5LXRyZW5kLWNvbXBvbmVudC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbW9udGhseS10cmVuZC1jb21wb25lbnQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tb250aGx5LXRyZW5kLWNvbXBvbmVudC8uL3NyYy9tb250aGx5LXRyZW5kLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKipcblxuIH5+fiBWZXJzaW9uIDIuMy4wIH5+flxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgICBfX19fICAgICAgICAgICAgICAgICAgIF9fX19fICAgICAgX18gICAgICAgICAgX18gXG4gICAvIF9fIFxcX19fX19fX19fIF9fX19fIF8vIF9fXy9fX18gIC8gL19fICBfX19fXy8gL19cbiAgLyAvIC8gLyBfX18vIF9fIGAvIF9fIGAvXFxfXyBcXC8gXyBcXC8gLyBfIFxcLyBfX18vIF9fL1xuIC8gL18vIC8gLyAgLyAvXy8gLyAvXy8gL19fXy8gLyAgX18vIC8gIF9fLyAvX18vIC9fICBcbi9fX19fXy9fLyAgIFxcX18sXy9cXF9fLCAvL19fX18vXFxfX18vXy9cXF9fXy9cXF9fXy9cXF9fLyAgXG4gICAgICAgICAgICAgICAvX19fXy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIFxuIHsqfSB7Kn0gU1RBUiBUSElTIFBMVUdJTiBPTiBHSVRIVUIgeyp9IHsqfVxuXG4gaHR0cHM6Ly9naXRodWIuY29tL1RoaWJhdWx0SmFuQmV5ZXIvRHJhZ1NlbGVjdFxuIFBsZWFzZSBnaXZlIGl0IGEgbGlrZSwgdGhpcyBpcyB3aGF0IG1ha2VzIG1lIGhhcHB5IDotKVxuIFRoYW5rIFlvdVxuXG4geyp9IHsqfSBTVEFSIFRISVMgUExVR0lOIE9OIEdJVEhVQiB7Kn0geyp9XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqKioqKioqKiogVGhlIE1JVCBMaWNlbnNlIChNSVQpICoqKioqKioqKipcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiBDcmVhdGVkIDIwMTcgYnkgVGhpYmF1bHRKYW5CZXllclxuIHdlYjogaHR0cDovL3d3dy50aGliYXVsdGphbmJleWVyLmNvbS9cbiBnaXRodWI6IGh0dHBzOi8vZ2l0aHViLmNvbS9UaGliYXVsdEphbkJleWVyL0RyYWdTZWxlY3RcblxuKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLkRyYWdTZWxlY3QgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcbiAgICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgICB9KTtcbiAgICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5cztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcblxuICAgICAgaWYgKGkgJSAyKSB7XG4gICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICAgIH07XG4gICAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgICByZXR1cm4gbztcbiAgICB9O1xuXG4gICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTtcblxuICAgIHRyeSB7XG4gICAgICBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgIGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHtcbiAgICAgIF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDtcbiAgICB9IGVsc2Uge1xuICAgICAgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgICAgICB2YXIgYSA9IFtudWxsXTtcbiAgICAgICAgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpO1xuICAgICAgICB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgICAgICBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHtcbiAgICByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgIHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7XG5cbiAgICBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgICAgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzcztcblxuICAgICAgaWYgKHR5cGVvZiBDbGFzcyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgICAgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICAgIHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7XG4gICAgICB9XG5cbiAgICAgIFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogV3JhcHBlcixcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gICAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkge1xuICAgIHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkge1xuICAgICAgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLFxuICAgICAgICAgIHJlc3VsdDtcblxuICAgICAgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHtcbiAgICAgICAgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtcblxuICAgICAgICByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgb2JqZWN0ID0gX2dldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgICBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkge1xuICAgICAgX2dldCA9IFJlZmxlY3QuZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICBfZ2V0ID0gZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICAgICAgICB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuXG4gICAgICAgIGlmICghYmFzZSkgcmV0dXJuO1xuICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpO1xuXG4gICAgICAgIGlmIChkZXNjLmdldCkge1xuICAgICAgICAgIHJldHVybiBkZXNjLmdldC5jYWxsKHJlY2VpdmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlciB8fCB0YXJnZXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gICAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjtcbiAgICB2YXIgX2FyciA9IFtdO1xuICAgIHZhciBfbiA9IHRydWU7XG4gICAgdmFyIF9kID0gZmFsc2U7XG4gICAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZCA9IHRydWU7XG4gICAgICBfZSA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgICBpZiAoIW8pIHJldHVybjtcbiAgICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICAgIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICAgIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gICAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgU2V0dGluZ3MgdG8gYmUgcGFzc2VkIHRvIHRoZSBDbGFzc1xuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBTZXR0aW5nc1xuICAgKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fFNWR0VsZW1lbnR8SFRNTERvY3VtZW50fSBbYXJlYT1kb2N1bWVudF0gYXJlYSBpbiB3aGljaCB5b3UgY2FuIGRyYWcuIElmIG5vdCBwcm92aWRlZCBpdCB3aWxsIGJlIHRoZSB3aG9sZSBkb2N1bWVudFxuICAgKiBAcHJvcGVydHkge0RTSW5wdXRFbGVtZW50c30gW3NlbGVjdGFibGVzPVtdXSB0aGUgZWxlbWVudHMgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFthdXRvU2Nyb2xsU3BlZWQ9NV0gU3BlZWQgaW4gd2hpY2ggdGhlIGFyZWEgc2Nyb2xscyB3aGlsZSBzZWxlY3RpbmcgKGlmIGF2YWlsYWJsZSkuIFVuaXQgaXMgcGl4ZWwgcGVyIG1vdmVtZW50LlxuICAgKiBAcHJvcGVydHkge1ZlY3QyfSBbb3ZlcmZsb3dUb2xlcmFuY2U9e3g6MjUseToyNX1dIFRvbGVyYW5jZSBmb3IgYXV0b1Njcm9sbCAoaG93IGNsb3NlIG9uZSBoYXMgdG8gYmUgbmVhciBhbiBlZGdlcyBmb3IgYXV0b1Njcm9sbCB0byBzdGFydClcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tPTFdIFpvb20gc2NhbGUgZmFjdG9yIChpbiBjYXNlIG9mIHVzaW5nIENTUyBzdHlsZSB0cmFuc2Zvcm06IHNjYWxlKCkgd2hpY2ggbWVzc2VzIHdpdGggcmVhbCBwb3NpdGlvbnMpLiBVbml0IHNjYWxlIHpvb20uXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2N1c3RvbVN0eWxlcz1mYWxzZV0gaWYgc2V0IHRvIHRydWUsIG5vIHN0eWxlcyAoZXhjZXB0IGZvciBwb3NpdGlvbiBhYnNvbHV0ZSkgd2lsbCBiZSBhcHBsaWVkIGJ5IGRlZmF1bHRcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbbXVsdGlTZWxlY3RNb2RlPWZhbHNlXSBBZGQgbmV3bHkgc2VsZWN0ZWQgZWxlbWVudHMgdG8gdGhlIHNlbGVjdGlvbiBpbnN0ZWFkIG9mIHJlcGxhY2luZyB0aGVtXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW211bHRpU2VsZWN0VG9nZ2xpbmc9dHJ1ZV0gV2hldGhlciBvciBub3QgdG8gdG9nZ2xlIGFscmVhZHkgYWN0aXZlIGVsZW1lbnRzIHdoaWxlIG11bHRpLXNlbGVjdGluZ1xuICAgKiBAcHJvcGVydHkge0RTTXVsdGlTZWxlY3RLZXlzfSBbbXVsdGlTZWxlY3RLZXlzPVsnQ29udHJvbCcsICdTaGlmdCcsICdNZXRhJ11dIEtleXMgdGhhdCBhbGxvd3Mgc3dpdGNoaW5nIHRvIHRoZSBtdWx0aS1zZWxlY3QgbW9kZSAoc2VlIHRoZSBtdWx0aVNlbGVjdE1vZGUgb3B0aW9uKS4gQW55IGtleSB2YWx1ZSBpcyBwb3NzaWJsZSAoW3NlZSBNRE4gZG9jc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQva2V5KSkuIE5vdGUgdGhhdCB0aGUgYmVzdCBzdXBwb3J0IGlzIGdpdmVuIGZvciA8a2JkPkNvbnRyb2w8L2tiZD4sIDxrYmQ+U2hpZnQ8L2tiZD4gYW5kIDxrYmQ+TWV0YTwva2JkPi4gUHJvdmlkZSBhbiBlbXB0eSBhcnJheSBgW11gIGlmIHlvdSB3YW50IHRvIHR1cm4gb2ZmIHRoZSBmdW5jdGlvbmFsaXR5LlxuICAgKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBbc2VsZWN0b3I9SFRNTEVsZW1lbnRdIHRoZSBzcXVhcmUgdGhhdCB3aWxsIGRyYXcgdGhlIHNlbGVjdGlvblxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkcmFnZ2FiaWxpdHk9dHJ1ZV0gV2hlbiBhIHVzZXIgaXMgZHJhZ2dpbmcgb24gYW4gYWxyZWFkeSBzZWxlY3RlZCBlbGVtZW50LCB0aGUgc2VsZWN0aW9uIGlzIGRyYWdnZWQuXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ltbWVkaWF0ZURyYWc9dHJ1ZV0gV2hldGhlciBhbiBlbGVtZW50IGlzIGRyYWdnYWJsZSBmcm9tIHRoZSBzdGFydCBvciBuZWVkcyB0byBiZSBzZWxlY3RlZCBmaXJzdFxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtrZXlib2FyZERyYWc9dHJ1ZV0gV2hldGhlciBvciBub3QgdGhlIHVzZXIgY2FuIGRyYWcgd2l0aCB0aGUga2V5Ym9hcmQgKHdlIGRvbid0IHJlY29tbWVuZCBkaXNhYmxpbmcgaXQpXG4gICAqIEBwcm9wZXJ0eSB7RFNEcmFnS2V5c30gW2RyYWdLZXlzPXt1cDpbJ0Fycm93VXAnXSxkb3duOlsnQXJyb3dEb3duJ10sbGVmdDpbJ0Fycm93TGVmdCddLHJpZ2g6WydBcnJvd1JpZ2h0J119XSBUaGUga2V5cyBhdmFpbGFibGUgdG8gZHJhZyBlbGVtZW50IHVzaW5nIHRoZSBrZXlib2FyZC5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtrZXlib2FyZERyYWdTcGVlZD0xMF0gVGhlIHNwZWVkIGF0IHdoaWNoIGVsZW1lbnRzIGFyZSBkcmFnZ2VkIHVzaW5nIHRoZSBrZXlib2FyZC4gSW4gcGl4ZWxzIHBlciBrZXlkb3duLlxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1c2VUcmFuc2Zvcm09dHJ1ZV0gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0ZWQgY3NzIHRyYW5zZm9ybXMgd2hlbiBkcmFnZ2luZyBvciB0b3AvbGVmdCBpbnN0ZWFkXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbaG92ZXJDbGFzcz1kcy1ob3Zlcl0gdGhlIGNsYXNzIGFzc2lnbmVkIHRvIHRoZSBtb3VzZSBob3ZlcmVkIGl0ZW1zXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc2VsZWN0YWJsZUNsYXNzPWRzLXNlbGVjdGFibGVdIHRoZSBjbGFzcyBhc3NpZ25lZCB0byB0aGUgZWxlbWVudHMgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtzZWxlY3RlZENsYXNzPWRzLXNlbGVjdGVkXSB0aGUgY2xhc3MgYXNzaWduZWQgdG8gdGhlIHNlbGVjdGVkIGl0ZW1zXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc2VsZWN0b3JDbGFzcz1kcy1zZWxlY3Rvcl0gdGhlIGNsYXNzIGFzc2lnbmVkIHRvIHRoZSBzcXVhcmUgc2VsZWN0b3IgaGVscGVyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc2VsZWN0b3JBcmVhQ2xhc3M9ZHMtc2VsZWN0b3ItYXJlYV0gdGhlIGNsYXNzIGFzc2lnbmVkIHRvIHRoZSBzcXVhcmUgaW4gd2hpY2ggdGhlIHNlbGVjdG9yIHJlc2lkZXMuIEJ5IGRlZmF1bHQgaXQncyBpbnZpc2libGVcbiAgICogQHByb3BlcnR5IHtEU0NhbGxiYWNrfSBbY2FsbGJhY2tdIERlcHJlY2F0ZWQ6IHBsZWFzZSB1c2UgRHJhZ1NlbGVjdC5zdWJzY3JpYmUoJ2NhbGxiYWNrJywgY2FsbGJhY2spIGluc3RlYWRcbiAgICogQHByb3BlcnR5IHtEU0NhbGxiYWNrfSBbb25EcmFnTW92ZV0gRGVwcmVjYXRlZDogcGxlYXNlIHVzZSBEcmFnU2VsZWN0LnN1YnNjcmliZSgnb25EcmFnTW92ZScsIG9uRHJhZ01vdmUpIGluc3RlYWRcbiAgICogQHByb3BlcnR5IHtEU0NhbGxiYWNrfSBbb25EcmFnU3RhcnRCZWdpbl0gRGVwcmVjYXRlZDogcGxlYXNlIHVzZSBEcmFnU2VsZWN0LnN1YnNjcmliZSgnb25EcmFnU3RhcnRCZWdpbicsIG9uRHJhZ1N0YXJ0QmVnaW4pIGluc3RlYWRcbiAgICogQHByb3BlcnR5IHtEU0NhbGxiYWNrfSBbb25EcmFnU3RhcnRdIERlcHJlY2F0ZWQ6IHBsZWFzZSB1c2UgRHJhZ1NlbGVjdC5zdWJzY3JpYmUoJ29uRHJhZ1N0YXJ0Jywgb25EcmFnU3RhcnQpIGluc3RlYWRcbiAgICogQHByb3BlcnR5IHtEU0NhbGxiYWNrfSBbb25FbGVtZW50U2VsZWN0XSBEZXByZWNhdGVkOiBwbGVhc2UgdXNlIERyYWdTZWxlY3Quc3Vic2NyaWJlKCdvbkVsZW1lbnRTZWxlY3QnLCBvbkVsZW1lbnRTZWxlY3QpIGluc3RlYWRcbiAgICogQHByb3BlcnR5IHtEU0NhbGxiYWNrfSBbb25FbGVtZW50VW5zZWxlY3RdIERlcHJlY2F0ZWQ6IHBsZWFzZSB1c2UgRHJhZ1NlbGVjdC5zdWJzY3JpYmUoJ29uRWxlbWVudFVuc2VsZWN0Jywgb25FbGVtZW50VW5zZWxlY3QpIGluc3RlYWRcbiAgICovXG5cbiAgLyoqXG4gICAqIFRoZSBPYmplY3QgdGhhdCBpcyBwYXNzZWQgYmFjayB0byBhbnkgY2FsbGJhY2sgbWV0aG9kXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IENhbGxiYWNrT2JqZWN0XG4gICAqIEBwcm9wZXJ0eSB7QXJyYXk8SFRNTEVsZW1lbnR8U1ZHRWxlbWVudHxhbnk+fSBbaXRlbXNdIFRoZSBpdGVtcyBjdXJyZW50bHkgc2VsZWN0ZWRcbiAgICogQHByb3BlcnR5IHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR8S2V5Ym9hcmRFdmVudHxFdmVudH0gW2V2ZW50XSBUaGUgcmVzcGVjdGl2ZSBldmVudCBvYmplY3RcbiAgICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxTVkdFbGVtZW50fGFueX0gW2l0ZW1dIFRoZSBzaW5nbGUgaXRlbSBjdXJyZW50bHkgaW50ZXJhY3RlZCB3aXRoXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzRHJhZ2dpbmddIFdoZXRoZXIgdGhlIGludGVyYWN0aW9uIGlzIGEgZHJhZyBvciBhIHNlbGVjdFxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc0RyYWdnaW5nS2V5Ym9hcmRdIFdoZXRoZXIgb3Igbm90IHRoZSBkcmFnIGludGVyYWN0aW9uIGlzIHZpYSBrZXlib2FyZFxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2tleV0gUHJlc3NlZCBrZXkgKGxvd2VyY2FzZSlcbiAgICogQHByb3BlcnR5IHtBcnJheS48J3RvcCd8J2JvdHRvbSd8J2xlZnQnfCdyaWdodCd8dW5kZWZpbmVkPn0gW3Njcm9sbF9kaXJlY3Rpb25zXVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW3Njcm9sbF9tdWx0aXBsaWVyXVxuICAgKi9cblxuICAvKipcbiAgICogQHR5cGVkZWYge2Z1bmN0aW9ufSBEU0NhbGxiYWNrXG4gICAqIEBwYXJhbSB7Q2FsbGJhY2tPYmplY3R9IGRhdGFcbiAgICovXG5cbiAgLyoqIEB0eXBlZGVmIHt7eDogbnVtYmVyLCB5OiBudW1iZXJ9fSBWZWN0MiAqL1xuXG4gIC8qKiBAdHlwZWRlZiB7e3g6bnVtYmVyLHk6bnVtYmVyLHc6bnVtYmVyLGg6bnVtYmVyLHI6bnVtYmVyLGI6bnVtYmVyfX0gRFNFbGVtZW50UG9zICovXG5cbiAgLyoqIEB0eXBlZGVmIHtBcnJheS48J3RvcCd8J2JvdHRvbSd8J2xlZnQnfCdyaWdodCd8dW5kZWZpbmVkPn0gRFNFZGdlcyAqL1xuXG4gIC8qKiBAdHlwZWRlZiB7SFRNTEVsZW1lbnR8U1ZHRWxlbWVudHxIVE1MRG9jdW1lbnR9IERTQXJlYSBhcmVhIHdpdGhpbiB3aGljaCB5b3UgY2FuIGRyYWcgKi9cblxuICAvKiogQHR5cGVkZWYge0hUTUxFbGVtZW50fSBEU1NlbGVjdG9yQXJlYSBhcmVhIGluIHdoaWNoIHlvdSBjYW4gZHJhZyAqL1xuXG4gIC8qKiBAdHlwZWRlZiB7QXJyYXkuPEhUTUxFbGVtZW50fFNWR0VsZW1lbnQ+IHwgSFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50fSBEU0lucHV0RWxlbWVudHMgdGhlIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHNlbGVjdGVkICovXG5cbiAgLyoqIEB0eXBlZGVmIHtBcnJheS48SFRNTEVsZW1lbnR8U1ZHRWxlbWVudD59IERTRWxlbWVudHMgdGhlIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHNlbGVjdGVkICovXG5cbiAgLyoqIEB0eXBlZGVmIHtIVE1MRWxlbWVudHxTVkdFbGVtZW50fSBEU0VsZW1lbnQgYSBzaW5nbGUgZWxlbWVudCB0aGF0IGNhbiBiZSBzZWxlY3RlZCAqL1xuXG4gIC8qKiBAdHlwZWRlZiB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBEU0V2ZW50IGVuIGV2ZW50IGZyb20gYSB0b3VjaCBvciBtb3VzZSBpbnRlcmFjdGlvbiAqL1xuXG4gIC8qKiBAdHlwZWRlZiB7QXJyYXkuPCdTaGlmdCd8J0NvbnRyb2wnfCdNZXRhJ3xzdHJpbmc+fSBEU011bHRpU2VsZWN0S2V5cyBBbiBhcnJheSBvZiBrZXlzIHRoYXQgYWxsb3dzIHN3aXRjaGluZyB0byB0aGUgbXVsdGktc2VsZWN0IG1vZGUgKi9cblxuICAvKiogQHR5cGVkZWYgeydkcmFnbW92ZSd8J2F1dG9zY3JvbGwnfCdkcmFnc3RhcnQnfCdlbGVtZW50c2VsZWN0J3wnZWxlbWVudHVuc2VsZWN0J3wnY2FsbGJhY2snfSBEU0V2ZW50TmFtZXMgKi9cblxuICAvKiogQHR5cGVkZWYgeydJbnRlcmFjdGlvbjppbml0J3wnSW50ZXJhY3Rpb246c3RhcnQnfCdJbnRlcmFjdGlvbjplbmQnfCdJbnRlcmFjdGlvbjp1cGRhdGUnfCdBcmVhOm1vZGlmaWVkJ3wnQXJlYTpzY3JvbGwnfCdQb2ludGVyU3RvcmU6dXBkYXRlZCd8J1NlbGVjdGVkOmFkZGVkJ3wnU2VsZWN0ZWQ6cmVtb3ZlZCd8J1NlbGVjdGFibGU6Y2xpY2snfCdTZWxlY3RhYmxlOnBvaW50ZXInfCdLZXlTdG9yZTpkb3duJ3wnS2V5U3RvcmU6dXAnfSBEU0ludGVybmFsRXZlbnROYW1lcyAqL1xuXG4gIC8qKiBAdHlwZWRlZiB7J0ludGVyYWN0aW9uOmluaXQ6cHJlJ3wnSW50ZXJhY3Rpb246c3RhcnQ6cHJlJ3wnSW50ZXJhY3Rpb246ZW5kOnByZSd8J0ludGVyYWN0aW9uOnVwZGF0ZTpwcmUnfCdBcmVhOm1vZGlmaWVkOnByZSd8J0FyZWE6c2Nyb2xsOnByZSd8J1BvaW50ZXJTdG9yZTp1cGRhdGVkOnByZSd8J1NlbGVjdGVkOmFkZGVkOnByZSd8J1NlbGVjdGVkOnJlbW92ZWQ6cHJlJ3wnU2VsZWN0YWJsZTpjbGljazpwcmUnfCdTZWxlY3RhYmxlOnBvaW50ZXI6cHJlJ3wnS2V5U3RvcmU6ZG93bjpwcmUnfCdLZXlTdG9yZTp1cDpwcmUnfSBEU0ludGVybmFsRXZlbnROYW1lc1ByZSAqL1xuXG4gIC8qKiBAdHlwZWRlZiB7RFNFdmVudE5hbWVzfERTSW50ZXJuYWxFdmVudE5hbWVzfERTSW50ZXJuYWxFdmVudE5hbWVzUHJlfSBEU0NhbGxiYWNrTmFtZXMgdGhlIG5hbWUgb2YgdGhlIGNhbGxiYWNrICovXG5cbiAgLyoqIEB0eXBlZGVmIHt7dG9wOm51bWJlcixsZWZ0Om51bWJlcixib3R0b206bnVtYmVyLHJpZ2h0Om51bWJlcix3aWR0aDpudW1iZXIsaGVpZ2h0Om51bWJlcn19IERTQm91bmRpbmdSZWN0ICovXG5cbiAgLyoqIEB0eXBlZGVmIHt7dXA6c3RyaW5nW10sZG93bjpzdHJpbmdbXSxsZWZ0OnN0cmluZ1tdLHJpZ2h0OnN0cmluZ1tdfX0gRFNEcmFnS2V5cyAqL1xuXG4gIC8qKlxuICAgKiBAY2FsbGJhY2sgRFNNb2RpZmljYXRpb25DYWxsYmFja1xuICAgKiBAcGFyYW0geyp9IGV2ZW50XG4gICAqL1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogQHBhcmFtIHtWZWN0Mn0gdjFcbiAgICogQHBhcmFtIHsnKyd8Jy0nfCcqJ3wnLyd9IG9wZXJhdG9yXG4gICAqIEBwYXJhbSB7VmVjdDJ9IHYyXG4gICAqIEByZXR1cm4ge1ZlY3QyfVxuICAgKi9cblxuICB2YXIgY2FsYyA9IGZ1bmN0aW9uIGNhbGMoX3JlZiwgb3BlcmF0b3IsIF9yZWYyKSB7XG4gICAgdmFyIHgxID0gX3JlZi54LFxuICAgICAgICB5MSA9IF9yZWYueTtcbiAgICB2YXIgeDIgPSBfcmVmMi54LFxuICAgICAgICB5MiA9IF9yZWYyLnk7XG4gICAgdmFyIGNhbGN1bGF0aW9ucyA9IHtcbiAgICAgICcrJzoge1xuICAgICAgICB4OiB4MSArIHgyLFxuICAgICAgICB5OiB5MSArIHkyXG4gICAgICB9LFxuICAgICAgJy0nOiB7XG4gICAgICAgIHg6IHgxIC0geDIsXG4gICAgICAgIHk6IHkxIC0geTJcbiAgICAgIH0sXG4gICAgICAnKic6IHtcbiAgICAgICAgeDogeDEgKiB4MixcbiAgICAgICAgeTogeTEgKiB5MlxuICAgICAgfSxcbiAgICAgICcvJzoge1xuICAgICAgICB4OiB4MSAvIHgyLFxuICAgICAgICB5OiB5MSAvIHkyXG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gY2FsY3VsYXRpb25zW29wZXJhdG9yXTtcbiAgfTtcbiAgLyoqXG4gICAqIEBwYXJhbSB7e2xlZnQ6bnVtYmVyLHRvcDpudW1iZXJ9fSByZWN0XG4gICAqIEByZXR1cm5zIHtWZWN0Mn1cbiAgICovXG5cbiAgdmFyIHJlY3QydmVjdCA9IGZ1bmN0aW9uIHJlY3QydmVjdChyZWN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHJlY3QubGVmdCxcbiAgICAgIHk6IHJlY3QudG9wXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEBwYXJhbSB7VmVjdDJ9IHZlY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpbWVuc2lvblxuICAgKiBAcmV0dXJucyB7RFNCb3VuZGluZ1JlY3R9XG4gICAqL1xuXG4gIHZhciB2ZWN0MnJlY3QgPSBmdW5jdGlvbiB2ZWN0MnJlY3QodmVjdCkge1xuICAgIHZhciBkaW1lbnNpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IHZlY3QueCxcbiAgICAgIHRvcDogdmVjdC55LFxuICAgICAgcmlnaHQ6IHZlY3QueCxcbiAgICAgIGJvdHRvbTogdmVjdC55LFxuICAgICAgd2lkdGg6IGRpbWVuc2lvbixcbiAgICAgIGhlaWdodDogZGltZW5zaW9uXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuXG4gICAqIEByZXR1cm5zIHtWZWN0Mn1cbiAgICovXG5cbiAgdmFyIG51bTJ2ZWN0ID0gZnVuY3Rpb24gbnVtMnZlY3Qobikge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBuLFxuICAgICAgeTogblxuICAgIH07XG4gIH07XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50LWxpc3RlbmVycyB0byB0aGUgc2VsZWN0b3JBcmVhXG4gICAqIEBwYXJhbSB7RFNBcmVhW119IG5vZGVzXG4gICAqIEBwYXJhbSB7RFNNb2RpZmljYXRpb25DYWxsYmFja30gY2FsbGJhY2tcbiAgICogQHBhcmFtIHtNdXRhdGlvbk9ic2VydmVyfSBtb2RpZmljYXRpb25PYnNlcnZlclxuICAgKi9cblxuICB2YXIgYWRkTW9kaWZpY2F0aW9uT2JzZXJ2ZXJzID0gKGZ1bmN0aW9uIChub2RlcywgY2FsbGJhY2ssIG1vZGlmaWNhdGlvbk9ic2VydmVyKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGNhbGxiYWNrKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2FsbGJhY2spO1xuICAgIG5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpKSB7XG4gICAgICBtb2RpZmljYXRpb25PYnNlcnZlci5vYnNlcnZlKGVsLCB7XG4gICAgICAgIGNoaWxkTGlzdDogaSAhPT0gMCxcbiAgICAgICAgYXR0cmlidXRlczogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGFyZWEgY2FuIHNjcm9sbCBvciBub3RcbiAgICogQHBhcmFtIHtEU0FyZWF9IGFyZWFcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gc2Nyb2xsIFgvWVxuICAgKi9cblxuICB2YXIgY2FuU2Nyb2xsID0gKGZ1bmN0aW9uIChhcmVhKSB7XG4gICAgdmFyIHNjcm9sbCA9IGdldEN1cnJlbnRTY3JvbGwoYXJlYSk7XG4gICAgaWYgKHNjcm9sbC54IHx8IHNjcm9sbC55KSByZXR1cm4gdHJ1ZTtcblxuICAgIGlmIChhcmVhIGluc3RhbmNlb2YgSFRNTERvY3VtZW50KSB7XG4gICAgICBpZiAoYXJlYS5ib2R5KSByZXR1cm4gISEoYXJlYS5ib2R5LnNjcm9sbFRvcCA9IDEpO2Vsc2UgcmV0dXJuICEhKGFyZWEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDEpO1xuICAgIH1cblxuICAgIHJldHVybiAhIShhcmVhLnNjcm9sbFRvcCA9IDEpO1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIFNlbGVjdG9yQXJlYVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JBcmVhQ2xhc3NcbiAgICogQHJldHVybiB7SFRNTERpdkVsZW1lbnR9XG4gICAqL1xuXG4gIHZhciBjcmVhdGVTZWxlY3RvckFyZWFFbGVtZW50ID0gKGZ1bmN0aW9uIChzZWxlY3RvckFyZWFDbGFzcykge1xuICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgbm9kZS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIG5vZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICBub2RlLnN0eWxlLnpJbmRleCA9ICc5OTk5OTk5OTk5OTk5OTk5OTknO1xuICAgIG5vZGUuY2xhc3NMaXN0LmFkZChzZWxlY3RvckFyZWFDbGFzcyk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogQ3JlYXRlIHRoZSBzZWxlY3RvciBub2RlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY3VzdG9tU3R5bGVzXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxuICAgKi9cblxuICB2YXIgY3JlYXRlU2VsZWN0b3JFbGVtZW50ID0gKGZ1bmN0aW9uIChjdXN0b21TdHlsZXMpIHtcbiAgICB2YXIgc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzZWxlY3Rvci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cbiAgICBpZiAoIWN1c3RvbVN0eWxlcykge1xuICAgICAgc2VsZWN0b3Iuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsIDAsIDI1NSwgMC4xKSc7XG4gICAgICBzZWxlY3Rvci5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIHJnYmEoMCwgMCwgMjU1LCAwLjQ1KSc7XG4gICAgICBzZWxlY3Rvci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgc2VsZWN0b3Iuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJzsgLy8gZml4IGZvciBpc3N1ZSAjOCAoaWUxMSspXG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGVjdG9yO1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3RcbiAgICogYmUgdHJpZ2dlcmVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgaXQgc3RvcHMgYmVpbmcgY2FsbGVkIGZvclxuICAgKiBgd2FpdGAgbWlsbGlzZWNvbmRzLiBBbGwgY3JlZGl0cyB0byBbVHJleSBIdWZmaW5lXXtAbGluayBodHRwczovL2xldmVsdXAuZ2l0Y29ubmVjdGVkLmNvbS9kZWJvdW5jZS1pbi1qYXZhc2NyaXB0LWltcHJvdmUteW91ci1hcHBsaWNhdGlvbnMtcGVyZm9ybWFuY2UtNWIwMTg1NWUwODZ9XG4gICAqIEBwYXJhbSB7Kn0gZnVuY1xuICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdFxuICAgKiBAcmV0dXJucyB7RFNNb2RpZmljYXRpb25DYWxsYmFja31cbiAgICovXG5cbiAgdmFyIGRlYm91bmNlID0gKGZ1bmN0aW9uIChmdW5jLCB3YWl0KSB7XG4gICAgdmFyIHRpbWVvdXQ7IC8vIFRoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgcmV0dXJuZWQgYW5kIHdpbGwgYmUgZXhlY3V0ZWQgbWFueSB0aW1lc1xuICAgIC8vIFdlIHNwcmVhZCAoLi4uYXJncykgdG8gY2FwdHVyZSBhbnkgbnVtYmVyIG9mIHBhcmFtZXRlcnMgd2Ugd2FudCB0byBwYXNzXG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCBhZnRlclxuICAgICAgLy8gdGhlIGRlYm91bmNlIHRpbWUgaGFzIGVsYXBzZWRcbiAgICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uIGxhdGVyKCkge1xuICAgICAgICAvLyBudWxsIHRpbWVvdXQgdG8gaW5kaWNhdGUgdGhlIGRlYm91bmNlIGVuZGVkXG4gICAgICAgIHRpbWVvdXQgPSBudWxsOyAvLyBFeGVjdXRlIHRoZSBjYWxsYmFja1xuXG4gICAgICAgIGZ1bmMuYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgIH07IC8vIFRoaXMgd2lsbCByZXNldCB0aGUgd2FpdGluZyBldmVyeSBmdW5jdGlvbiBleGVjdXRpb24uXG4gICAgICAvLyBUaGlzIGlzIHRoZSBzdGVwIHRoYXQgcHJldmVudHMgdGhlIGZ1bmN0aW9uIGZyb21cbiAgICAgIC8vIGJlaW5nIGV4ZWN1dGVkIGJlY2F1c2UgaXQgd2lsbCBuZXZlciByZWFjaCB0aGVcbiAgICAgIC8vIGluc2lkZSBvZiB0aGUgcHJldmlvdXMgc2V0VGltZW91dFxuXG5cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTsgLy8gUmVzdGFydCB0aGUgZGVib3VuY2Ugd2FpdGluZyBwZXJpb2QuXG4gICAgICAvLyBzZXRUaW1lb3V0IHJldHVybnMgYSB0cnV0aHkgdmFsdWUgKGl0IGRpZmZlcnMgaW4gd2ViIHZzIE5vZGUpXG5cbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgdmFyIGRvY3VtZW50U2Nyb2xsID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2RvY3VtZW50JGJvZHksIF9kb2N1bWVudCRkb2N1bWVudEVsZSwgX2RvY3VtZW50JGJvZHkyLCBfZG9jdW1lbnQkZG9jdW1lbnRFbGUyO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHk6ICgoX2RvY3VtZW50JGJvZHkgPSBkb2N1bWVudC5ib2R5KSA9PT0gbnVsbCB8fCBfZG9jdW1lbnQkYm9keSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RvY3VtZW50JGJvZHkuc2Nyb2xsVG9wKSB8fCAoKF9kb2N1bWVudCRkb2N1bWVudEVsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2RvY3VtZW50JGRvY3VtZW50RWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZG9jdW1lbnQkZG9jdW1lbnRFbGUuc2Nyb2xsVG9wKSB8fCAwLFxuICAgICAgeDogKChfZG9jdW1lbnQkYm9keTIgPSBkb2N1bWVudC5ib2R5KSA9PT0gbnVsbCB8fCBfZG9jdW1lbnQkYm9keTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kb2N1bWVudCRib2R5Mi5zY3JvbGxMZWZ0KSB8fCAoKF9kb2N1bWVudCRkb2N1bWVudEVsZTIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpID09PSBudWxsIHx8IF9kb2N1bWVudCRkb2N1bWVudEVsZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kb2N1bWVudCRkb2N1bWVudEVsZTIuc2Nyb2xsTGVmdCkgfHwgMFxuICAgIH07XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgdG9wL2xlZnQvYm90dG9tL3JpZ2h0L3dpZHRoL2hlaWdodFxuICAgKiB2YWx1ZXMgb2YgYW4gYXJlYS4gSWYgYXJlYSBpcyBkb2N1bWVudCB0aGVuIGV2ZXJ5dGhpbmdcbiAgICogZXhjZXB0IHRoZSBzaXplcyB3aWxsIGJlIG51bGxlZC5cbiAgICogQHBhcmFtIHtEU0FyZWF9IGFyZWFcbiAgICogQHBhcmFtIHtudW1iZXJ9IHpvb21cbiAgICogQHJldHVybnMge0RTQm91bmRpbmdSZWN0fVxuICAgKi9cblxuICB2YXIgZ2V0QXJlYVJlY3QgPSAoZnVuY3Rpb24gKGFyZWEsIHpvb20pIHtcbiAgICBpZiAoYXJlYSBpbnN0YW5jZW9mIERvY3VtZW50KSByZXR1cm4ge1xuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICB9O1xuICAgIHZhciByZWN0ID0gYXJlYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiByZWN0LnRvcCxcbiAgICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICAgIGJvdHRvbTogcmVjdC5ib3R0b20sXG4gICAgICByaWdodDogcmVjdC5yaWdodCxcbiAgICAgIHdpZHRoOiAoYXJlYS5jbGllbnRXaWR0aCB8fCByZWN0LndpZHRoKSAqIHpvb20sXG4gICAgICBoZWlnaHQ6IChhcmVhLmNsaWVudEhlaWdodCB8fCByZWN0LmhlaWdodCkgKiB6b29tXG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RTQXJlYX0gW2FyZWFdXG4gICAqIEByZXR1cm4ge1ZlY3QyfSBzY3JvbGwgWC9ZXG4gICAqL1xuXG4gIHZhciBnZXRDdXJyZW50U2Nyb2xsID0gKGZ1bmN0aW9uIChhcmVhKSB7XG4gICAgaWYgKCFhcmVhIHx8IGFyZWEgaW5zdGFuY2VvZiBEb2N1bWVudCkgcmV0dXJuIGRvY3VtZW50U2Nyb2xsKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGFyZWEuc2Nyb2xsTGVmdCA+PSAwID8gYXJlYS5zY3JvbGxMZWZ0IDogZG9jdW1lbnRTY3JvbGwoKS54LFxuICAgICAgeTogYXJlYS5zY3JvbGxUb3AgPj0gMCA/IGFyZWEuc2Nyb2xsVG9wIDogZG9jdW1lbnRTY3JvbGwoKS55XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBlZGdlcyB0aGF0IGFuIGVsZW1lbnQgaXMgb3ZlcmZsb3dpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IHBcbiAgICogQHBhcmFtIHtEU0JvdW5kaW5nUmVjdH0gcC5lbGVtZW50UmVjdFxuICAgKiBAcGFyYW0ge0RTQm91bmRpbmdSZWN0fSBwLmNvbnRhaW5lclJlY3RcbiAgICogQHBhcmFtIHtWZWN0Mn0gW3AudG9sZXJhbmNlXVxuICAgKiBAcmV0dXJucyB7RFNFZGdlc31cbiAgICovXG5cbiAgdmFyIGdldE92ZXJmbG93RWRnZXMgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZWxlbWVudFJlY3QgPSBfcmVmLmVsZW1lbnRSZWN0LFxuICAgICAgICBjb250YWluZXJSZWN0ID0gX3JlZi5jb250YWluZXJSZWN0LFxuICAgICAgICBfcmVmJHRvbGVyYW5jZSA9IF9yZWYudG9sZXJhbmNlLFxuICAgICAgICB0b2xlcmFuY2UgPSBfcmVmJHRvbGVyYW5jZSA9PT0gdm9pZCAwID8ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9IDogX3JlZiR0b2xlcmFuY2U7XG4gICAgdmFyIGVkZ2VzID0gW107XG4gICAgaWYgKGVsZW1lbnRSZWN0LnRvcCAtIHRvbGVyYW5jZS55IDwgY29udGFpbmVyUmVjdC50b3ApIGVkZ2VzLnB1c2goJ3RvcCcpO1xuICAgIGlmIChlbGVtZW50UmVjdC5sZWZ0IC0gdG9sZXJhbmNlLnggPCBjb250YWluZXJSZWN0LmxlZnQpIGVkZ2VzLnB1c2goJ2xlZnQnKTtcbiAgICBpZiAoZWxlbWVudFJlY3QuYm90dG9tICsgdG9sZXJhbmNlLnkgPiBjb250YWluZXJSZWN0LmJvdHRvbSkgZWRnZXMucHVzaCgnYm90dG9tJyk7XG4gICAgaWYgKGVsZW1lbnRSZWN0LnJpZ2h0ICsgdG9sZXJhbmNlLnkgPiBjb250YWluZXJSZWN0LnJpZ2h0KSBlZGdlcy5wdXNoKCdyaWdodCcpO1xuICAgIHJldHVybiAoXG4gICAgICAvKiogQHR5cGUge0RTRWRnZXN9ICovXG4gICAgICBlZGdlc1xuICAgICk7XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogUmV0dXJucyBjdXJzb3IgeCwgeSBwb3NpdGlvbiBiYXNlZCBvbiBldmVudCBvYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IHBcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fFRvdWNofSBwLmV2ZW50XG4gICAqIEByZXR1cm4ge1ZlY3QyfSBjdXJzb3IgWC9ZIHBvc2l0aW9uXG4gICAqL1xuXG4gIHZhciBnZXRQb2ludGVyUG9zID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGV2ZW50ID0gX3JlZi5ldmVudDtcbiAgICByZXR1cm4ge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICB9O1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIFJlbGlhYmx5IHJldHVybnMgdGhlIGV4YWN0IHgseSx3LGggcG9zaXRpb25zIG9mIHRoZSBzZWxlY3RvciBlbGVtZW50XG4gICAqIEBwYXJhbSB7eyBzY3JvbGxBbW91bnQ6VmVjdDIsIGluaXRpYWxQb2ludGVyUG9zOlZlY3QyLCBwb2ludGVyUG9zOlZlY3QyIH19IHBcbiAgICogQHJldHVybnMge3tsZWZ0Om51bWJlcix0b3A6bnVtYmVyLHdpZHRoOm51bWJlcixoZWlnaHQ6bnVtYmVyfX1cbiAgICovXG5cbiAgdmFyIGdldFNlbGVjdG9yUG9zaXRpb24gPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgc2Nyb2xsQW1vdW50ID0gX3JlZi5zY3JvbGxBbW91bnQsXG4gICAgICAgIGluaXRpYWxQb2ludGVyUG9zID0gX3JlZi5pbml0aWFsUG9pbnRlclBvcyxcbiAgICAgICAgcG9pbnRlclBvcyA9IF9yZWYucG9pbnRlclBvcztcblxuICAgIC8qKiBjaGVjayBmb3IgZGlyZWN0aW9uXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHF1aXRlIGNvbXBsaWNhdGVkLCBzbyBhbHNvIHF1aXRlIGNvbXBsaWNhdGVkIHRvIGV4cGxhaW4uIExlbW1l4oCZIHRyeTpcbiAgICAgKlxuICAgICAqIFByb2JsZW0gIzE6XG4gICAgICogU2FkbHkgaW4gSFRNTCB3ZSBjYW4gbm90IGhhdmUgbmVnYXRpdmUgc2l6ZXMuXG4gICAgICogc28gaWYgd2Ugd2FudCB0byBzY2FsZSBvdXIgZWxlbWVudCAxMHB4IHRvIHRoZSByaWdodCB0aGVuIGl0IGlzIGVhc3ksXG4gICAgICogd2UganVzdCBoYXZlIHRvIGFkZCArMTBweCB0byB0aGUgd2lkdGguIEJ1dCBpZiB3ZSB3YW50IHRvIHNjYWxlIHRoZSBlbGVtZW50XG4gICAgICogLTEwcHggdG8gdGhlIGxlZnQgdGhlbiB0aGluZ3MgYmVjb21lIG1vcmUgY29tcGxpY2F0ZWQsIHdlIGhhdmUgdG8gbW92ZVxuICAgICAqIHRoZSBlbGVtZW50IC0xMHB4IHRvIHRoZSBsZWZ0IG9uIHRoZSB4IGF4aXMgYW5kIGFsc28gc2NhbGUgdGhlIGVsZW1lbnRcbiAgICAgKiBieSArMTBweCB3aWR0aCB0byBmYWtlIGEgbmVnYXRpdmUgc2l6aW5nLlxuICAgICAqXG4gICAgICogT25lIHNvbHV0aW9uIHRvIHRoaXMgcHJvYmxlbSBpcyB1c2luZyBjc3MtdHJhbnNmb3JtcyBzY2FsZSgpIHdpdGhcbiAgICAgKiB0cmFuc2Zvcm0tb3JpZ2luIG9mIHRvcCBsZWZ0LiBCVVQgd2UgY2Fu4oCZdCB1c2UgdGhpcyBzaW5jZSBpdCB3aWxsIHNpemVcbiAgICAgKiBldmVyeXRoaW5nLCB0aGVuIHdoZW4geW91ciBlbGVtZW50IGhhcyBhIGJvcmRlciBmb3IgZXhhbXBsZSwgdGhlIGJvcmRlciB3aWxsXG4gICAgICogZ2V0IGluYW5lbHkgaHVnZS4gQWxzbyB0cmFuc2Zvcm1zIGFyZSBub3Qgd2lkZWx5IHN1cHBvcnRlZCBpbiBJRS5cbiAgICAgKlxuICAgICAqIEV4YW1wbGUgIzE6XG4gICAgICogVW5mb3J0dW5hdGVseSwgdGhpbmdzIGdldCBldmVuIG1vcmUgY29tcGxpY2F0ZWQgd2hlbiB3ZSBhcmUgaW5zaWRlIGEgc2Nyb2xsLWFibGVcbiAgICAgKiBESVYuIFRoZW4sIGxldOKAmXMgc2F5IHdlIHNjcm9sbCB0byB0aGUgcmlnaHQgYnkgMTBweCBhbmQgbW92ZSB0aGUgY3Vyc29yIHJpZ2h0IGJ5IDVweCBpbiBvdXJcbiAgICAgKiBjaGVja3Mgd2UgaGF2ZSB0byBzdWJ0cmFjdCAxMHB4IGZyb20gdGhlIGluaXRpYWxjdXJzb3IgcG9zaXRpb24gaW4gb3VyIGNoZWNrXG4gICAgICogKHNpbmNlIHRoZSBpbml0aWFsIHBvc2l0aW9uIGlzIG1vdmVkIHRvIHRoZSBsZWZ0IGJ5IDEwcHgpIHNvIGluIG91ciBleGFtcGxlOlxuICAgICAqIDEuIHBvaW50ZXJQb3MueCAoNSkgPiBpbml0aWFsUG9pbnRlclBvcy54ICgwKSAtIHNjcm9sbEFtb3VudC54ICgxMCkgPT09IDUgPiAtMTAgPT09IHRydWVcbiAgICAgKiB0aGVuIHNldCB0aGUgeCBwb3NpdGlvbiB0byB0aGUgY3Vyc29ycyBzdGFydCBwb3NpdGlvblxuICAgICAqIHNlbGVjdG9yUG9zLnggPSBpbml0aWFsUG9pbnRlclBvcy54ICgwKSAtIHNjcm9sbEFtb3VudC54ICgxMCkgPT09IDEwIC8vIDIuXG4gICAgICogdGhlbiB3ZSBjYW4gY2FsY3VsYXRlIHRoZSBlbGVtZW50cyB3aWR0aCwgd2hpY2ggaXNcbiAgICAgKiB0aGUgbmV3IGN1cnNvciBwb3NpdGlvbiBtaW51cyB0aGUgaW5pdGlhbCBvbmUgcGx1cyB0aGUgc2Nyb2xsIGFtb3VudCwgc28gaW4gb3VyIGV4YW1wbGU6XG4gICAgICogMy4gc2VsZWN0b3JQb3MudyA9IHBvaW50ZXJQb3MueCAoNSkgLSBpbml0aWFsUG9pbnRlclBvcy54ICgwKSArIHNjcm9sbEFtb3VudC54ICgxMCkgPT09IDE1O1xuICAgICAqXG4gICAgICogbGV04oCZcyBzYXkgYWZ0ZXIgdGhhdCBtb3ZlbWVudCB3ZSBub3cgc2Nyb2xsIDIwcHggdG8gdGhlIGxlZnQgYW5kIG1vdmUgb3VyIGN1cnNvciBieSAzMHB4IHRvIHRoZSBsZWZ0OlxuICAgICAqIDFiLiBwb2ludGVyUG9zLnggKC0zMCkgPiBpbml0aWFsUG9pbnRlclBvcy54ICgwKSAtIHNjcm9sbEFtb3VudC54ICgtMjApID09PSAtMzAgPCAtLTIwID09PSAtMzAgPCArMjAgPT09IGZhbHNlO1xuICAgICAqIDJiLiBzZWxlY3RvclBvcy54ID0gcG9pbnRlclBvcy54ICgtMzApID09PSAtMzA7IG1vdmUgbGVmdCBwb3NpdGlvbiB0byBjdXJzb3IgKGZvciBtb3JlIGluZm8gc2VlIFByb2JsZW0gIzEpXG4gICAgICogM2IuIHNlbGVjdG9yUG9zLncgPSBpbml0aWFsUG9pbnRlclBvcy54ICgwKSAtIHBvaW50ZXJQb3MueCAoLTMwKSAtIHNjcm9sbEFtb3VudC54ICgtMjApID09PSAwLS0zMC0tMjAgPT09IDArMzArMjAgPT09IDUwOyAgLy8gc2NhbGUgd2lkdGggdG8gb3JpZ2luYWwgbGVmdCBwb3NpdGlvbiAoZm9yIG1vcmUgaW5mbyBzZWUgUHJvYmxlbSAjMSlcbiAgICAgKlxuICAgICAqIHNhbWUgdGhpbmcgaGFzIHRvIGJlIGRvbmUgZm9yIHRvcC9ib3R0b21cbiAgICAgKlxuICAgICAqIEkgaG9wZSB0aGF0IG1ha2VzIHNlbnNlLiBUcnkgc3R1ZmYgb3V0IGFuZCBwbGF5IGFyb3VuZCB3aXRoIHZhcmlhYmxlcyB0byBnZXQgYSBoYW5nIG9mIGl0LlxuICAgICAqL1xuICAgIHZhciBzZWxlY3RvclBvcyA9IHt9OyAvLyByaWdodFxuXG4gICAgaWYgKHBvaW50ZXJQb3MueCA+IGluaXRpYWxQb2ludGVyUG9zLnggLSBzY3JvbGxBbW91bnQueCkge1xuICAgICAgLy8gMS5cbiAgICAgIHNlbGVjdG9yUG9zLmxlZnQgPSBpbml0aWFsUG9pbnRlclBvcy54IC0gc2Nyb2xsQW1vdW50Lng7IC8vIDIuXG5cbiAgICAgIHNlbGVjdG9yUG9zLndpZHRoID0gcG9pbnRlclBvcy54IC0gaW5pdGlhbFBvaW50ZXJQb3MueCArIHNjcm9sbEFtb3VudC54OyAvLyAzLlxuICAgICAgLy8gbGVmdFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyAxYi5cbiAgICAgIHNlbGVjdG9yUG9zLmxlZnQgPSBwb2ludGVyUG9zLng7IC8vIDJiLlxuXG4gICAgICBzZWxlY3RvclBvcy53aWR0aCA9IGluaXRpYWxQb2ludGVyUG9zLnggLSBwb2ludGVyUG9zLnggLSBzY3JvbGxBbW91bnQueDsgLy8gM2IuXG4gICAgfSAvLyBib3R0b21cblxuXG4gICAgaWYgKHBvaW50ZXJQb3MueSA+IGluaXRpYWxQb2ludGVyUG9zLnkgLSBzY3JvbGxBbW91bnQueSkge1xuICAgICAgc2VsZWN0b3JQb3MudG9wID0gaW5pdGlhbFBvaW50ZXJQb3MueSAtIHNjcm9sbEFtb3VudC55O1xuICAgICAgc2VsZWN0b3JQb3MuaGVpZ2h0ID0gcG9pbnRlclBvcy55IC0gaW5pdGlhbFBvaW50ZXJQb3MueSArIHNjcm9sbEFtb3VudC55OyAvLyB0b3BcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0b3JQb3MudG9wID0gcG9pbnRlclBvcy55O1xuICAgICAgc2VsZWN0b3JQb3MuaGVpZ2h0ID0gaW5pdGlhbFBvaW50ZXJQb3MueSAtIHBvaW50ZXJQb3MueSAtIHNjcm9sbEFtb3VudC55O1xuICAgIH1cblxuICAgIHJldHVybiBzZWxlY3RvclBvcztcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RTRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcmV0dXJuIHtWZWN0Mn1cbiAgICovXG5cbiAgdmFyIGdldENvbXB1dGVkVHJhbnNsYXRlUG9zaXRpb25zID0gZnVuY3Rpb24gZ2V0Q29tcHV0ZWRUcmFuc2xhdGVQb3NpdGlvbnMoZWxlbWVudCkge1xuICAgIHZhciBwb3NpdGlvbiA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgICB2YXIgY29tcHV0ZWQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBpZiAoIWNvbXB1dGVkLnRyYW5zZm9ybSB8fCBjb21wdXRlZC50cmFuc2Zvcm0gPT09ICdub25lJykgcmV0dXJuIHBvc2l0aW9uO1xuXG4gICAgaWYgKGNvbXB1dGVkLnRyYW5zZm9ybS5pbmRleE9mKCczZCcpID49IDApIHtcbiAgICAgIHZhciBtYXRjaCA9IGNvbXB1dGVkLnRyYW5zZm9ybS50cmltKCkubWF0Y2goL21hdHJpeDNkXFwoKC4qPylcXCkvKTtcblxuICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmxlbmd0aCkge1xuICAgICAgICB2YXIgX21hdGNoJDtcblxuICAgICAgICB2YXIgdmFsdWVzID0gKF9tYXRjaCQgPSBtYXRjaFsxXSkgPT09IG51bGwgfHwgX21hdGNoJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21hdGNoJC5zcGxpdCgnLCcpO1xuICAgICAgICBwb3NpdGlvbi54ID0gcGFyc2VJbnQodmFsdWVzWzEyXSkgfHwgMDtcbiAgICAgICAgcG9zaXRpb24ueSA9IHBhcnNlSW50KHZhbHVlc1sxM10pIHx8IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9tYXRjaCA9IGNvbXB1dGVkLnRyYW5zZm9ybS50cmltKCkubWF0Y2goL21hdHJpeFxcKCguKj8pXFwpLyk7XG5cbiAgICAgIGlmIChfbWF0Y2ggJiYgX21hdGNoLmxlbmd0aCkge1xuICAgICAgICB2YXIgX21hdGNoJDI7XG5cbiAgICAgICAgdmFyIF92YWx1ZXMgPSAoX21hdGNoJDIgPSBfbWF0Y2hbMV0pID09PSBudWxsIHx8IF9tYXRjaCQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWF0Y2gkMi5zcGxpdCgnLCcpO1xuXG4gICAgICAgIHBvc2l0aW9uLnggPSBwYXJzZUludChfdmFsdWVzWzRdKSB8fCAwO1xuICAgICAgICBwb3NpdGlvbi55ID0gcGFyc2VJbnQoX3ZhbHVlc1s1XSkgfHwgMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RFNFbGVtZW50fSBlbGVtZW50XG4gICAqIEByZXR1cm4ge1ZlY3QyfVxuICAgKi9cblxuXG4gIHZhciBnZXRUcmFuc2xhdGVkUG9zaXRpb25zID0gZnVuY3Rpb24gZ2V0VHJhbnNsYXRlZFBvc2l0aW9ucyhlbGVtZW50KSB7XG4gICAgdmFyIHRyYW5zZm9ybSA9IGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtO1xuICAgIGlmICghdHJhbnNmb3JtIHx8IHRyYW5zZm9ybS5pbmRleE9mKCd0cmFuc2xhdGUnKSA8IDApIHJldHVybiBnZXRDb21wdXRlZFRyYW5zbGF0ZVBvc2l0aW9ucyhlbGVtZW50KTtcbiAgICB2YXIgcG9zaXRpb24gPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG4gICAgdmFyIG1hdGNoID0gdHJhbnNmb3JtLnRyaW0oKS5tYXRjaCgvdHJhbnNsYXRlWzNkRF0qP1xcKC4qP1xcKS8pO1xuXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICB2YXIgX21hdGNoJDM7XG5cbiAgICAgIHZhciBzcGxpdCA9IChfbWF0Y2gkMyA9IG1hdGNoWzBdKSA9PT0gbnVsbCB8fCBfbWF0Y2gkMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21hdGNoJDMuc3BsaXQoJygnKTtcblxuICAgICAgaWYgKHNwbGl0KSB7XG4gICAgICAgIHZhciBfc3BsaXQkO1xuXG4gICAgICAgIHZhciB2YWx1ZXMgPSAoX3NwbGl0JCA9IHNwbGl0WzFdKSA9PT0gbnVsbCB8fCBfc3BsaXQkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3BsaXQkLnNwbGl0KCcsJyk7XG4gICAgICAgIHBvc2l0aW9uLnggPSBwYXJzZUludCh2YWx1ZXNbMF0pIHx8IDA7XG4gICAgICAgIHBvc2l0aW9uLnkgPSBwYXJzZUludCh2YWx1ZXNbMV0pIHx8IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFwb3NpdGlvbi54ICYmICFwb3NpdGlvbi54KSByZXR1cm4gZ2V0Q29tcHV0ZWRUcmFuc2xhdGVQb3NpdGlvbnMoZWxlbWVudCk7XG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9O1xuICAvKipcbiAgICogQHBhcmFtIHtEU0VsZW1lbnR9IGVsZW1lbnRcbiAgICogQHJldHVybiB7VmVjdDJ9XG4gICAqL1xuXG5cbiAgdmFyIGdldFRvcExlZnRQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldFRvcExlZnRQb3NpdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIHN0eWxlID0gZWxlbWVudC5zdHlsZTtcbiAgICB2YXIgcG9zaXRpb24gPSB7XG4gICAgICB4OiBwYXJzZUludChzdHlsZS5sZWZ0KSB8fCAwLFxuICAgICAgeTogcGFyc2VJbnQoc3R5bGUudG9wKSB8fCAwXG4gICAgfTsgLy8gaW5pdGlhbCBwb3NpdGlvbnNcblxuICAgIGlmICghcG9zaXRpb24ueCAmJiAhcG9zaXRpb24ueCkge1xuICAgICAgdmFyIGNvbXB1dGVkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBwYXJzZUludChjb21wdXRlZC5sZWZ0KSB8fCAwLFxuICAgICAgICB5OiBwYXJzZUludChjb21wdXRlZC50b3ApIHx8IDBcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgWCBhbmQgWSBjb29yZGluYXRlcyBiYXNlZCBvbiBzdHlsZXNcbiAgICogQ2FuIGhhbmRsZSB0cmFuc2xhdGUgYW5kIHRvcC9sZWZ0XG4gICAqIEBwYXJhbSB7RFNFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VzZVRyYW5zbGF0ZV1cbiAgICogQHJldHVybiB7VmVjdDJ9XG4gICAqL1xuXG5cbiAgdmFyIGdldFN0eWxlUG9zaXRpb24gPSAoZnVuY3Rpb24gKGVsZW1lbnQsIHVzZVRyYW5zbGF0ZSkge1xuICAgIGlmICh1c2VUcmFuc2xhdGUpIHJldHVybiBnZXRUcmFuc2xhdGVkUG9zaXRpb25zKGVsZW1lbnQpO2Vsc2UgcmV0dXJuIGdldFRvcExlZnRQb3NpdGlvbihlbGVtZW50KTtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBwdXNoZXMgZWxlbWVudCBiYWNrIHRoZSBvdmVyZmxvdyBhbW91bnRcbiAgICogKHRvcCAtIHRvcCBnaXZlcyBvdmVyZmxvdywgdGhlbiBuZXcgcG9zaXRpb24gcHVzaGVkIGJhY2sgYnkgb3ZlcmZsb3cpXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwXG4gICAqIEBwYXJhbSB7RFNFbGVtZW50fSBwLmVsZW1lbnRcbiAgICogQHBhcmFtIHtEU0VkZ2VzfSBwLmVkZ2VzXG4gICAqIEBwYXJhbSB7RFNCb3VuZGluZ1JlY3R9IHAuZWxlbWVudFJlY3RcbiAgICogQHBhcmFtIHtEU0JvdW5kaW5nUmVjdH0gcC5jb250YWluZXJSZWN0XG4gICAqIEBwYXJhbSB7VmVjdDJ9IHAuZWxlbWVudFBvc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHAudXNlVHJhbnNmb3JtXG4gICAqL1xuXG4gIHZhciBoYW5kbGVFbGVtZW50T3ZlcmZsb3cgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZWxlbWVudCA9IF9yZWYuZWxlbWVudCxcbiAgICAgICAgZWRnZXMgPSBfcmVmLmVkZ2VzLFxuICAgICAgICBlbGVtZW50UmVjdCA9IF9yZWYuZWxlbWVudFJlY3QsXG4gICAgICAgIGNvbnRhaW5lclJlY3QgPSBfcmVmLmNvbnRhaW5lclJlY3QsXG4gICAgICAgIGVsZW1lbnRQb3MgPSBfcmVmLmVsZW1lbnRQb3MsXG4gICAgICAgIHVzZVRyYW5zZm9ybSA9IF9yZWYudXNlVHJhbnNmb3JtO1xuXG4gICAgaWYgKGVkZ2VzLmluY2x1ZGVzKCd0b3AnKSkge1xuICAgICAgc2V0U3R5bGVQb3NpdGlvbihlbGVtZW50LCB7XG4gICAgICAgIHk6IGVsZW1lbnRQb3MueSArIGNvbnRhaW5lclJlY3QudG9wIC0gZWxlbWVudFJlY3QudG9wLFxuICAgICAgICB4OiBlbGVtZW50UG9zLnhcbiAgICAgIH0sIHVzZVRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgaWYgKGVkZ2VzLmluY2x1ZGVzKCdsZWZ0JykpIHtcbiAgICAgIHNldFN0eWxlUG9zaXRpb24oZWxlbWVudCwge1xuICAgICAgICB5OiBlbGVtZW50UG9zLnksXG4gICAgICAgIHg6IGVsZW1lbnRQb3MueCArIGNvbnRhaW5lclJlY3QubGVmdCAtIGVsZW1lbnRSZWN0LmxlZnRcbiAgICAgIH0sIHVzZVRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgaWYgKGVkZ2VzLmluY2x1ZGVzKCdib3R0b20nKSkge1xuICAgICAgc2V0U3R5bGVQb3NpdGlvbihlbGVtZW50LCB7XG4gICAgICAgIHk6IGVsZW1lbnRQb3MueSArIGNvbnRhaW5lclJlY3QuYm90dG9tIC0gZWxlbWVudFJlY3QuYm90dG9tLFxuICAgICAgICB4OiBlbGVtZW50UG9zLnhcbiAgICAgIH0sIHVzZVRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgaWYgKGVkZ2VzLmluY2x1ZGVzKCdyaWdodCcpKSB7XG4gICAgICBzZXRTdHlsZVBvc2l0aW9uKGVsZW1lbnQsIHtcbiAgICAgICAgeTogZWxlbWVudFBvcy55LFxuICAgICAgICB4OiBlbGVtZW50UG9zLnggKyBjb250YWluZXJSZWN0LnJpZ2h0IC0gZWxlbWVudFJlY3QucmlnaHRcbiAgICAgIH0sIHVzZVRyYW5zZm9ybSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIEZpeDogc29tZSBlbGVtZW50cyBoYXZlIHRvIGhhdmUgYSBzcGVjaWFsIHBvc2l0aW9uIGF0dHJpYnV0ZSBmb3IgY2FsY3VsYXRpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwXG4gICAqIEBwYXJhbSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gcC5jb21wdXRlZFN0eWxlXG4gICAqIEBwYXJhbSB7RFNBcmVhfSBwLm5vZGVcbiAgICovXG5cbiAgdmFyIGhhbmRsZUVsZW1lbnRQb3NpdGlvbkF0dHJpYnV0ZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBjb21wdXRlZFN0eWxlID0gX3JlZi5jb21wdXRlZFN0eWxlLFxuICAgICAgICBub2RlID0gX3JlZi5ub2RlO1xuICAgIHZhciBwb3NpdGlvbiA9IGNvbXB1dGVkU3R5bGUucG9zaXRpb247XG4gICAgdmFyIGlzUG9zaXRpb25lZCA9IHBvc2l0aW9uID09PSAnYWJzb2x1dGUnIHx8IHBvc2l0aW9uID09PSAncmVsYXRpdmUnIHx8IHBvc2l0aW9uID09PSAnZml4ZWQnO1xuICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBIVE1MRG9jdW1lbnQpICYmICFpc1Bvc2l0aW9uZWQpIG5vZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtmdW5jdGlvbn0gU2Nyb2xsQ2FsbGJhY2tcbiAgICogQHByb3BlcnR5IHtBcnJheS48J3RvcCd8J2JvdHRvbSd8J2xlZnQnfCdyaWdodCd8dW5kZWZpbmVkPn0gZGlyZWN0aW9uc1xuICAgKiBAcHJvcGVydHkge251bWJlcn0gbXVsdGlwbGllclxuICAgKi9cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IHBcbiAgICogQHBhcmFtIHtzdHJpbmd9IHAua2V5IHRoZSBrZXlib2FyZCBrZXkgdGhhdCB3YXMgcHJlc3NlZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHAuc2hpZnRLZXlcbiAgICogQHBhcmFtIHtib29sZWFufSBwLmNhblNjcm9sbFxuICAgKiBAcGFyYW0ge251bWJlcn0gcC5rZXlib2FyZERyYWdTcGVlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gcC56b29tXG4gICAqIEBwYXJhbSB7U2Nyb2xsQ2FsbGJhY2t9IHAuc2Nyb2xsQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtWZWN0Mn0gcC5zY3JvbGxEaWZmXG4gICAqIEBwYXJhbSB7RFNEcmFnS2V5c30gcC5kcmFnS2V5c1xuICAgKiBAcmV0dXJucyB7VmVjdDJ9XG4gICAqL1xuXG4gIHZhciBoYW5kbGVLZXlib2FyZERyYWdQb3NEaWZmZXJlbmNlID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIHNoaWZ0S2V5ID0gX3JlZi5zaGlmdEtleSxcbiAgICAgICAga2V5Ym9hcmREcmFnU3BlZWQgPSBfcmVmLmtleWJvYXJkRHJhZ1NwZWVkLFxuICAgICAgICB6b29tID0gX3JlZi56b29tLFxuICAgICAgICBrZXkgPSBfcmVmLmtleSxcbiAgICAgICAgZHJhZ0tleXMgPSBfcmVmLmRyYWdLZXlzLFxuICAgICAgICBzY3JvbGxEaWZmID0gX3JlZi5zY3JvbGxEaWZmLFxuICAgICAgICBjYW5TY3JvbGwgPSBfcmVmLmNhblNjcm9sbCxcbiAgICAgICAgc2Nyb2xsQ2FsbGJhY2sgPSBfcmVmLnNjcm9sbENhbGxiYWNrO1xuICAgIHZhciBwb3NEaXJlY3Rpb24gPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG4gICAgdmFyIGluY3JlYXNlID0gc2hpZnRLZXkgPyBrZXlib2FyZERyYWdTcGVlZCAqIDQgKiB6b29tIDoga2V5Ym9hcmREcmFnU3BlZWQgKiB6b29tO1xuXG4gICAgaWYgKGRyYWdLZXlzLmxlZnQuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgcG9zRGlyZWN0aW9uLnggPSBzY3JvbGxEaWZmLnggfHwgLWluY3JlYXNlO1xuICAgICAgaWYgKCFzaGlmdEtleSAmJiAhc2Nyb2xsRGlmZi54ICYmIGNhblNjcm9sbCkgc2Nyb2xsQ2FsbGJhY2soWydsZWZ0J10sIGtleWJvYXJkRHJhZ1NwZWVkKTtcbiAgICB9XG5cbiAgICBpZiAoZHJhZ0tleXMucmlnaHQuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgcG9zRGlyZWN0aW9uLnggPSBzY3JvbGxEaWZmLnggfHwgaW5jcmVhc2U7XG4gICAgICBpZiAoIXNoaWZ0S2V5ICYmICFzY3JvbGxEaWZmLnggJiYgY2FuU2Nyb2xsKSBzY3JvbGxDYWxsYmFjayhbJ3JpZ2h0J10sIGtleWJvYXJkRHJhZ1NwZWVkKTtcbiAgICB9XG5cbiAgICBpZiAoZHJhZ0tleXMudXAuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgcG9zRGlyZWN0aW9uLnkgPSBzY3JvbGxEaWZmLnkgfHwgLWluY3JlYXNlO1xuICAgICAgaWYgKCFzaGlmdEtleSAmJiAhc2Nyb2xsRGlmZi55ICYmIGNhblNjcm9sbCkgc2Nyb2xsQ2FsbGJhY2soWyd0b3AnXSwga2V5Ym9hcmREcmFnU3BlZWQpO1xuICAgIH1cblxuICAgIGlmIChkcmFnS2V5cy5kb3duLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIHBvc0RpcmVjdGlvbi55ID0gc2Nyb2xsRGlmZi55IHx8IGluY3JlYXNlO1xuICAgICAgaWYgKCFzaGlmdEtleSAmJiAhc2Nyb2xsRGlmZi55ICYmIGNhblNjcm9sbCkgc2Nyb2xsQ2FsbGJhY2soWydib3R0b20nXSwga2V5Ym9hcmREcmFnU3BlZWQpO1xuICAgIH1cblxuICAgIHJldHVybiBwb3NEaXJlY3Rpb247XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogTG9naWMgd2hlbiBhbiBlbGVtZW50IGlzIHNlbGVjdGVkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwXG4gICAqIEBwYXJhbSB7RFNFbGVtZW50fSBwLmVsZW1lbnRcbiAgICogQHBhcmFtIHtib29sZWFufSBwLmZvcmNlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcC5tdWx0aVNlbGVjdGlvblRvZ2dsZVxuICAgKiBAcGFyYW0ge1NldH0gcC5TZWxlY3RlZFNldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcC5ob3ZlckNsYXNzTmFtZVxuICAgKi9cblxuICB2YXIgaGFuZGxlU2VsZWN0aW9uID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBfcmVmLmVsZW1lbnQsXG4gICAgICAgIGZvcmNlID0gX3JlZi5mb3JjZSxcbiAgICAgICAgbXVsdGlTZWxlY3Rpb25Ub2dnbGUgPSBfcmVmLm11bHRpU2VsZWN0aW9uVG9nZ2xlLFxuICAgICAgICBTZWxlY3RlZFNldCA9IF9yZWYuU2VsZWN0ZWRTZXQsXG4gICAgICAgIGhvdmVyQ2xhc3NOYW1lID0gX3JlZi5ob3ZlckNsYXNzTmFtZTtcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoaG92ZXJDbGFzc05hbWUpICYmICFmb3JjZSkgcmV0dXJuO1xuICAgIGlmICghU2VsZWN0ZWRTZXQuaGFzKGVsZW1lbnQpKSBTZWxlY3RlZFNldC5hZGQoZWxlbWVudCk7ZWxzZSBpZiAobXVsdGlTZWxlY3Rpb25Ub2dnbGUpIFNlbGVjdGVkU2V0W1wiZGVsZXRlXCJdKGVsZW1lbnQpO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChob3ZlckNsYXNzTmFtZSk7XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogTG9naWMgd2hlbiBhbiBlbGVtZW50IGlzIGRlLXNlbGVjdGVkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwXG4gICAqIEBwYXJhbSB7RFNFbGVtZW50fSBwLmVsZW1lbnRcbiAgICogQHBhcmFtIHtib29sZWFufSBwLmZvcmNlXG4gICAqIEBwYXJhbSB7U2V0fSBwLlNlbGVjdGVkU2V0XG4gICAqIEBwYXJhbSB7U2V0fSBwLlByZXZTZWxlY3RlZFNldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcC5ob3ZlckNsYXNzTmFtZVxuICAgKi9cblxuICB2YXIgaGFuZGxlVW5TZWxlY3Rpb24gPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZWxlbWVudCA9IF9yZWYuZWxlbWVudCxcbiAgICAgICAgZm9yY2UgPSBfcmVmLmZvcmNlLFxuICAgICAgICBTZWxlY3RlZFNldCA9IF9yZWYuU2VsZWN0ZWRTZXQsXG4gICAgICAgIFByZXZTZWxlY3RlZFNldCA9IF9yZWYuUHJldlNlbGVjdGVkU2V0LFxuICAgICAgICBob3ZlckNsYXNzTmFtZSA9IF9yZWYuaG92ZXJDbGFzc05hbWU7XG4gICAgaWYgKCFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhob3ZlckNsYXNzTmFtZSkgJiYgIWZvcmNlKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIGluU2VsZWN0aW9uID0gU2VsZWN0ZWRTZXQuaGFzKGVsZW1lbnQpO1xuICAgIHZhciBpblByZXZTZWxlY3Rpb24gPSBQcmV2U2VsZWN0ZWRTZXQuaGFzKGVsZW1lbnQpO1xuICAgIC8qKlxuICAgICAqIFNwZWNpYWwgZm9yIGlzc3VlICM5LlxuICAgICAqIGlmIGEgbXVsdGktc2VsZWN0LWtleSBpcyBwcmVzc2VkLCBkcyAncmVtZW1iZXJzJyB0aGUgbGFzdCBzZWxlY3Rpb24gYW5kIHJldmVydHNcbiAgICAgKiB0byB0aGF0IHN0YXRlIGlmIHRoZSBzZWxlY3Rpb24gaXMgbm90IGtlcHQsIHRvIG1pbWljIHRoZSBuYXR1cmFsIE9TIGJlaGF2aW91clxuICAgICAqID0gaWYgaXRlbSB3YXMgc2VsZWN0ZWQgYW5kIGlzIG5vdCBpbiBzZWxlY3Rpb24gYW55bW9yZSwgcmVzZWxlY3QgaXRcbiAgICAgKiA9IGlmIGl0ZW0gd2FzIG5vdCBzZWxlY3RlZCBhbmQgaXMgbm90IGluIHNlbGVjdGlvbiBhbnltb3JlLCB1bnNlbGVjdCBpdFxuICAgICAqL1xuXG4gICAgaWYgKGluU2VsZWN0aW9uICYmICFpblByZXZTZWxlY3Rpb24pIFNlbGVjdGVkU2V0W1wiZGVsZXRlXCJdKGVsZW1lbnQpO2Vsc2UgaWYgKCFpblNlbGVjdGlvbiAmJiBpblByZXZTZWxlY3Rpb24pIFNlbGVjdGVkU2V0LmFkZChlbGVtZW50KTtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaG92ZXJDbGFzc05hbWUpO1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIEF4aXMtQWxpZ25lZCBCb3VuZGluZyBCb3ggQ29sbGlzaW9uIERldGVjdGlvbi5cbiAgICogSW1hZ2luZSBmb2xsb3dpbmcgRXhhbXBsZTpcbiAgICpcbiAgICpcbiAgICogICAgICAgIGIwMVxuICAgKiAgICAgYTAxWzFdYTAyXG4gICAqICAgICAgICBiMDIgICAgICBiMTFcbiAgICogICAgICAgICAgICAgIGExMVsyXWExMlxuICAgKiAgICAgICAgICAgICAgICAgYjEyXG4gICAqXG4gICAqXG4gICAqIHRvIGNoZWNrIGlmIHRob3NlIHR3byBib3hlcyBjb2xsaWRlIHdlIGRvIHRoaXMgQUFCQiBjYWxjdWxhdGlvbjpcbiAgICogMS4gYTAxIDwgYTEyIChsZWZ0IGJvcmRlciBwb3MgYm94MSBzbWFsbGVyIHRoYW4gcmlnaHQgYm9yZGVyIHBvcyBib3gyKVxuICAgKiAyLiBhMDIgPiBhMTEgKHJpZ2h0IGJvcmRlciBwb3MgYm94MSBsYXJnZXIgdGhhbiBsZWZ0IGJvcmRlciBwb3MgYm94MilcbiAgICogMy4gYjAxIDwgYjEyICh0b3AgYm9yZGVyIHBvcyBib3gxIHNtYWxsZXIgdGhhbiBib3R0b20gYm9yZGVyIHBvcyBib3gyKVxuICAgKiA0LiBiMDIgPiBiMTEgKGJvdHRvbSBib3JkZXIgcG9zIGJveDEgbGFyZ2VyIHRoYW4gdG9wIGJvcmRlciBwb3MgYm94MilcbiAgICoge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01pbmltdW1fYm91bmRpbmdfYm94I0F4aXMtYWxpZ25lZF9taW5pbXVtX2JvdW5kaW5nX2JveCBXaWtpcGVkaWF9XG4gICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0dhbWVzL1RlY2huaXF1ZXMvMkRfY29sbGlzaW9uX2RldGVjdGlvbiBNRE59XG4gICAqIEBwYXJhbSB7e2xlZnQ6bnVtYmVyLHJpZ2h0Om51bWJlcix0b3A6bnVtYmVyLGJvdHRvbTpudW1iZXJ9fSBlbDFcbiAgICogQHBhcmFtIHt7bGVmdDpudW1iZXIscmlnaHQ6bnVtYmVyLHRvcDpudW1iZXIsYm90dG9tOm51bWJlcn19IGVsMlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG5cbiAgdmFyIGlzQ29sbGlzaW9uID0gKGZ1bmN0aW9uIChlbDEsIGVsMikge1xuICAgIGlmIChlbDEubGVmdCA8IGVsMi5yaWdodCAmJiAvLyAxLlxuICAgIGVsMS5yaWdodCA+IGVsMi5sZWZ0ICYmIC8vIDIuXG4gICAgZWwxLnRvcCA8IGVsMi5ib3R0b20gJiYgLy8gMy5cbiAgICBlbDEuYm90dG9tID4gZWwyLnRvcCAvLyA0LlxuICAgICkgcmV0dXJuIHRydWU7IC8vIGNvbGxpc2lvbiBkZXRlY3RlZCFcbiAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBNb3ZlcyB0aGUgZWxlbWVudCBpbiBhIHBvc0RpcmVjdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gcFxuICAgKiBAcGFyYW0ge0RTRWxlbWVudH0gcC5lbGVtZW50XG4gICAqIEBwYXJhbSB7VmVjdDJ9IHAucG9zRGlyZWN0aW9uXG4gICAqIEBwYXJhbSB7RFNCb3VuZGluZ1JlY3R9IHAuY29udGFpbmVyUmVjdFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHAudXNlVHJhbnNmb3JtXG4gICAqL1xuXG4gIHZhciBtb3ZlRWxlbWVudCA9IChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBlbGVtZW50ID0gX3JlZi5lbGVtZW50LFxuICAgICAgICBwb3NEaXJlY3Rpb24gPSBfcmVmLnBvc0RpcmVjdGlvbixcbiAgICAgICAgY29udGFpbmVyUmVjdCA9IF9yZWYuY29udGFpbmVyUmVjdCxcbiAgICAgICAgdXNlVHJhbnNmb3JtID0gX3JlZi51c2VUcmFuc2Zvcm07XG4gICAgdmFyIGVsZW1lbnRQb3MgPSBnZXRTdHlsZVBvc2l0aW9uKGVsZW1lbnQsIHVzZVRyYW5zZm9ybSk7XG4gICAgdmFyIG5ld1BvcyA9IGNhbGMoZWxlbWVudFBvcywgJysnLCBwb3NEaXJlY3Rpb24pO1xuICAgIHNldFN0eWxlUG9zaXRpb24oZWxlbWVudCwgbmV3UG9zLCB1c2VUcmFuc2Zvcm0pO1xuICAgIHZhciBlbGVtZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIGVkZ2VzID0gZ2V0T3ZlcmZsb3dFZGdlcyh7XG4gICAgICBlbGVtZW50UmVjdDogZWxlbWVudFJlY3QsXG4gICAgICBjb250YWluZXJSZWN0OiBjb250YWluZXJSZWN0XG4gICAgfSk7XG4gICAgaGFuZGxlRWxlbWVudE92ZXJmbG93KHtcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBlZGdlczogZWRnZXMsXG4gICAgICBlbGVtZW50UmVjdDogZWxlbWVudFJlY3QsXG4gICAgICBjb250YWluZXJSZWN0OiBjb250YWluZXJSZWN0LFxuICAgICAgZWxlbWVudFBvczogbmV3UG9zLFxuICAgICAgdXNlVHJhbnNmb3JtOiB1c2VUcmFuc2Zvcm1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBSZW1vdmVzIGV2ZW50LWxpc3RlbmVycyB0byB0aGUgc2VsZWN0b3JBcmVhXG4gICAqIEBwYXJhbSB7TXV0YXRpb25PYnNlcnZlcn0gbW9kaWZpY2F0aW9uT2JzZXJ2ZXJcbiAgICogQHBhcmFtIHtEU01vZGlmaWNhdGlvbkNhbGxiYWNrfSBjYWxsYmFja1xuICAgKi9cblxuICB2YXIgcmVtb3ZlTW9kaWZpY2F0aW9uT2JzZXJ2ZXJzID0gKGZ1bmN0aW9uIChtb2RpZmljYXRpb25PYnNlcnZlciwgY2FsbGJhY2spIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgY2FsbGJhY2spO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBjYWxsYmFjayk7XG4gICAgbW9kaWZpY2F0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICB9KTtcblxuICAvLyBAdHMtY2hlY2tcbiAgLyoqXG4gICAqIFNjcm9sbCB0aGUgZWxlbWVudCBpbiB0aGUgc3BlY2lmaWVkIGRpcmVjdGlvblxuICAgKiBAcGFyYW0ge0RTQXJlYX0gZWxlbWVudFxuICAgKiBAcGFyYW0ge0FycmF5LjwndG9wJ3wnYm90dG9tJ3wnbGVmdCd8J3JpZ2h0J3x1bmRlZmluZWQ+fSBkaXJlY3Rpb25zXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWVyXG4gICAqL1xuXG4gIHZhciBzY3JvbGxFbGVtZW50ID0gKGZ1bmN0aW9uIChlbGVtZW50LCBkaXJlY3Rpb25zLCBtdWx0aXBsaWVyKSB7XG4gICAgaWYgKCFkaXJlY3Rpb25zLmxlbmd0aCkgcmV0dXJuO1xuICAgIHZhciBkb2NFbCA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgIHZhciBfZWxlbWVudCA9IGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRG9jdW1lbnQgPyBkb2NFbCB8fCBkb2N1bWVudC5ib2R5IDogZWxlbWVudDtcblxuICAgIHZhciBzY3JvbGxUb3AgPSBkaXJlY3Rpb25zLmluY2x1ZGVzKCd0b3AnKSAmJiBfZWxlbWVudC5zY3JvbGxUb3AgPiAwO1xuXG4gICAgdmFyIHNjcm9sbEJvdCA9IGRpcmVjdGlvbnMuaW5jbHVkZXMoJ2JvdHRvbScpICYmIF9lbGVtZW50LnNjcm9sbFRvcCA8IF9lbGVtZW50LnNjcm9sbEhlaWdodDtcblxuICAgIHZhciBzY3JvbGxMZWZ0ID0gZGlyZWN0aW9ucy5pbmNsdWRlcygnbGVmdCcpICYmIF9lbGVtZW50LnNjcm9sbExlZnQgPiAwO1xuXG4gICAgdmFyIHNjcm9sbFJpZ2h0ID0gZGlyZWN0aW9ucy5pbmNsdWRlcygncmlnaHQnKSAmJiBfZWxlbWVudC5zY3JvbGxMZWZ0IDwgX2VsZW1lbnQuc2Nyb2xsV2lkdGg7XG5cbiAgICBpZiAoc2Nyb2xsVG9wKSBfZWxlbWVudC5zY3JvbGxUb3AgLT0gMSAqIG11bHRpcGxpZXI7XG4gICAgaWYgKHNjcm9sbEJvdCkgX2VsZW1lbnQuc2Nyb2xsVG9wICs9IDEgKiBtdWx0aXBsaWVyO1xuICAgIGlmIChzY3JvbGxMZWZ0KSBfZWxlbWVudC5zY3JvbGxMZWZ0IC09IDEgKiBtdWx0aXBsaWVyO1xuICAgIGlmIChzY3JvbGxSaWdodCkgX2VsZW1lbnQuc2Nyb2xsTGVmdCArPSAxICogbXVsdGlwbGllcjtcbiAgfSk7XG5cbiAgLy8gQHRzLWNoZWNrXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzdHlsZSBwb3NpdGlvbiB0byB0aGUgWCBhbmQgWSBjb29yZGluYXRlc1xuICAgKiBDYW4gaGFuZGxlIHRyYW5zbGF0ZSBhbmQgdG9wL2xlZnRcbiAgICogQHBhcmFtIHtEU0VsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtWZWN0Mn0gdmFsdWVzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VzZVRyYW5zbGF0ZV1cbiAgICogQHJldHVybiB7RFNFbGVtZW50fVxuICAgKi9cblxuICB2YXIgc2V0U3R5bGVQb3NpdGlvbiA9IChmdW5jdGlvbiAoZWxlbWVudCwgdmFsdWVzLCB1c2VUcmFuc2xhdGUpIHtcbiAgICBpZiAodXNlVHJhbnNsYXRlKSB7XG4gICAgICB2YXIgcHJldlRyYW5zZm9ybSA9IGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZTNkKFwiLmNvbmNhdCh2YWx1ZXMueCwgXCJweCxcIikuY29uY2F0KHZhbHVlcy55LCBcInB4LDFweCkgXCIpLmNvbmNhdChwcmV2VHJhbnNmb3JtLnJlcGxhY2UoL3RyYW5zbGF0ZS4qP1xcKS9nLCAnJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBcIlwiLmNvbmNhdCh2YWx1ZXMueCwgXCJweFwiKTtcbiAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0gXCJcIi5jb25jYXQodmFsdWVzLnksIFwicHhcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7ZnVuY3Rpb259IERTU3Vic2NyaWJlXG4gICAqIEBwYXJhbSB7RFNDYWxsYmFja05hbWVzfSBldmVudE5hbWVcbiAgICogQHBhcmFtIHtEU0NhbGxiYWNrfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBldmVudCBpZCwgY2FuIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgbW9yZSBlZmZpY2llbnRseVxuICAgKi9cblxuICAvKipcbiAgICogQHR5cGVkZWYge2Z1bmN0aW9ufSBEU1B1Ymxpc2hcbiAgICogQHBhcmFtIHtEU0NhbGxiYWNrTmFtZXN9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge0NhbGxiYWNrT2JqZWN0fSBkYXRhIHBhc3NlZCB0byB0aGUgc3Vic2NyaXB0aW9uIG1ldGhvZFxuICAgKi9cblxuICAvKipcbiAgICogTWFwcyBpbnRlcm5hbCBldmVudHMgdG8gZXh0ZXJuYWwgb25lc1xuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcFxuICAgKiBAcGFyYW0ge0RTU3Vic2NyaWJlfSBwLnN1YnNjcmliZVxuICAgKiBAcGFyYW0ge0RTUHVibGlzaH0gcC5wdWJsaXNoXG4gICAqIEBwYXJhbSB7SW50ZXJhY3Rpb259IHAuSW50ZXJhY3Rpb25cbiAgICogQHBhcmFtIHtTZWxlY3RlZFNldH0gcC5TZWxlY3RlZFNldFxuICAgKi9cblxuICB2YXIgc3Vic2NyaWJlckFsaWFzZXMgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgc3Vic2NyaWJlID0gX3JlZi5zdWJzY3JpYmUsXG4gICAgICAgIHB1Ymxpc2ggPSBfcmVmLnB1Ymxpc2gsXG4gICAgICAgIEludGVyYWN0aW9uID0gX3JlZi5JbnRlcmFjdGlvbixcbiAgICAgICAgU2VsZWN0ZWRTZXQgPSBfcmVmLlNlbGVjdGVkU2V0O1xuICAgIHZhciBtYXBwaW5nID0ge1xuICAgICAgJ1NlbGVjdGVkOmFkZGVkJzogW3tcbiAgICAgICAgbmFtZTogJ2VsZW1lbnRzZWxlY3QnXG4gICAgICB9XSxcbiAgICAgICdTZWxlY3RlZDpyZW1vdmVkJzogW3tcbiAgICAgICAgbmFtZTogJ2VsZW1lbnR1bnNlbGVjdCdcbiAgICAgIH1dLFxuICAgICAgJ0FyZWE6c2Nyb2xsJzogW3tcbiAgICAgICAgbmFtZTogJ2F1dG9zY3JvbGwnXG4gICAgICB9XSxcbiAgICAgIC8vIHNjcm9sbF9kaXJlY3Rpb25zLCBzY3JvbGxfbXVsdGlwbGllclxuICAgICAgJ0ludGVyYWN0aW9uOnN0YXJ0JzogW3tcbiAgICAgICAgbmFtZTogJ2RyYWdzdGFydCdcbiAgICAgIH1dLFxuICAgICAgLy8gZXZlbnQsIGlzRHJhZ2dpbmdLZXlib2FyZFxuICAgICAgJ0ludGVyYWN0aW9uOnVwZGF0ZSc6IFt7XG4gICAgICAgIG5hbWU6ICdkcmFnbW92ZScsXG4gICAgICAgIGNvbmRpdGlvbjogZnVuY3Rpb24gY29uZGl0aW9uKGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5ldmVudDtcbiAgICAgICAgfVxuICAgICAgfV0sXG4gICAgICAvLyBldmVudCwgaXNEcmFnZ2luZ0tleWJvYXJkXG4gICAgICAnSW50ZXJhY3Rpb246ZW5kJzogW3tcbiAgICAgICAgbmFtZTogJ2NhbGxiYWNrJ1xuICAgICAgfV0gLy8gZXZlbnQsIGlzRHJhZ2dpbmdLZXlib2FyZFxuXG4gICAgfTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkge1xuICAgICAgdmFyIF9PYmplY3QkZW50cmllcyRfaSA9IF9zbGljZWRUb0FycmF5KF9PYmplY3QkZW50cmllc1tfaV0sIDIpLFxuICAgICAgICAgIHN1Yl9uYW1lID0gX09iamVjdCRlbnRyaWVzJF9pWzBdLFxuICAgICAgICAgIHB1YnMgPSBfT2JqZWN0JGVudHJpZXMkX2lbMV07XG5cbiAgICAgIFsncHJlJywgZmFsc2VdLmZvckVhY2goZnVuY3Rpb24gKGZpbGxlcikge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlKGZpbGxlciA/IFwiXCIuY29uY2F0KHN1Yl9uYW1lLCBcIjpcIikuY29uY2F0KGZpbGxlcikgOiBzdWJfbmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gcHVicy5mb3JFYWNoKGZ1bmN0aW9uIChwdWIpIHtcbiAgICAgICAgICAgIHJldHVybiAoIXB1Yi5jb25kaXRpb24gfHwgcHViLmNvbmRpdGlvbihkYXRhKSkgJiYgcHVibGlzaChmaWxsZXIgPyBcIlwiLmNvbmNhdChmaWxsZXIpLmNvbmNhdChwdWIubmFtZSkgOiBwdWIubmFtZSwgX29iamVjdFNwcmVhZDIoe1xuICAgICAgICAgICAgICBpdGVtczogU2VsZWN0ZWRTZXQuZWxlbWVudHMsXG4gICAgICAgICAgICAgIGlzRHJhZ2dpbmc6IEludGVyYWN0aW9uLmlzRHJhZ2dpbmdcbiAgICAgICAgICAgIH0sIGRhdGEpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhtYXBwaW5nKTsgX2kgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBfbG9vcCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybXMgYW55IGxpc3Qgb3Igc2luZ2xlIGl0ZW0gdG8gYW4gYXJyYXkgc28gdXNlciBkb2VzbuKAmXQgaGF2ZSB0byBjYXJlLlxuICAgKiBAcGFyYW0ge0RTSW5wdXRFbGVtZW50c30gaXRlbXMgYSBzaW5nbGUgaXRlbSwgYSBOb2RlLWxpc3Qgb3IgYW55IGVsZW1lbnQgZ3JvdXBcbiAgICogQHJldHVybiB7RFNFbGVtZW50c31cbiAgICovXG5cbiAgdmFyIHRvQXJyYXkgPSAoZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgaWYgKCFpdGVtcykgcmV0dXJuIFtdO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykgJiYgKGl0ZW1zIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgaXRlbXMgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSkgcmV0dXJuIFtpdGVtc107XG4gICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShpdGVtcyk7XG4gIH0pO1xuXG4gIC8vIEB0cy1jaGVja1xuICAvKipcbiAgICogVXBkYXRlcyBlbGVtZW50IHN0eWxlIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCB2YWx1ZXNcbiAgICogYWNjb3JkaW5nIHRvIHBvcyBpbnB1dCBvYmplY3QuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHt7bGVmdDpudW1iZXIsdG9wOm51bWJlcix3aWR0aDpudW1iZXIsaGVpZ2h0Om51bWJlcn19IHBvc1xuICAgKi9cblxuICB2YXIgdXBkYXRlRWxlbWVudFN0eWxlUG9zID0gKGZ1bmN0aW9uIChlbGVtZW50LCBwb3MpIHtcbiAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBcIlwiLmNvbmNhdChwb3MubGVmdCwgXCJweFwiKTtcbiAgICBlbGVtZW50LnN0eWxlLnRvcCA9IFwiXCIuY29uY2F0KHBvcy50b3AsIFwicHhcIik7XG4gICAgZWxlbWVudC5zdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KHBvcy53aWR0aCwgXCJweFwiKTtcbiAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KHBvcy5oZWlnaHQsIFwicHhcIik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBBcmVhUHJvcHNcbiAgICogQHByb3BlcnR5IHtEU0FyZWF9IGFyZWFcbiAgICogQHByb3BlcnR5IHtQdWJTdWJ9IFBTXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6b29tXG4gICAqL1xuXG4gIHZhciBBcmVhID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RFNNb2RpZmljYXRpb25DYWxsYmFja31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge011dGF0aW9uT2JzZXJ2ZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEU0FyZWF9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEU0FyZWFbXX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0NTU1N0eWxlRGVjbGFyYXRpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3t0b3A6bnVtYmVyLGJvdHRvbTpudW1iZXIsbGVmdDpudW1iZXIscmlnaHQ6bnVtYmVyfX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RFNCb3VuZGluZ1JlY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yIEFyZWFcbiAgICAgKiBAcGFyYW0ge0FyZWFQcm9wc30gc2V0dGluZ3NcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXJlYShfcmVmKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgX2FyZWEgPSBfcmVmLmFyZWEsXG4gICAgICAgICAgUFMgPSBfcmVmLlBTLFxuICAgICAgICAgIHpvb20gPSBfcmVmLnpvb207XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcmVhKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX21vZGlmaWNhdGlvbkNhbGxiYWNrXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9tb2RpZmljYXRpb25PYnNlcnZlclwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfem9vbVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbm9kZVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGFyZW50Tm9kZXNcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NvbXB1dGVkU3R5bGVcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NvbXB1dGVkQm9yZGVyXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZWN0XCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNldEFyZWFcIiwgZnVuY3Rpb24gKGFyZWEpIHtcbiAgICAgICAgX3RoaXMuX25vZGUgPSBhcmVhO1xuICAgICAgICBoYW5kbGVFbGVtZW50UG9zaXRpb25BdHRyaWJ1dGUoe1xuICAgICAgICAgIGNvbXB1dGVkU3R5bGU6IF90aGlzLmNvbXB1dGVkU3R5bGUsXG4gICAgICAgICAgbm9kZTogX3RoaXMuX25vZGVcbiAgICAgICAgfSk7IC8vIGZpcnN0IGltbWVkaWF0ZSBkZWJvdW5jZSB0byB1cGRhdGUgdmFsdWVzIGFmdGVyIGRvbS11cGRhdGVcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5QdWJTdWIucHVibGlzaCgnQXJlYTptb2RpZmllZDpwcmUnLCB7XG4gICAgICAgICAgICBpdGVtOiBfdGhpc1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX3RoaXMucmVzZXQoKTtcblxuICAgICAgICAgIF90aGlzLlB1YlN1Yi5wdWJsaXNoKCdBcmVhOm1vZGlmaWVkJywge1xuICAgICAgICAgICAgaXRlbTogX3RoaXNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhcnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRNb2RpZmljYXRpb25PYnNlcnZlcnMoX3RoaXMucGFyZW50Tm9kZXMsIF90aGlzLl9tb2RpZmljYXRpb25DYWxsYmFjaywgX3RoaXMuX21vZGlmaWNhdGlvbk9ic2VydmVyKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXNldFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLl9jb21wdXRlZFN0eWxlID0gdW5kZWZpbmVkO1xuICAgICAgICBfdGhpcy5fcmVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMuX2NvbXB1dGVkQm9yZGVyID0gdW5kZWZpbmVkO1xuICAgICAgICBfdGhpcy5fcGFyZW50Tm9kZXMgPSB1bmRlZmluZWQ7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RvcFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZU1vZGlmaWNhdGlvbk9ic2VydmVycyhfdGhpcy5fbW9kaWZpY2F0aW9uT2JzZXJ2ZXIsIF90aGlzLl9tb2RpZmljYXRpb25DYWxsYmFjayk7XG5cbiAgICAgICAgX3RoaXMucmVzZXQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzY3JvbGxcIiwgZnVuY3Rpb24gKGRpcmVjdGlvbnMsIG11bHRpcGxpZXIpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgc2Nyb2xsX2RpcmVjdGlvbnM6IGRpcmVjdGlvbnMsXG4gICAgICAgICAgc2Nyb2xsX211bHRpcGxpZXI6IG11bHRpcGxpZXJcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5QdWJTdWIucHVibGlzaCgnQXJlYTpzY3JvbGw6cHJlJywgZGF0YSk7XG5cbiAgICAgICAgc2Nyb2xsRWxlbWVudChfdGhpcy5fbm9kZSwgZGlyZWN0aW9ucywgbXVsdGlwbGllcik7XG5cbiAgICAgICAgX3RoaXMuUHViU3ViLnB1Ymxpc2goJ0FyZWE6c2Nyb2xsJywgZGF0YSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fem9vbSA9IHpvb207XG4gICAgICB0aGlzLlB1YlN1YiA9IFBTO1xuICAgICAgdGhpcy5zZXRBcmVhKF9hcmVhKTtcbiAgICAgIHRoaXMuX21vZGlmaWNhdGlvbkNhbGxiYWNrID0gZGVib3VuY2UoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIF90aGlzLlB1YlN1Yi5wdWJsaXNoKCdBcmVhOm1vZGlmaWVkOnByZScsIHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgaXRlbTogX3RoaXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMucmVzZXQoKTtcblxuICAgICAgICBfdGhpcy5QdWJTdWIucHVibGlzaCgnQXJlYTptb2RpZmllZCcsIHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgaXRlbTogX3RoaXNcbiAgICAgICAgfSk7XG4gICAgICB9LCA2MCk7XG4gICAgICB0aGlzLl9tb2RpZmljYXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMuX21vZGlmaWNhdGlvbkNhbGxiYWNrKTtcbiAgICAgIHRoaXMuUHViU3ViLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246aW5pdCcsIHRoaXMuc3RhcnQpO1xuICAgICAgdGhpcy5QdWJTdWIuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjplbmQnLCB0aGlzLnJlc2V0KTtcbiAgICB9XG4gICAgLyoqIEBwYXJhbSB7RFNBcmVhfSBhcmVhICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhBcmVhLCBbe1xuICAgICAga2V5OiBcIkhUTUxOb2RlXCIsXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgLy8gTm9kZSBHZXR0ZXJzXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAvKiogQHR5cGUge0RTQXJlYX0gKi9cbiAgICAgICAgICB0aGlzLl9ub2RlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBjb21wdXRlZCBib3JkZXIgZnJvbSB0aGUgZWxlbWVudCAoY2FjaGVzIHJlc3VsdClcbiAgICAgICAqIEB0eXBlIHt7dG9wOm51bWJlcixib3R0b206bnVtYmVyLGxlZnQ6bnVtYmVyLHJpZ2h0Om51bWJlcn19XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjb21wdXRlZEJvcmRlclwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb21wdXRlZEJvcmRlcikgcmV0dXJuIHRoaXMuX2NvbXB1dGVkQm9yZGVyO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRvcDogcGFyc2VJbnQodGhpcy5jb21wdXRlZFN0eWxlLmJvcmRlclRvcFdpZHRoKSxcbiAgICAgICAgICBib3R0b206IHBhcnNlSW50KHRoaXMuY29tcHV0ZWRTdHlsZS5ib3JkZXJCb3R0b21XaWR0aCksXG4gICAgICAgICAgbGVmdDogcGFyc2VJbnQodGhpcy5jb21wdXRlZFN0eWxlLmJvcmRlckxlZnRXaWR0aCksXG4gICAgICAgICAgcmlnaHQ6IHBhcnNlSW50KHRoaXMuY29tcHV0ZWRTdHlsZS5ib3JkZXJSaWdodFdpZHRoKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgY29tcHV0ZWQgc3R5bGVzIGZyb20gdGhlIGVsZW1lbnQgKGNhY2hlcyByZXN1bHQpXG4gICAgICAgKiBAdHlwZSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn1cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImNvbXB1dGVkU3R5bGVcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAodGhpcy5fY29tcHV0ZWRTdHlsZSkgcmV0dXJuIHRoaXMuX2NvbXB1dGVkU3R5bGU7XG4gICAgICAgIGlmICh0aGlzLkhUTUxOb2RlIGluc3RhbmNlb2YgSFRNTERvY3VtZW50KSByZXR1cm4gdGhpcy5fY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuSFRNTE5vZGUuYm9keSB8fCB0aGlzLkhUTUxOb2RlLmRvY3VtZW50RWxlbWVudCk7ZWxzZSByZXR1cm4gdGhpcy5fY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuSFRNTE5vZGUpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgZWxlbWVudCByZWN0IChjYWNoZXMgcmVzdWx0KSAod2l0aG91dCBzY3JvbGxiYXIgb3IgYm9yZGVycylcbiAgICAgICAqIEB0eXBlIHtEU0JvdW5kaW5nUmVjdH1cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInJlY3RcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAodGhpcy5fcmVjdCkgcmV0dXJuIHRoaXMuX3JlY3Q7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWN0ID0gZ2V0QXJlYVJlY3QodGhpcy5IVE1MTm9kZSwgdGhpcy5fem9vbSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInBhcmVudE5vZGVzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudE5vZGVzKSByZXR1cm4gdGhpcy5fcGFyZW50Tm9kZXM7XG5cbiAgICAgICAgdmFyIHRyYXZlcnNlID0gZnVuY3Rpb24gdHJhdmVyc2UodG9XYXRjaCkge1xuICAgICAgICAgIHZhciBfdG9XYXRjaCRpbmRleDtcblxuICAgICAgICAgIHZhciBpbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgICB2YXIgcGFyZW50ID0gKF90b1dhdGNoJGluZGV4ID0gdG9XYXRjaFtpbmRleF0pID09PSBudWxsIHx8IF90b1dhdGNoJGluZGV4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdG9XYXRjaCRpbmRleC5wYXJlbnROb2RlO1xuXG4gICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgdG9XYXRjaC5wdXNoKHBhcmVudCk7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgcmV0dXJuIHRyYXZlcnNlKHRvV2F0Y2gsIGluZGV4KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRvV2F0Y2g7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX3BhcmVudE5vZGVzID0gdHJhdmVyc2UoW3RoaXMuSFRNTE5vZGVdKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudE5vZGVzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBcmVhO1xuICB9KCk7XG5cbiAgdmFyIERyYWcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VmVjdDJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtWZWN0Mn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0RTRWxlbWVudHN9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RFNEcmFnS2V5c31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBcbiAgICAgKiBAcGFyYW0ge0RyYWdTZWxlY3R9IHAuRFNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHAuZHJhZ2dhYmlsaXR5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBwLnVzZVRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RFNEcmFnS2V5c30gcC5kcmFnS2V5c1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcC5rZXlib2FyZERyYWdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcC5rZXlib2FyZERyYWdTcGVlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwLnpvb21cbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgZnVuY3Rpb24gRHJhZyhfcmVmKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgRFMgPSBfcmVmLkRTLFxuICAgICAgICAgIGRyYWdLZXlzID0gX3JlZi5kcmFnS2V5cyxcbiAgICAgICAgICBkcmFnZ2FiaWxpdHkgPSBfcmVmLmRyYWdnYWJpbGl0eSxcbiAgICAgICAgICBrZXlib2FyZERyYWcgPSBfcmVmLmtleWJvYXJkRHJhZyxcbiAgICAgICAgICBrZXlib2FyZERyYWdTcGVlZCA9IF9yZWYua2V5Ym9hcmREcmFnU3BlZWQsXG4gICAgICAgICAgdXNlVHJhbnNmb3JtID0gX3JlZi51c2VUcmFuc2Zvcm0sXG4gICAgICAgICAgem9vbSA9IF9yZWYuem9vbTtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyYWcpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdXNlVHJhbnNmb3JtXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wcmV2Q3Vyc29yUG9zXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wcmV2U2Nyb2xsUG9zXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9lbGVtZW50c1wiLCBbXSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kcmFnZ2FiaWxpdHlcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RyYWdLZXlzXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kcmFnS2V5c0ZsYXRcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2tleWJvYXJkRHJhZ1wiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfa2V5Ym9hcmREcmFnU3BlZWRcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3pvb21cIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwia2V5Ym9hcmREcmFnXCIsIGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgZXZlbnQgPSBfcmVmMi5ldmVudCxcbiAgICAgICAgICAgIGtleSA9IF9yZWYyLmtleTtcbiAgICAgICAgaWYgKCFfdGhpcy5fa2V5Ym9hcmREcmFnIHx8ICFfdGhpcy5fZHJhZ0tleXNGbGF0LmluY2x1ZGVzKGtleSkgfHwgIV90aGlzLkRTLlNlbGVjdGVkU2V0LnNpemUgfHwgIV90aGlzLl9kcmFnZ2FiaWxpdHkgfHwgX3RoaXMuRFNbXCJjb250aW51ZVwiXSkgcmV0dXJuO1xuICAgICAgICB2YXIgcHVibGlzaERhdGEgPSB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGlzRHJhZ2dpbmc6IHRydWUsXG4gICAgICAgICAgaXNEcmFnZ2luZ0tleWJvYXJkOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuRFMucHVibGlzaChbJ0ludGVyYWN0aW9uOnN0YXJ0OnByZScsICdJbnRlcmFjdGlvbjpzdGFydCddLCBwdWJsaXNoRGF0YSk7XG5cbiAgICAgICAgX3RoaXMuX2VsZW1lbnRzID0gX3RoaXMuRFMuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlWkluZGV4KHRydWUpO1xuXG4gICAgICAgIHZhciBwb3NEaXJlY3Rpb24gPSBoYW5kbGVLZXlib2FyZERyYWdQb3NEaWZmZXJlbmNlKHtcbiAgICAgICAgICBzaGlmdEtleTogX3RoaXMuRFMuc3RvcmVzLktleVN0b3JlLmN1cnJlbnRWYWx1ZXMuaW5jbHVkZXMoJ3NoaWZ0JyksXG4gICAgICAgICAga2V5Ym9hcmREcmFnU3BlZWQ6IF90aGlzLl9rZXlib2FyZERyYWdTcGVlZCxcbiAgICAgICAgICB6b29tOiBfdGhpcy5fem9vbSxcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBzY3JvbGxDYWxsYmFjazogX3RoaXMuRFMuQXJlYS5zY3JvbGwsXG4gICAgICAgICAgc2Nyb2xsRGlmZjogX3RoaXMuX3Njcm9sbERpZmYsXG4gICAgICAgICAgY2FuU2Nyb2xsOiBfdGhpcy5EUy5zdG9yZXMuU2Nyb2xsU3RvcmUuY2FuU2Nyb2xsLFxuICAgICAgICAgIGRyYWdLZXlzOiBfdGhpcy5fZHJhZ0tleXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuX2VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gbW92ZUVsZW1lbnQoe1xuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgIHBvc0RpcmVjdGlvbjogcG9zRGlyZWN0aW9uLFxuICAgICAgICAgICAgY29udGFpbmVyUmVjdDogX3RoaXMuRFMuU2VsZWN0b3JBcmVhLnJlY3QsXG4gICAgICAgICAgICB1c2VUcmFuc2Zvcm06IF90aGlzLl91c2VUcmFuc2Zvcm1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuRFMucHVibGlzaChbJ0ludGVyYWN0aW9uOnVwZGF0ZTpwcmUnLCAnSW50ZXJhY3Rpb246dXBkYXRlJ10sIHB1Ymxpc2hEYXRhKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJrZXlib2FyZEVuZFwiLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gX3JlZjMuZXZlbnQsXG4gICAgICAgICAgICBrZXkgPSBfcmVmMy5rZXk7XG4gICAgICAgIGlmICghX3RoaXMuX2tleWJvYXJkRHJhZyB8fCAhX3RoaXMuX2RyYWdLZXlzRmxhdC5pbmNsdWRlcyhrZXkpIHx8ICFfdGhpcy5EUy5TZWxlY3RlZFNldC5zaXplIHx8ICFfdGhpcy5fZHJhZ2dhYmlsaXR5KSByZXR1cm47XG4gICAgICAgIHZhciBwdWJsaXNoRGF0YSA9IHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgaXNEcmFnZ2luZzogX3RoaXMuX2RyYWdnYWJpbGl0eSxcbiAgICAgICAgICBpc0RyYWdnaW5nS2V5Ym9hcmQ6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5EUy5wdWJsaXNoKFsnSW50ZXJhY3Rpb246ZW5kOnByZScsICdJbnRlcmFjdGlvbjplbmQnXSwgcHVibGlzaERhdGEpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXJ0XCIsIGZ1bmN0aW9uIChfcmVmNCkge1xuICAgICAgICB2YXIgaXNEcmFnZ2luZyA9IF9yZWY0LmlzRHJhZ2dpbmcsXG4gICAgICAgICAgICBpc0RyYWdnaW5nS2V5Ym9hcmQgPSBfcmVmNC5pc0RyYWdnaW5nS2V5Ym9hcmQ7XG4gICAgICAgIGlmICghaXNEcmFnZ2luZyB8fCBpc0RyYWdnaW5nS2V5Ym9hcmQpIHJldHVybjtcbiAgICAgICAgX3RoaXMuX3ByZXZDdXJzb3JQb3MgPSBudWxsO1xuICAgICAgICBfdGhpcy5fcHJldlNjcm9sbFBvcyA9IG51bGw7XG4gICAgICAgIF90aGlzLl9lbGVtZW50cyA9IF90aGlzLkRTLmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgIF90aGlzLmhhbmRsZVpJbmRleCh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9wXCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgaWYgKGV2dCAhPT0gbnVsbCAmJiBldnQgIT09IHZvaWQgMCAmJiBldnQuaXNLZXlib2FyZCkgcmV0dXJuO1xuICAgICAgICBfdGhpcy5fcHJldkN1cnNvclBvcyA9IG51bGw7XG4gICAgICAgIF90aGlzLl9wcmV2U2Nyb2xsUG9zID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5oYW5kbGVaSW5kZXgoZmFsc2UpO1xuXG4gICAgICAgIF90aGlzLl9lbGVtZW50cyA9IFtdO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVwZGF0ZVwiLCBmdW5jdGlvbiAoX3JlZjUpIHtcbiAgICAgICAgdmFyIGlzRHJhZ2dpbmcgPSBfcmVmNS5pc0RyYWdnaW5nLFxuICAgICAgICAgICAgaXNEcmFnZ2luZ0tleWJvYXJkID0gX3JlZjUuaXNEcmFnZ2luZ0tleWJvYXJkO1xuICAgICAgICBpZiAoIWlzRHJhZ2dpbmcgfHwgIV90aGlzLl9lbGVtZW50cy5sZW5ndGggfHwgaXNEcmFnZ2luZ0tleWJvYXJkIHx8IF90aGlzLkRTW1wiY29udGludWVcIl0pIHJldHVybjtcbiAgICAgICAgdmFyIHBvc0RpcmVjdGlvbiA9IGNhbGMoX3RoaXMuX2N1cnNvckRpZmYsICcrJywgX3RoaXMuX3Njcm9sbERpZmYpO1xuXG4gICAgICAgIF90aGlzLl9lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG1vdmVFbGVtZW50KHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICBwb3NEaXJlY3Rpb246IHBvc0RpcmVjdGlvbixcbiAgICAgICAgICAgIGNvbnRhaW5lclJlY3Q6IF90aGlzLkRTLlNlbGVjdG9yQXJlYS5yZWN0LFxuICAgICAgICAgICAgdXNlVHJhbnNmb3JtOiBfdGhpcy5fdXNlVHJhbnNmb3JtXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhhbmRsZVpJbmRleFwiLCBmdW5jdGlvbiAoYWRkKSB7XG4gICAgICAgIF90aGlzLl9lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGUuekluZGV4ID0gXCJcIi5jb25jYXQoKHBhcnNlSW50KGVsZW1lbnQuc3R5bGUuekluZGV4KSB8fCAwKSArIGFkZCA/IDk5OTkgOiAtOTk5OCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuRFMgPSBEUztcbiAgICAgIHRoaXMuX3VzZVRyYW5zZm9ybSA9IHVzZVRyYW5zZm9ybTtcbiAgICAgIHRoaXMuX2tleWJvYXJkRHJhZ1NwZWVkID0ga2V5Ym9hcmREcmFnU3BlZWQ7XG4gICAgICB0aGlzLl9rZXlib2FyZERyYWcgPSBrZXlib2FyZERyYWc7XG4gICAgICB0aGlzLl96b29tID0gem9vbTtcbiAgICAgIHRoaXMuX2RyYWdnYWJpbGl0eSA9IGRyYWdnYWJpbGl0eTtcbiAgICAgIHRoaXMuX2RyYWdLZXlzID0ge1xuICAgICAgICB1cDogZHJhZ0tleXMudXAubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIGsudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSksXG4gICAgICAgIGRvd246IGRyYWdLZXlzLmRvd24ubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIGsudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSksXG4gICAgICAgIGxlZnQ6IGRyYWdLZXlzLmxlZnQubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIGsudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSksXG4gICAgICAgIHJpZ2h0OiBkcmFnS2V5cy5yaWdodC5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gay50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9KVxuICAgICAgfTtcbiAgICAgIHRoaXMuX2RyYWdLZXlzRmxhdCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5fZHJhZ0tleXMudXApLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5fZHJhZ0tleXMuZG93biksIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLl9kcmFnS2V5cy5sZWZ0KSwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuX2RyYWdLZXlzLnJpZ2h0KSk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246c3RhcnQnLCB0aGlzLnN0YXJ0KTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjplbmQnLCB0aGlzLnN0b3ApO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOnVwZGF0ZScsIHRoaXMudXBkYXRlKTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdLZXlTdG9yZTpkb3duJywgdGhpcy5rZXlib2FyZERyYWcpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0tleVN0b3JlOnVwJywgdGhpcy5rZXlib2FyZEVuZCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKERyYWcsIFt7XG4gICAgICBrZXk6IFwiX2N1cnNvckRpZmZcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICB2YXIgY3VycmVudFBvaW50ZXJWYWwgPSB0aGlzLkRTLnN0b3Jlcy5Qb2ludGVyU3RvcmUuY3VycmVudFZhbDtcbiAgICAgICAgdmFyIGN1cnNvckRpZmYgPSB0aGlzLl9wcmV2Q3Vyc29yUG9zID8gY2FsYyhjdXJyZW50UG9pbnRlclZhbCwgJy0nLCB0aGlzLl9wcmV2Q3Vyc29yUG9zKSA6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcHJldkN1cnNvclBvcyA9IGN1cnJlbnRQb2ludGVyVmFsO1xuICAgICAgICByZXR1cm4gY3Vyc29yRGlmZjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3Njcm9sbERpZmZcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICB2YXIgY3VycmVudFNjcm9sbFZhbCA9IHRoaXMuRFMuc3RvcmVzLlNjcm9sbFN0b3JlLmN1cnJlbnRWYWw7XG4gICAgICAgIHZhciBzY3JvbGxEaWZmID0gdGhpcy5fcHJldlNjcm9sbFBvcyA/IGNhbGMoY3VycmVudFNjcm9sbFZhbCwgJy0nLCB0aGlzLl9wcmV2U2Nyb2xsUG9zKSA6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcHJldlNjcm9sbFBvcyA9IGN1cnJlbnRTY3JvbGxWYWw7XG4gICAgICAgIHJldHVybiBzY3JvbGxEaWZmO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEcmFnO1xuICB9KCk7XG5cbiAgdmFyIEludGVyYWN0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RFNBcmVhfVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cblxuICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cblxuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvciBJbnRlcmFjdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAgICAgKiBAcGFyYW0ge0RTQXJlYX0gb2JqLmFyZWFFbGVtZW50XG4gICAgICogQHBhcmFtIHtib29sZWFufSBvYmouZHJhZ2dhYmlsaXR5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBvYmouaW1tZWRpYXRlRHJhZ1xuICAgICAqIEBwYXJhbSB7RHJhZ1NlbGVjdH0gb2JqLkRTXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uKF9yZWYpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBhcmVhRWxlbWVudCA9IF9yZWYuYXJlYUVsZW1lbnQsXG4gICAgICAgICAgRFMgPSBfcmVmLkRTLFxuICAgICAgICAgIGRyYWdnYWJpbGl0eSA9IF9yZWYuZHJhZ2dhYmlsaXR5LFxuICAgICAgICAgIGltbWVkaWF0ZURyYWcgPSBfcmVmLmltbWVkaWF0ZURyYWc7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvbik7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9hcmVhRWxlbWVudFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZHJhZ2dhYmlsaXR5XCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pbW1lZGlhdGVEcmFnXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzSW50ZXJhY3RpbmdcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNEcmFnZ2luZ1wiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbml0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLkRTLnB1Ymxpc2goJ0ludGVyYWN0aW9uOmluaXQ6cHJlJywge30pO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pbml0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc3RvcCgpO1xuXG4gICAgICAgIF90aGlzLl9hcmVhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBfdGhpcy5zdGFydCk7XG5cbiAgICAgICAgX3RoaXMuX2FyZWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBfdGhpcy5zdGFydCwge1xuICAgICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLkRTLnB1Ymxpc2goJ0ludGVyYWN0aW9uOmluaXQnLCB7fSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhcnRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5EUy5wdWJsaXNoKCdJbnRlcmFjdGlvbjpzdGFydDpwcmUnLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGlzRHJhZ2dpbmc6IF90aGlzLmlzRHJhZ2dpbmdcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N0YXJ0XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBDYWxsIHByZXZlbnREZWZhdWx0KCkgdG8gcHJldmVudCBkb3VibGUgY2xpY2sgaXNzdWUsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vVGhpYmF1bHRKYW5CZXllci9EcmFnU2VsZWN0L3B1bGwvMjkgJiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy92aS9kb2NzL1dlYi9BUEkvVG91Y2hfZXZlbnRzL1N1cHBvcnRpbmdfYm90aF9Ub3VjaEV2ZW50X2FuZF9Nb3VzZUV2ZW50XG5cbiAgICAgICAgaWYgKCFfdGhpcy5fY2FuSW50ZXJhY3QoZXZlbnQpKSByZXR1cm47XG4gICAgICAgIF90aGlzLmlzSW50ZXJhY3RpbmcgPSB0cnVlO1xuICAgICAgICBfdGhpcy5pc0RyYWdnaW5nID0gX3RoaXMuaXNEcmFnRXZlbnQoZXZlbnQpO1xuXG4gICAgICAgIF90aGlzLkRTLnB1Ymxpc2goJ0ludGVyYWN0aW9uOnN0YXJ0Jywge1xuICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICBpc0RyYWdnaW5nOiBfdGhpcy5pc0RyYWdnaW5nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfdGhpcy5yZXNldCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgX3RoaXMucmVzZXQpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzRHJhZ0V2ZW50XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIV90aGlzLl9kcmFnZ2FiaWxpdHkgfHwgX3RoaXMuRFMuc3RvcmVzLktleVN0b3JlLmlzTXVsdGlTZWxlY3RLZXlQcmVzc2VkKGV2ZW50KSB8fCAhX3RoaXMuRFMuU2VsZWN0YWJsZVNldC5oYXMoZXZlbnQudGFyZ2V0KSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmIChfdGhpcy5faW1tZWRpYXRlRHJhZykge1xuICAgICAgICAgIGlmICghX3RoaXMuRFMuU2VsZWN0ZWRTZXQuc2l6ZSkgX3RoaXMuRFMuU2VsZWN0ZWRTZXQuYWRkKFxuICAgICAgICAgIC8qKiBAdHlwZSB7RFNFbGVtZW50fSAqL1xuICAgICAgICAgIGV2ZW50LnRhcmdldCk7ZWxzZSBpZiAoIV90aGlzLkRTLlNlbGVjdGVkU2V0LmhhcyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICBfdGhpcy5EUy5TZWxlY3RlZFNldC5jbGVhcigpO1xuXG4gICAgICAgICAgICBfdGhpcy5EUy5TZWxlY3RlZFNldC5hZGQoXG4gICAgICAgICAgICAvKiogQHR5cGUge0RTRWxlbWVudH0gKi9cbiAgICAgICAgICAgIGV2ZW50LnRhcmdldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzLkRTLlNlbGVjdGVkU2V0LmhhcyhldmVudC50YXJnZXQpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uQ2xpY2tcIiwgZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgIHZhciBldmVudCA9IF9yZWYyLmV2ZW50O1xuICAgICAgICBpZiAoIV90aGlzLl9jYW5JbnRlcmFjdChldmVudCkpIHJldHVybjtcbiAgICAgICAgaWYgKGV2ZW50LmRldGFpbCA+IDApIHJldHVybjsgLy8gbW91c2UgaW50ZXJhY3Rpb25cblxuICAgICAgICB2YXIgX3RoaXMkRFMgPSBfdGhpcy5EUyxcbiAgICAgICAgICAgIF90aGlzJERTJHN0b3JlcyA9IF90aGlzJERTLnN0b3JlcyxcbiAgICAgICAgICAgIFBvaW50ZXJTdG9yZSA9IF90aGlzJERTJHN0b3Jlcy5Qb2ludGVyU3RvcmUsXG4gICAgICAgICAgICBLZXlTdG9yZSA9IF90aGlzJERTJHN0b3Jlcy5LZXlTdG9yZSxcbiAgICAgICAgICAgIFNlbGVjdGFibGVTZXQgPSBfdGhpcyREUy5TZWxlY3RhYmxlU2V0LFxuICAgICAgICAgICAgU2VsZWN0ZWRTZXQgPSBfdGhpcyREUy5TZWxlY3RlZFNldDtcbiAgICAgICAgUG9pbnRlclN0b3JlLnN0YXJ0KGV2ZW50KTtcbiAgICAgICAgdmFyIG5vZGUgPVxuICAgICAgICAvKiogQHR5cGUge2FueX0gKi9cbiAgICAgICAgZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAoIVNlbGVjdGFibGVTZXQuaGFzKG5vZGUpKSByZXR1cm47XG4gICAgICAgIGlmICghS2V5U3RvcmUuaXNNdWx0aVNlbGVjdEtleVByZXNzZWQoZXZlbnQpKSBTZWxlY3RlZFNldC5jbGVhcigpO1xuICAgICAgICBTZWxlY3RlZFNldC50b2dnbGUobm9kZSk7XG5cbiAgICAgICAgX3RoaXMucmVzZXQoKTsgLy8gc2ltdWxhdGUgbW91c2UtdXAgKHRoYXQgZG9lcyBub3QgZXhpc3Qgb24ga2V5Ym9hcmQpXG5cbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9wXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuaXNJbnRlcmFjdGluZyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMuX2FyZWFFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIF90aGlzLnN0YXJ0KTtcblxuICAgICAgICBfdGhpcy5fYXJlYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIF90aGlzLnN0YXJ0LCB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfdGhpcy5yZXNldCk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgX3RoaXMucmVzZXQpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVwZGF0ZVwiLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gX3JlZjMuZXZlbnQsXG4gICAgICAgICAgICBzY3JvbGxfZGlyZWN0aW9ucyA9IF9yZWYzLnNjcm9sbF9kaXJlY3Rpb25zLFxuICAgICAgICAgICAgc2Nyb2xsX211bHRpcGxpZXIgPSBfcmVmMy5zY3JvbGxfbXVsdGlwbGllcjtcbiAgICAgICAgaWYgKF90aGlzLmlzSW50ZXJhY3RpbmcpIF90aGlzLkRTLnB1Ymxpc2goWydJbnRlcmFjdGlvbjp1cGRhdGU6cHJlJywgJ0ludGVyYWN0aW9uOnVwZGF0ZSddLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIHNjcm9sbF9kaXJlY3Rpb25zOiBzY3JvbGxfZGlyZWN0aW9ucyxcbiAgICAgICAgICBzY3JvbGxfbXVsdGlwbGllcjogc2Nyb2xsX211bHRpcGxpZXIsXG4gICAgICAgICAgaXNEcmFnZ2luZzogX3RoaXMuaXNEcmFnZ2luZ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXNldFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLkRTLnB1Ymxpc2goJ0ludGVyYWN0aW9uOmVuZDpwcmUnLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGlzRHJhZ2dpbmc6IF90aGlzLmlzRHJhZ2dpbmdcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Jlc2V0XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgaXNEcmFnZ2luZyA9IF90aGlzLmlzRHJhZ2dpbmc7XG5cbiAgICAgICAgX3RoaXMuc3RvcCgpO1xuXG4gICAgICAgIF90aGlzLmluaXQoKTtcblxuICAgICAgICBfdGhpcy5EUy5wdWJsaXNoKCdJbnRlcmFjdGlvbjplbmQnLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGlzRHJhZ2dpbmc6IGlzRHJhZ2dpbmdcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fYXJlYUVsZW1lbnQgPSBhcmVhRWxlbWVudDtcbiAgICAgIHRoaXMuX2RyYWdnYWJpbGl0eSA9IGRyYWdnYWJpbGl0eTtcbiAgICAgIHRoaXMuX2ltbWVkaWF0ZURyYWcgPSBpbW1lZGlhdGVEcmFnO1xuICAgICAgdGhpcy5EUyA9IERTO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ1BvaW50ZXJTdG9yZTp1cGRhdGVkJywgdGhpcy51cGRhdGUpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ1NlbGVjdGFibGU6Y2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ1NlbGVjdGFibGU6cG9pbnRlcicsIGZ1bmN0aW9uIChfcmVmNCkge1xuICAgICAgICB2YXIgZXZlbnQgPSBfcmVmNC5ldmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzLnN0YXJ0KGV2ZW50KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOnN0YXJ0OnByZScsIGZ1bmN0aW9uIChfcmVmNSkge1xuICAgICAgICB2YXIgZXZlbnQgPSBfcmVmNS5ldmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9zdGFydChldmVudCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjppbml0OnByZScsIHRoaXMuX2luaXQpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOmVuZDpwcmUnLCBmdW5jdGlvbiAoX3JlZjYpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gX3JlZjYuZXZlbnQ7XG4gICAgICAgIHJldHVybiBfdGhpcy5fcmVzZXQoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnQXJlYTpzY3JvbGwnLCB0aGlzLnVwZGF0ZSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEludGVyYWN0aW9uLCBbe1xuICAgICAga2V5OiBcIl9jYW5JbnRlcmFjdFwiLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7RFNFdmVudH0gZXZlbnRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jYW5JbnRlcmFjdChldmVudCkge1xuICAgICAgICB2YXIgaXNLZXlib2FyZENsaWNrID1cbiAgICAgICAgLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqL1xuICAgICAgICBldmVudC5jbGllbnRYID09PSAwICYmXG4gICAgICAgIC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi9cbiAgICAgICAgZXZlbnQuY2xpZW50WSA9PT0gMCAmJlxuICAgICAgICAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovXG4gICAgICAgIGV2ZW50LmRldGFpbCA9PT0gMCAmJiBldmVudC50YXJnZXQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqL1xuICAgICAgICBldmVudC5idXR0b24gPT09IDIgfHwgLy8gcmlnaHQtY2xpY2tzXG4gICAgICAgIHRoaXMuaXNJbnRlcmFjdGluZyB8fCAvLyBmaXggZG91YmxlLWNsaWNrIGlzc3Vlc1xuICAgICAgICBldmVudC50YXJnZXQgJiYgIXRoaXMuRFMuU2VsZWN0b3JBcmVhLmlzSW5zaWRlKFxuICAgICAgICAvKiogQHR5cGUge0RTRWxlbWVudH0gKi9cbiAgICAgICAgZXZlbnQudGFyZ2V0KSB8fCAvL2ZpeCBvdXRzaWRlIGVsZW1lbnRzIGlzc3VlXG4gICAgICAgICFpc0tleWJvYXJkQ2xpY2sgJiYgIXRoaXMuRFMuU2VsZWN0b3JBcmVhLmlzQ2xpY2tlZChldmVudCkgLy8gbWFrZSBzdXJlIHRoZSBtb3VzZSBjbGljayBpcyBpbnNpZGUgdGhlIGFyZWFcbiAgICAgICAgKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge0RTRXZlbnR9IGV2ZW50XG4gICAgICAgKi9cblxuICAgIH1dKTtcblxuICAgIHJldHVybiBJbnRlcmFjdGlvbjtcbiAgfSgpO1xuXG4gIHZhciBQdWJTdWIgPSBmdW5jdGlvbiBQdWJTdWIoX3JlZikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgRFMgPSBfcmVmLkRTO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFB1YlN1Yik7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdWJzY3JpYmVyc1wiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdWJzY3JpYmVcIiwgZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShfdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdKSkgX3RoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSA9IFtdO1xuXG4gICAgICBfdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xuXG4gICAgICByZXR1cm4gX3RoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXS5sZW5ndGggLSAxO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidW5zdWJzY3JpYmVcIiwgZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2ssIGlkKSB7XG4gICAgICBpZiAoaWQgPj0gMCkgX3RoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXS5zcGxpY2UoaWQsIDEpO2Vsc2UgaWYgKGNhbGxiYWNrKSBfdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdID0gX3RoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXS5maWx0ZXIoZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgIHJldHVybiBjYiAhPT0gY2FsbGJhY2s7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInB1Ymxpc2hcIiwgZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnROYW1lKSkgZXZlbnROYW1lLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9wdWJsaXNoKG5hbWUsIGRhdGEpO1xuICAgICAgfSk7ZWxzZSBfdGhpcy5fcHVibGlzaChldmVudE5hbWUsIGRhdGEpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3B1Ymxpc2hcIiwgZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgdmFyIHN1YnNjcmliZXJzID0gX3RoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdWJzY3JpYmVycykpIHJldHVybjtcbiAgICAgIGlmIChldmVudE5hbWUuaW5jbHVkZXMoXCI6cHJlXCIpKSBfdGhpcy5faGFuZGxlUHJlUHVibGlzaChzdWJzY3JpYmVycywgZGF0YSk7ZWxzZSBfdGhpcy5faGFuZGxlUHVibGlzaChzdWJzY3JpYmVycywgZGF0YSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaGFuZGxlUHVibGlzaFwiLCBmdW5jdGlvbiAoc3Vic2NyaWJlcnMsIGRhdGEpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHN1YnNjcmliZXJzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgaWYgKF90aGlzLkRTLnN0b3BwZWQpIHJldHVybjtcbiAgICAgICAgc3Vic2NyaWJlcnNbaV0oZGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaGFuZGxlUHJlUHVibGlzaFwiLCBmdW5jdGlvbiAoc3Vic2NyaWJlcnMsIGRhdGEpIHtcbiAgICAgIHZhciBpID0gc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGlmIChfdGhpcy5EUy5zdG9wcGVkKSByZXR1cm47XG4gICAgICAgIHN1YnNjcmliZXJzW2ldKGRhdGEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5EUyA9IERTO1xuICB9XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gYW4gZXZlbnRcbiAgICogQG1lbWJlcm9mIERyYWdTZWxlY3QjXG4gICAqIEBmdW5jdGlvbiBzdWJzY3JpYmVcbiAgICogQHBhcmFtIHtEU0NhbGxiYWNrTmFtZXN9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge0RTQ2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGV2ZW50IGlkLCBjYW4gYmUgdXNlZCB0byB1bnN1YnNjcmliZSBtb3JlIGVmZmljaWVudGx5XG4gICAqL1xuICA7XG5cbiAgdmFyIFNlbGVjdGFibGVTZXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TZXQpIHtcbiAgICBfaW5oZXJpdHMoU2VsZWN0YWJsZVNldCwgX1NldCk7XG5cbiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFNlbGVjdGFibGVTZXQpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0RTRWxlbWVudHN9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvciBTZWxlY3RhYmxlU2V0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBcbiAgICAgKiBAcGFyYW0ge0RTSW5wdXRFbGVtZW50c30gcC5lbGVtZW50c1xuICAgICAqIEBwYXJhbSB7RHJhZ1NlbGVjdH0gcC5EU1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwLmNsYXNzTmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwLmhvdmVyQ2xhc3NOYW1lXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwLnVzZVRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcC5kcmFnZ2FiaWxpdHlcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2VsZWN0YWJsZVNldChfcmVmKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIHZhciBfZWxlbWVudHMgPSBfcmVmLmVsZW1lbnRzLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgICAgIGhvdmVyQ2xhc3NOYW1lID0gX3JlZi5ob3ZlckNsYXNzTmFtZSxcbiAgICAgICAgICBkcmFnZ2FiaWxpdHkgPSBfcmVmLmRyYWdnYWJpbGl0eSxcbiAgICAgICAgICB1c2VUcmFuc2Zvcm0gPSBfcmVmLnVzZVRyYW5zZm9ybSxcbiAgICAgICAgICBEUyA9IF9yZWYuRFM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3RhYmxlU2V0KTtcblxuICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9pbml0RWxlbWVudHNcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9jbGFzc05hbWVcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9ob3ZlckNsYXNzTmFtZVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3VzZVRyYW5zZm9ybVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2RyYWdnYWJpbGl0eVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaW5pdFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5faW5pdEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmFkZChlbCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJjbGVhclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIHJldHVybiBfdGhpc1tcImRlbGV0ZVwiXShlbCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfb25DbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLkRTLnB1Ymxpc2goWydTZWxlY3RhYmxlOmNsaWNrOnByZScsICdTZWxlY3RhYmxlOmNsaWNrJ10sIHtcbiAgICAgICAgICBldmVudDogZXZlbnRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vblBvaW50ZXJcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5EUy5wdWJsaXNoKFsnU2VsZWN0YWJsZTpwb2ludGVyOnByZScsICdTZWxlY3RhYmxlOnBvaW50ZXInXSwge1xuICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiYWRkQWxsXCIsIGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgICByZXR1cm4gZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuYWRkKGVsKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImRlbGV0ZUFsbFwiLCBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzW1wiZGVsZXRlXCJdKGVsKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuRFMgPSBEUztcbiAgICAgIF90aGlzLl9pbml0RWxlbWVudHMgPSB0b0FycmF5KF9lbGVtZW50cyk7XG4gICAgICBfdGhpcy5fY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgX3RoaXMuX2hvdmVyQ2xhc3NOYW1lID0gaG92ZXJDbGFzc05hbWU7XG4gICAgICBfdGhpcy5fdXNlVHJhbnNmb3JtID0gdXNlVHJhbnNmb3JtO1xuICAgICAgX3RoaXMuX2RyYWdnYWJpbGl0eSA9IGRyYWdnYWJpbGl0eTtcblxuICAgICAgX3RoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjppbml0JywgX3RoaXMuaW5pdCk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2VsZWN0YWJsZVNldCwgW3tcbiAgICAgIGtleTogXCJhZGRcIixcblxuICAgICAgLyoqIEBwYXJhbSB7RFNFbGVtZW50fSBlbGVtZW50ICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NsYXNzTmFtZSk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vblBvaW50ZXIpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblBvaW50ZXIsIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLl9kcmFnZ2FiaWxpdHkgJiYgIXRoaXMuX3VzZVRyYW5zZm9ybSkgaGFuZGxlRWxlbWVudFBvc2l0aW9uQXR0cmlidXRlKHtcbiAgICAgICAgICBjb21wdXRlZFN0eWxlOiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSxcbiAgICAgICAgICBub2RlOiBlbGVtZW50XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX2dldChfZ2V0UHJvdG90eXBlT2YoU2VsZWN0YWJsZVNldC5wcm90b3R5cGUpLCBcImFkZFwiLCB0aGlzKS5jYWxsKHRoaXMsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgLyoqIEBwYXJhbSB7RFNFbGVtZW50fSBlbGVtZW50ICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVsZXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZShlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jbGFzc05hbWUpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faG92ZXJDbGFzc05hbWUpO1xuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljayk7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb25Qb2ludGVyKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fb25Qb2ludGVyLCB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX2dldChfZ2V0UHJvdG90eXBlT2YoU2VsZWN0YWJsZVNldC5wcm90b3R5cGUpLCBcImRlbGV0ZVwiLCB0aGlzKS5jYWxsKHRoaXMsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJlbGVtZW50c1wiLFxuXG4gICAgICAvKiogQHJldHVybiB7RFNFbGVtZW50c30gKi9cbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnZhbHVlcygpKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2VsZWN0YWJsZVNldDtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoU2V0KSk7XG5cbiAgdmFyIFNlbGVjdGVkU2V0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU2V0KSB7XG4gICAgX2luaGVyaXRzKFNlbGVjdGVkU2V0LCBfU2V0KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU2VsZWN0ZWRTZXQpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3IgU2VsZWN0YWJsZVNldFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwXG4gICAgICogQHBhcmFtIHtEcmFnU2VsZWN0fSBwLkRTXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHAuY2xhc3NOYW1lXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNlbGVjdGVkU2V0KF9yZWYpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgdmFyIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgICAgIERTID0gX3JlZi5EUztcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbGVjdGVkU2V0KTtcblxuICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9jbGFzc05hbWVcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImNsZWFyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzW1wiZGVsZXRlXCJdKGVsKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImFkZEFsbFwiLCBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmFkZChlbCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJkZWxldGVBbGxcIiwgZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIHJldHVybiBfdGhpc1tcImRlbGV0ZVwiXShlbCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLkRTID0gRFM7XG4gICAgICBfdGhpcy5fY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKiogQHBhcmFtIHtEU0VsZW1lbnR9IGVsZW1lbnQgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFNlbGVjdGVkU2V0LCBbe1xuICAgICAga2V5OiBcImFkZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChlbGVtZW50KSB7XG4gICAgICAgIGlmIChfZ2V0KF9nZXRQcm90b3R5cGVPZihTZWxlY3RlZFNldC5wcm90b3R5cGUpLCBcImhhc1wiLCB0aGlzKS5jYWxsKHRoaXMsIGVsZW1lbnQpKSByZXR1cm47XG4gICAgICAgIHZhciBwdWJsaXNoRGF0YSA9IHtcbiAgICAgICAgICBpdGVtczogdGhpcy5lbGVtZW50cyxcbiAgICAgICAgICBpdGVtOiBlbGVtZW50XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuRFMucHVibGlzaCgnU2VsZWN0ZWQ6YWRkZWQ6cHJlJywgcHVibGlzaERhdGEpO1xuXG4gICAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKFNlbGVjdGVkU2V0LnByb3RvdHlwZSksIFwiYWRkXCIsIHRoaXMpLmNhbGwodGhpcywgZWxlbWVudCk7XG5cbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NsYXNzTmFtZSk7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuekluZGV4ID0gXCJcIi5jb25jYXQoKHBhcnNlSW50KGVsZW1lbnQuc3R5bGUuekluZGV4KSB8fCAwKSArIDEpO1xuICAgICAgICB0aGlzLkRTLnB1Ymxpc2goJ1NlbGVjdGVkOmFkZGVkJywgcHVibGlzaERhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIC8qKiBAcGFyYW0ge0RTRWxlbWVudH0gZWxlbWVudCAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImRlbGV0ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoZWxlbWVudCkge1xuICAgICAgICBpZiAoIV9nZXQoX2dldFByb3RvdHlwZU9mKFNlbGVjdGVkU2V0LnByb3RvdHlwZSksIFwiaGFzXCIsIHRoaXMpLmNhbGwodGhpcywgZWxlbWVudCkpIHJldHVybjtcbiAgICAgICAgdmFyIHB1Ymxpc2hEYXRhID0ge1xuICAgICAgICAgIGl0ZW1zOiB0aGlzLmVsZW1lbnRzLFxuICAgICAgICAgIGl0ZW06IGVsZW1lbnRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5EUy5wdWJsaXNoKCdTZWxlY3RlZDpyZW1vdmVkOnByZScsIHB1Ymxpc2hEYXRhKTtcblxuICAgICAgICB2YXIgZGVsZXRlZCA9IF9nZXQoX2dldFByb3RvdHlwZU9mKFNlbGVjdGVkU2V0LnByb3RvdHlwZSksIFwiZGVsZXRlXCIsIHRoaXMpLmNhbGwodGhpcywgZWxlbWVudCk7XG5cbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NsYXNzTmFtZSk7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuekluZGV4ID0gXCJcIi5jb25jYXQoKHBhcnNlSW50KGVsZW1lbnQuc3R5bGUuekluZGV4KSB8fCAwKSAtIDEpO1xuICAgICAgICB0aGlzLkRTLnB1Ymxpc2goJ1NlbGVjdGVkOnJlbW92ZWQnLCBwdWJsaXNoRGF0YSk7XG4gICAgICAgIHJldHVybiBkZWxldGVkO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJ0b2dnbGVcIixcblxuICAgICAgLyoqXG4gICAgICAgKiBBZGRzL1JlbW92ZXMgYW4gZWxlbWVudC4gSWYgaXQgaXMgYWxyZWFkeSBzZWxlY3RlZCA9IHJlbW92ZSwgaWYgbm90ID0gYWRkLlxuICAgICAgICogQHBhcmFtIHtEU0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgICAqIEByZXR1cm4ge0RTRWxlbWVudH1cbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZShlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmhhcyhlbGVtZW50KSkgdGhpc1tcImRlbGV0ZVwiXShlbGVtZW50KTtlbHNlIHRoaXMuYWRkKGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH1cbiAgICAgIC8qKiBAcGFyYW0ge0RTRWxlbWVudHN9IGVsZW1lbnRzICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZWxlbWVudHNcIixcblxuICAgICAgLyoqIEByZXR1cm4ge0RTRWxlbWVudHN9ICovXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy52YWx1ZXMoKSk7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNlbGVjdGVkU2V0O1xuICB9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihTZXQpKTtcblxuICB2YXIgU2VsZWN0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7U2V0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yIFNlbGVjdGlvblxuICAgICAqIEBwYXJhbSB7eyBEUzpEcmFnU2VsZWN0LCBob3ZlckNsYXNzTmFtZTpzdHJpbmcsIG11bHRpU2VsZWN0VG9nZ2xpbmc6Ym9vbGVhbiB9fSBwXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNlbGVjdGlvbihfcmVmKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgRFMgPSBfcmVmLkRTLFxuICAgICAgICAgIGhvdmVyQ2xhc3NOYW1lID0gX3JlZi5ob3ZlckNsYXNzTmFtZSxcbiAgICAgICAgICBtdWx0aVNlbGVjdFRvZ2dsaW5nID0gX3JlZi5tdWx0aVNlbGVjdFRvZ2dsaW5nO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VsZWN0aW9uKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ByZXZTZWxlY3RlZFNldFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaG92ZXJDbGFzc05hbWVcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX211bHRpU2VsZWN0VG9nZ2xpbmdcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhcnRcIiwgZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgIHZhciBldmVudCA9IF9yZWYyLmV2ZW50LFxuICAgICAgICAgICAgaXNEcmFnZ2luZyA9IF9yZWYyLmlzRHJhZ2dpbmc7XG4gICAgICAgIGlmIChpc0RyYWdnaW5nKSByZXR1cm47XG5cbiAgICAgICAgX3RoaXMuX3N0b3JlUHJldmlvdXMoZXZlbnQpO1xuXG4gICAgICAgIF90aGlzLl9oYW5kbGVJbnNpZGVTZWxlY3Rpb24odHJ1ZSwgZXZlbnQpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVwZGF0ZVwiLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIGlzRHJhZ2dpbmcgPSBfcmVmMy5pc0RyYWdnaW5nO1xuICAgICAgICBpZiAoaXNEcmFnZ2luZyB8fCBfdGhpcy5EU1tcImNvbnRpbnVlXCJdKSByZXR1cm47XG5cbiAgICAgICAgX3RoaXMuX2hhbmRsZUluc2lkZVNlbGVjdGlvbigpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9oYW5kbGVJbnNpZGVTZWxlY3Rpb25cIiwgZnVuY3Rpb24gKGZvcmNlLCBldmVudCkge1xuICAgICAgICB2YXIgX3RoaXMkRFMgPSBfdGhpcy5EUyxcbiAgICAgICAgICAgIFNlbGVjdGFibGVTZXQgPSBfdGhpcyREUy5TZWxlY3RhYmxlU2V0LFxuICAgICAgICAgICAgU2VsZWN0b3JBcmVhID0gX3RoaXMkRFMuU2VsZWN0b3JBcmVhLFxuICAgICAgICAgICAgU2VsZWN0b3IgPSBfdGhpcyREUy5TZWxlY3RvcjtcbiAgICAgICAgLyoqIEB0eXBlIHthbnl9ICovXG5cbiAgICAgICAgdmFyIGVsUG9zQ29tYm8gPSBTZWxlY3RhYmxlU2V0LmVsZW1lbnRzLm1hcChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBbZWxlbWVudCwgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKV07XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc2VsZWN0ID0gW107XG4gICAgICAgIHZhciB1bnNlbGVjdCA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGVsUG9zQ29tYm8ubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgIGlmICghU2VsZWN0b3JBcmVhLmlzSW5zaWRlKGVsUG9zQ29tYm9baV1bMF0sIGVsUG9zQ29tYm9baV1bMV0pKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAoaXNDb2xsaXNpb24oZWxQb3NDb21ib1tpXVsxXSwgU2VsZWN0b3IucmVjdCkpIHNlbGVjdC5wdXNoKGVsUG9zQ29tYm9baV1bMF0pO2Vsc2UgdW5zZWxlY3QucHVzaChlbFBvc0NvbWJvW2ldWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtdWx0aVNlbGVjdGlvblRvZ2dsZSA9IF90aGlzLkRTLnN0b3Jlcy5LZXlTdG9yZS5pc011bHRpU2VsZWN0S2V5UHJlc3NlZChldmVudCkgJiYgX3RoaXMuX211bHRpU2VsZWN0VG9nZ2xpbmc7XG5cbiAgICAgICAgaWYgKF90aGlzLkRTW1wiY29udGludWVcIl0pIHJldHVybjtcbiAgICAgICAgc2VsZWN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlU2VsZWN0aW9uKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICBmb3JjZTogZm9yY2UsXG4gICAgICAgICAgICBtdWx0aVNlbGVjdGlvblRvZ2dsZTogbXVsdGlTZWxlY3Rpb25Ub2dnbGUsXG4gICAgICAgICAgICBTZWxlY3RlZFNldDogX3RoaXMuRFMuU2VsZWN0ZWRTZXQsXG4gICAgICAgICAgICBob3ZlckNsYXNzTmFtZTogX3RoaXMuX2hvdmVyQ2xhc3NOYW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB1bnNlbGVjdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZVVuU2VsZWN0aW9uKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICBmb3JjZTogZm9yY2UsXG4gICAgICAgICAgICBTZWxlY3RlZFNldDogX3RoaXMuRFMuU2VsZWN0ZWRTZXQsXG4gICAgICAgICAgICBob3ZlckNsYXNzTmFtZTogX3RoaXMuX2hvdmVyQ2xhc3NOYW1lLFxuICAgICAgICAgICAgUHJldlNlbGVjdGVkU2V0OiBfdGhpcy5fcHJldlNlbGVjdGVkU2V0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2hvdmVyQ2xhc3NOYW1lID0gaG92ZXJDbGFzc05hbWU7XG4gICAgICB0aGlzLl9tdWx0aVNlbGVjdFRvZ2dsaW5nID0gbXVsdGlTZWxlY3RUb2dnbGluZztcbiAgICAgIHRoaXMuRFMgPSBEUztcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjpzdGFydCcsIHRoaXMuc3RhcnQpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOnVwZGF0ZScsIHRoaXMudXBkYXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcmVzIHRoZSBwcmV2aW91cyBzZWxlY3Rpb24gKHNvbHZlcyAjOSlcbiAgICAgKiBAcGFyYW0ge0RTRXZlbnR9IGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoU2VsZWN0aW9uLCBbe1xuICAgICAga2V5OiBcIl9zdG9yZVByZXZpb3VzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3N0b3JlUHJldmlvdXMoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzJERTMiA9IHRoaXMuRFMsXG4gICAgICAgICAgICBLZXlTdG9yZSA9IF90aGlzJERTMi5zdG9yZXMuS2V5U3RvcmUsXG4gICAgICAgICAgICBTZWxlY3RlZFNldCA9IF90aGlzJERTMi5TZWxlY3RlZFNldDtcbiAgICAgICAgaWYgKEtleVN0b3JlLmlzTXVsdGlTZWxlY3RLZXlQcmVzc2VkKGV2ZW50KSkgdGhpcy5fcHJldlNlbGVjdGVkU2V0ID0gbmV3IFNldChTZWxlY3RlZFNldCk7ZWxzZSB0aGlzLl9wcmV2U2VsZWN0ZWRTZXQgPSBuZXcgU2V0KCk7XG4gICAgICB9XG4gICAgICAvKiogQHBhcmFtIHt7ZXZlbnQ6RFNFdmVudCxpc0RyYWdnaW5nOmJvb2xlYW59fSBldmVudCAqL1xuXG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNlbGVjdGlvbjtcbiAgfSgpO1xuXG4gIHZhciBTZWxlY3RvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0RTQm91bmRpbmdSZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3IgU2VsZWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcFxuICAgICAqIEBwYXJhbSB7RHJhZ1NlbGVjdH0gcC5EU1xuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHAuc2VsZWN0b3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcC5zZWxlY3RvckNsYXNzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwLmN1c3RvbVN0eWxlc1xuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZWxlY3RvcihfcmVmKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgRFMgPSBfcmVmLkRTLFxuICAgICAgICAgIHNlbGVjdG9yID0gX3JlZi5zZWxlY3RvcixcbiAgICAgICAgICBzZWxlY3RvckNsYXNzID0gX3JlZi5zZWxlY3RvckNsYXNzLFxuICAgICAgICAgIGN1c3RvbVN0eWxlcyA9IF9yZWYuY3VzdG9tU3R5bGVzO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VsZWN0b3IpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcmVjdFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFydFwiLCBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgdmFyIGlzRHJhZ2dpbmcgPSBfcmVmMi5pc0RyYWdnaW5nO1xuICAgICAgICBpZiAoaXNEcmFnZ2luZykgcmV0dXJuO1xuICAgICAgICB2YXIgUG9pbnRlclN0b3JlID0gX3RoaXMuRFMuc3RvcmVzLlBvaW50ZXJTdG9yZTtcbiAgICAgICAgdmFyIHBQb3MgPSBQb2ludGVyU3RvcmUuaW5pdGlhbFZhbEFyZWE7XG4gICAgICAgIHVwZGF0ZUVsZW1lbnRTdHlsZVBvcyhfdGhpcy5IVE1MTm9kZSwgdmVjdDJyZWN0KHBQb3MsIDEpKTtcbiAgICAgICAgX3RoaXMuSFRNTE5vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIF90aGlzLl9yZWN0ID0gbnVsbDtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9wXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuSFRNTE5vZGUuc3R5bGUud2lkdGggPSAnMCc7XG4gICAgICAgIF90aGlzLkhUTUxOb2RlLnN0eWxlLmhlaWdodCA9ICcwJztcbiAgICAgICAgX3RoaXMuSFRNTE5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1cGRhdGVcIiwgZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgIHZhciBpc0RyYWdnaW5nID0gX3JlZjMuaXNEcmFnZ2luZztcbiAgICAgICAgaWYgKGlzRHJhZ2dpbmcgfHwgX3RoaXMuRFNbXCJjb250aW51ZVwiXSkgcmV0dXJuO1xuICAgICAgICB2YXIgX3RoaXMkRFMkc3RvcmVzID0gX3RoaXMuRFMuc3RvcmVzLFxuICAgICAgICAgICAgU2Nyb2xsU3RvcmUgPSBfdGhpcyREUyRzdG9yZXMuU2Nyb2xsU3RvcmUsXG4gICAgICAgICAgICBQb2ludGVyU3RvcmUgPSBfdGhpcyREUyRzdG9yZXMuUG9pbnRlclN0b3JlO1xuICAgICAgICB2YXIgcG9zID0gZ2V0U2VsZWN0b3JQb3NpdGlvbih7XG4gICAgICAgICAgc2Nyb2xsQW1vdW50OiBTY3JvbGxTdG9yZS5zY3JvbGxBbW91bnQsXG4gICAgICAgICAgaW5pdGlhbFBvaW50ZXJQb3M6IFBvaW50ZXJTdG9yZS5pbml0aWFsVmFsQXJlYSxcbiAgICAgICAgICBwb2ludGVyUG9zOiBQb2ludGVyU3RvcmUuY3VycmVudFZhbEFyZWFcbiAgICAgICAgfSk7XG4gICAgICAgIHVwZGF0ZUVsZW1lbnRTdHlsZVBvcyhfdGhpcy5IVE1MTm9kZSwgcG9zKTtcbiAgICAgICAgX3RoaXMuX3JlY3QgPSBudWxsO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuRFMgPSBEUztcbiAgICAgIHRoaXMuSFRNTE5vZGUgPSBzZWxlY3RvciB8fCBjcmVhdGVTZWxlY3RvckVsZW1lbnQoY3VzdG9tU3R5bGVzKTtcbiAgICAgIHRoaXMuSFRNTE5vZGUuY2xhc3NMaXN0LmFkZChzZWxlY3RvckNsYXNzKTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjpzdGFydCcsIHRoaXMuc3RhcnQpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOnVwZGF0ZScsIHRoaXMudXBkYXRlKTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjplbmQnLCB0aGlzLnN0b3ApO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhTZWxlY3RvciwgW3tcbiAgICAgIGtleTogXCJyZWN0XCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlY3QpIHJldHVybiB0aGlzLl9yZWN0O1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVjdCA9IHRoaXMuSFRNTE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNlbGVjdG9yO1xuICB9KCk7XG5cbiAgdmFyIFNlbGVjdG9yQXJlYSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RFNCb3VuZGluZ1JlY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEU0VkZ2VzfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VmVjdDJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBTZWxlY3RvckFyZWFcbiAgICAgKiBAY29uc3RydWN0b3IgU2VsZWN0b3JBcmVhXG4gICAgICogQHBhcmFtIHt7IERTOkRyYWdTZWxlY3QsIHNlbGVjdG9yQXJlYUNsYXNzOnN0cmluZywgYXV0b1Njcm9sbFNwZWVkOm51bWJlciwgb3ZlcmZsb3dUb2xlcmFuY2U6VmVjdDJ9fSBvYmpcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2VsZWN0b3JBcmVhKF9yZWYpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBEUyA9IF9yZWYuRFMsXG4gICAgICAgICAgc2VsZWN0b3JBcmVhQ2xhc3MgPSBfcmVmLnNlbGVjdG9yQXJlYUNsYXNzLFxuICAgICAgICAgIGF1dG9TY3JvbGxTcGVlZCA9IF9yZWYuYXV0b1Njcm9sbFNwZWVkLFxuICAgICAgICAgIG92ZXJmbG93VG9sZXJhbmNlID0gX3JlZi5vdmVyZmxvd1RvbGVyYW5jZTtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbGVjdG9yQXJlYSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9hdXRvU2Nyb2xsU3BlZWRcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Njcm9sbEludGVydmFsXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZWN0XCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImN1cnJlbnRFZGdlc1wiLCBbXSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9vdmVyZmxvd1RvbGVyYW5jZVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFydFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5hcHBseUVsZW1lbnRzKCdhcHBlbmQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJhcHBseUVsZW1lbnRzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ2FwcGVuZCc7XG4gICAgICAgIHZhciBkb2NFbCA9IGRvY3VtZW50LmJvZHkgPyAnYm9keScgOiAnZG9jdW1lbnRFbGVtZW50JztcbiAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSBcIlwiLmNvbmNhdChtZXRob2QsIFwiQ2hpbGRcIik7XG5cbiAgICAgICAgX3RoaXMuSFRNTE5vZGVbbWV0aG9kTmFtZV0oX3RoaXMuRFMuU2VsZWN0b3IuSFRNTE5vZGUpO1xuXG4gICAgICAgIGRvY3VtZW50W2RvY0VsXVttZXRob2ROYW1lXShfdGhpcy5IVE1MTm9kZSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXBkYXRlUG9zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuX3JlY3QgPSBudWxsO1xuICAgICAgICB2YXIgcmVjdCA9IF90aGlzLkRTLkFyZWEucmVjdDtcbiAgICAgICAgdmFyIGJvcmRlciA9IF90aGlzLkRTLkFyZWEuY29tcHV0ZWRCb3JkZXI7XG4gICAgICAgIHZhciBzdHlsZSA9IF90aGlzLkhUTUxOb2RlLnN0eWxlO1xuICAgICAgICB2YXIgdG9wID0gXCJcIi5jb25jYXQocmVjdC50b3AgKyBib3JkZXIudG9wLCBcInB4XCIpO1xuICAgICAgICB2YXIgbGVmdCA9IFwiXCIuY29uY2F0KHJlY3QubGVmdCArIGJvcmRlci5sZWZ0LCBcInB4XCIpO1xuICAgICAgICB2YXIgd2lkdGggPSBcIlwiLmNvbmNhdChyZWN0LndpZHRoLCBcInB4XCIpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gXCJcIi5jb25jYXQocmVjdC5oZWlnaHQsIFwicHhcIik7XG4gICAgICAgIGlmIChzdHlsZS50b3AgIT09IHRvcCkgc3R5bGUudG9wID0gdG9wO1xuICAgICAgICBpZiAoc3R5bGUubGVmdCAhPT0gbGVmdCkgc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgICAgIGlmIChzdHlsZS53aWR0aCAhPT0gd2lkdGgpIHN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGlmIChzdHlsZS5oZWlnaHQgIT09IGhlaWdodCkgc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwgZnVuY3Rpb24gKHJlbW92ZSkge1xuICAgICAgICBfdGhpcy5zdG9wQXV0b1Njcm9sbCgpO1xuXG4gICAgICAgIGlmIChyZW1vdmUpIF90aGlzLmFwcGx5RWxlbWVudHMoJ3JlbW92ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXJ0QXV0b1Njcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmN1cnJlbnRFZGdlcyA9IFtdO1xuICAgICAgICBfdGhpcy5fc2Nyb2xsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUF1dG9TY3JvbGwoKTtcbiAgICAgICAgfSwgMTYpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhhbmRsZUF1dG9TY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMuRFNbXCJjb250aW51ZVwiXSkgcmV0dXJuO1xuICAgICAgICB2YXIgX3RoaXMkRFMgPSBfdGhpcy5EUyxcbiAgICAgICAgICAgIFBvaW50ZXJTdG9yZSA9IF90aGlzJERTLnN0b3Jlcy5Qb2ludGVyU3RvcmUsXG4gICAgICAgICAgICBBcmVhID0gX3RoaXMkRFMuQXJlYTtcbiAgICAgICAgX3RoaXMuY3VycmVudEVkZ2VzID0gZ2V0T3ZlcmZsb3dFZGdlcyh7XG4gICAgICAgICAgZWxlbWVudFJlY3Q6IHZlY3QycmVjdChQb2ludGVyU3RvcmUuY3VycmVudFZhbCksXG4gICAgICAgICAgY29udGFpbmVyUmVjdDogX3RoaXMucmVjdCxcbiAgICAgICAgICB0b2xlcmFuY2U6IF90aGlzLl9vdmVyZmxvd1RvbGVyYW5jZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRFZGdlcy5sZW5ndGgpIEFyZWEuc2Nyb2xsKF90aGlzLmN1cnJlbnRFZGdlcywgX3RoaXMuX2F1dG9TY3JvbGxTcGVlZCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RvcEF1dG9TY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5jdXJyZW50RWRnZXMgPSBbXTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5fc2Nyb2xsSW50ZXJ2YWwpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzSW5zaWRlXCIsIGZ1bmN0aW9uIChlbGVtZW50LCBlbGVtZW50UmVjdCkge1xuICAgICAgICBpZiAoX3RoaXMuRFMuQXJlYS5IVE1MTm9kZS5jb250YWlucyhlbGVtZW50KSAmJiBfdGhpcy5EUy5zdG9yZXMuU2Nyb2xsU3RvcmUuY2FuU2Nyb2xsKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGlzQ29sbGlzaW9uKF90aGlzLnJlY3QsIGVsZW1lbnRSZWN0IHx8IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2F1dG9TY3JvbGxTcGVlZCA9IGF1dG9TY3JvbGxTcGVlZDtcbiAgICAgIHRoaXMuX292ZXJmbG93VG9sZXJhbmNlID0gb3ZlcmZsb3dUb2xlcmFuY2U7XG4gICAgICB0aGlzLkRTID0gRFM7XG4gICAgICB0aGlzLkhUTUxOb2RlID0gY3JlYXRlU2VsZWN0b3JBcmVhRWxlbWVudChzZWxlY3RvckFyZWFDbGFzcyk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnQXJlYTptb2RpZmllZCcsIHRoaXMudXBkYXRlUG9zKTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjppbml0JywgdGhpcy5zdGFydCk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246c3RhcnQnLCB0aGlzLnN0YXJ0QXV0b1Njcm9sbCk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246ZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy51cGRhdGVQb3MoKTtcblxuICAgICAgICBfdGhpcy5zdG9wQXV0b1Njcm9sbCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFNlbGVjdG9yQXJlYSwgW3tcbiAgICAgIGtleTogXCJpc0NsaWNrZWRcIixcblxuICAgICAgLyoqXG4gICAgICAgKiBjaGVja3MgaWYgdGhlIGNsaWNrIHdhcyB0cmlnZ2VyZWQgb24gdGhlIGFyZWEuXG4gICAgICAgKiBAcGFyYW0ge0RTRXZlbnR9IFtldmVudF1cbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaXNDbGlja2VkKGV2ZW50KSB7XG4gICAgICAgIHZhciBQb2ludGVyU3RvcmUgPSB0aGlzLkRTLnN0b3Jlcy5Qb2ludGVyU3RvcmU7XG4gICAgICAgIHZhciBpbml0aWFsVmFsID0gZXZlbnQgPyBQb2ludGVyU3RvcmUuZ2V0UG9pbnRlclBvc2l0aW9uKGV2ZW50KSA6IFBvaW50ZXJTdG9yZS5pbml0aWFsVmFsO1xuICAgICAgICByZXR1cm4gaXNDb2xsaXNpb24oe1xuICAgICAgICAgIGxlZnQ6IGluaXRpYWxWYWwueCxcbiAgICAgICAgICB0b3A6IGluaXRpYWxWYWwueSxcbiAgICAgICAgICByaWdodDogaW5pdGlhbFZhbC54LFxuICAgICAgICAgIGJvdHRvbTogaW5pdGlhbFZhbC55XG4gICAgICAgIH0sIHRoaXMucmVjdCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlY3RcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAodGhpcy5fcmVjdCkgcmV0dXJuIHRoaXMuX3JlY3Q7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWN0ID0gdGhpcy5IVE1MTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2VsZWN0b3JBcmVhO1xuICB9KCk7XG5cbiAgdmFyIEtleVN0b3JlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RFNNdWx0aVNlbGVjdEtleXN9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1NldDxzdHJpbmc+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHt7Y29udHJvbDpzdHJpbmcsc2hpZnQ6c3RyaW5nLG1ldGE6c3RyaW5nfX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgS2V5U3RvcmVcbiAgICAgKiBAY29uc3RydWN0b3IgS2V5U3RvcmVcbiAgICAgKiBAcGFyYW0ge3tEUzpEcmFnU2VsZWN0LG11bHRpU2VsZWN0S2V5czpEU011bHRpU2VsZWN0S2V5cyxtdWx0aVNlbGVjdE1vZGU6Ym9vbGVhbn19IHBcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgZnVuY3Rpb24gS2V5U3RvcmUoX3JlZikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIERTID0gX3JlZi5EUyxcbiAgICAgICAgICBtdWx0aVNlbGVjdEtleXMgPSBfcmVmLm11bHRpU2VsZWN0S2V5cyxcbiAgICAgICAgICBtdWx0aVNlbGVjdE1vZGUgPSBfcmVmLm11bHRpU2VsZWN0TW9kZTtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEtleVN0b3JlKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX211bHRpU2VsZWN0TW9kZVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbXVsdGlTZWxlY3RLZXlzXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jdXJyZW50VmFsdWVzXCIsIG5ldyBTZXQoKSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9rZXlNYXBwaW5nXCIsIHtcbiAgICAgICAgY29udHJvbDogJ2N0cmxLZXknLFxuICAgICAgICBzaGlmdDogJ3NoaWZ0S2V5JyxcbiAgICAgICAgbWV0YTogJ21ldGFLZXknXG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5pdFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBfdGhpcy5rZXlkb3duKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBfdGhpcy5rZXl1cCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgX3RoaXMucmVzZXQpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImtleWRvd25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBrZXkgPSBldmVudC5rZXkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBfdGhpcy5EUy5wdWJsaXNoKCdLZXlTdG9yZTpkb3duOnByZScsIHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAga2V5OiBrZXlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuX2N1cnJlbnRWYWx1ZXMuYWRkKGtleSk7XG5cbiAgICAgICAgX3RoaXMuRFMucHVibGlzaCgnS2V5U3RvcmU6ZG93bicsIHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAga2V5OiBrZXlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwia2V5dXBcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBrZXkgPSBldmVudC5rZXkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBfdGhpcy5EUy5wdWJsaXNoKCdLZXlTdG9yZTp1cDpwcmUnLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGtleToga2V5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLl9jdXJyZW50VmFsdWVzW1wiZGVsZXRlXCJdKGtleSk7XG5cbiAgICAgICAgX3RoaXMuRFMucHVibGlzaCgnS2V5U3RvcmU6dXAnLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGtleToga2V5XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgX3RoaXMua2V5ZG93bik7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgX3RoaXMucmVzZXQpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIF90aGlzLnJlc2V0KTtcblxuICAgICAgICBfdGhpcy5yZXNldCgpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlc2V0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9jdXJyZW50VmFsdWVzLmNsZWFyKCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5EUyA9IERTO1xuICAgICAgdGhpcy5fbXVsdGlTZWxlY3RNb2RlID0gbXVsdGlTZWxlY3RNb2RlOyAvLyBAVE9ETzogcmVtb3ZlIGFmdGVyIGRlcHJlY2F0aW9uXG5cbiAgICAgIHRoaXMuX211bHRpU2VsZWN0S2V5cyA9IG11bHRpU2VsZWN0S2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgZGVwcmVjYXRlZEtleXMgPSB7XG4gICAgICAgICAgY3RybEtleTogJ0NvbnRyb2wnLFxuICAgICAgICAgIHNoaWZ0S2V5OiAnU2hpZnQnLFxuICAgICAgICAgIG1ldGFLZXk6ICdNZXRhJ1xuICAgICAgICB9O1xuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cblxuICAgICAgICB2YXIgbmV3TmFtZSA9IGRlcHJlY2F0ZWRLZXlzW2tleV07XG5cbiAgICAgICAgaWYgKG5ld05hbWUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJbRHJhZ1NlbGVjdF0gXCIuY29uY2F0KGtleSwgXCIgaXMgZGVwcmVjYXRlZC4gVXNlIFxcXCJcIikuY29uY2F0KG5ld05hbWUsIFwiXFxcIiBpbnN0ZWFkLiBBY3QgTm93IS4gU2VlIGRvY3MgZm9yIG1vcmUgaW5mb1wiKSk7XG4gICAgICAgICAgcmV0dXJuIG5ld05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOmluaXQnLCB0aGlzLmluaXQpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhLZXlTdG9yZSwgW3tcbiAgICAgIGtleTogXCJpc011bHRpU2VsZWN0S2V5UHJlc3NlZFwiLFxuXG4gICAgICAvKiogQHBhcmFtIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gW2V2ZW50XSAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzTXVsdGlTZWxlY3RLZXlQcmVzc2VkKGV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9tdWx0aVNlbGVjdE1vZGUpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VmFsdWVzLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuX211bHRpU2VsZWN0S2V5cy5pbmNsdWRlcyhrZXkpO1xuICAgICAgICB9KSkgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChldmVudCAmJiB0aGlzLl9tdWx0aVNlbGVjdEtleXMuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50W190aGlzMi5fa2V5TWFwcGluZ1trZXldXTtcbiAgICAgICAgfSkpIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImN1cnJlbnRWYWx1ZXNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9jdXJyZW50VmFsdWVzLnZhbHVlcygpKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gS2V5U3RvcmU7XG4gIH0oKTtcblxuICB2YXIgUG9pbnRlclN0b3JlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgLy8gUG9pbnRlciBQb3NpdGlvbnMgd2l0aGluIEFyZWFcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtWZWN0Mn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VmVjdDJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1ZlY3QyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cbiAgICAvLyBHZW5lcmFsIFBvaW50ZXIgUG9zaXRpb25cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtWZWN0Mn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VmVjdDJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1ZlY3QyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtUb3VjaEV2ZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQb2ludGVyU3RvcmVcbiAgICAgKiBAY29uc3RydWN0b3IgUG9pbnRlclN0b3JlXG4gICAgICogQHBhcmFtIHt7RFM6RHJhZ1NlbGVjdH19IHBcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9pbnRlclN0b3JlKF9yZWYpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBEUyA9IF9yZWYuRFM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb2ludGVyU3RvcmUpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNNb3VzZUludGVyYWN0aW9uXCIsIGZhbHNlKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2luaXRpYWxWYWxBcmVhXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jdXJyZW50VmFsQXJlYVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGFzdFZhbEFyZWFcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2luaXRpYWxWYWxcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2N1cnJlbnRWYWxcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xhc3RWYWxcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xhc3RUb3VjaFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbml0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMudXBkYXRlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgX3RoaXMudXBkYXRlLCB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdldFBvaW50ZXJQb3NpdGlvblwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGdldFBvaW50ZXJQb3Moe1xuICAgICAgICAgIGV2ZW50OiBfdGhpcy5fbm9ybWFsaXplZEV2ZW50KGV2ZW50KVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1cGRhdGVcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghZXZlbnQpIHJldHVybjtcblxuICAgICAgICBfdGhpcy5EUy5wdWJsaXNoKCdQb2ludGVyU3RvcmU6dXBkYXRlZDpwcmUnLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLmN1cnJlbnRWYWwgPSBfdGhpcy5nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpO1xuICAgICAgICBpZiAoIV90aGlzLl9pc01vdXNlSW50ZXJhY3Rpb24pIHJldHVybjtcblxuICAgICAgICBfdGhpcy5EUy5wdWJsaXNoKCdQb2ludGVyU3RvcmU6dXBkYXRlZCcsIHtcbiAgICAgICAgICBldmVudDogZXZlbnRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RvcFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF90aGlzLnVwZGF0ZSk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIF90aGlzLnVwZGF0ZSwge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgICB9KTsgLy8gZGVib3VuY2UgaW4gb3JkZXIgXCJvbkNsaWNrXCIgdG8gd29ya1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5faXNNb3VzZUludGVyYWN0aW9uID0gZmFsc2U7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVzZXRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghZXZlbnQpIHJldHVybjtcbiAgICAgICAgX3RoaXMuY3VycmVudFZhbCA9IF90aGlzLmxhc3RWYWwgPSBfdGhpcy5nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpO1xuXG4gICAgICAgIF90aGlzLnN0b3AoKTtcblxuICAgICAgICBfdGhpcy5pbml0KCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5EUyA9IERTO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOmluaXQnLCB0aGlzLmluaXQpO1xuICAgICAgdGhpcy5EUy5zdWJzY3JpYmUoJ0ludGVyYWN0aW9uOnN0YXJ0JywgZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgIHZhciBldmVudCA9IF9yZWYyLmV2ZW50O1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RhcnQoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLkRTLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246ZW5kJywgZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgIHZhciBldmVudCA9IF9yZWYzLmV2ZW50O1xuICAgICAgICByZXR1cm4gX3RoaXMucmVzZXQoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFBvaW50ZXJTdG9yZSwgW3tcbiAgICAgIGtleTogXCJzdGFydFwiLFxuXG4gICAgICAvKiogQHBhcmFtIHtEU0V2ZW50fSBbZXZlbnRdICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFldmVudCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9pc01vdXNlSW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWwgPSB0aGlzLmluaXRpYWxWYWwgPSB0aGlzLmdldFBvaW50ZXJQb3NpdGlvbihldmVudCk7XG4gICAgICB9XG4gICAgICAvKiogQHBhcmFtIHtEU0V2ZW50fSBldmVudCAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9ub3JtYWxpemVkRXZlbnRcIixcblxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge0RTRXZlbnR9IGV2ZW50XG4gICAgICAgKiBAcmV0dXJuIHtNb3VzZUV2ZW50fFRvdWNofVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9ub3JtYWxpemVkRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgLy8gdG91Y2hlbmQgaGFzIG5vdCB0b3VjaGVzLiBzbyB3ZSB0YWtlIHRoZSBsYXN0IHRvdWNoIGlmIGEgdG91Y2hldmVudCwgd2UgbmVlZCB0byBzdG9yZSB0aGUgcG9zaXRpb25zXG4gICAgICAgIGlmICgndG91Y2hlcycgaW4gZXZlbnQgJiYgZXZlbnQudHlwZSAhPT0gJ3RvdWNoZW5kJykgdGhpcy5fbGFzdFRvdWNoID0gZXZlbnQ7IC8vIGlmIGEgdG91Y2hldmVudCwgcmV0dXJuIHRoZSBsYXN0IHRvdWNoIHJhdGhlciB0aGFuIHRoZSByZWd1bGFyIGV2ZW50XG4gICAgICAgIC8vIHdlIG5lZWQgLnRvdWNoZXNbMF0gZnJvbSB0aGF0IGV2ZW50IGluc3RlYWRcblxuICAgICAgICByZXR1cm4gJ3RvdWNoZXMnIGluIGV2ZW50ID8gdGhpcy5fbGFzdFRvdWNoLnRvdWNoZXNbMF0gOiBldmVudDtcbiAgICAgIH1cbiAgICAgIC8qKiBGaXJzdCByZWNvcmRlZCBwb2ludGVyIHBvc2l0aW9uIHdpdGhpbiB0aGUgYXJlYSAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImluaXRpYWxWYWxBcmVhXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsVmFsQXJlYSkgcmV0dXJuIHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxWYWxBcmVhO1xuICAgICAgfVxuICAgICAgLyoqIEN1cnJlbnQgcG9pbnRlciBwb3NpdGlvbiB3aXRoaW4gdGhlIGFyZWEgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjdXJyZW50VmFsQXJlYVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY3VycmVudFZhbEFyZWEpIHJldHVybiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50VmFsQXJlYTtcbiAgICAgIH1cbiAgICAgIC8qKiBMYXN0IHJlY29yZGVkIHBvaW50ZXIgcG9zaXRpb24gd2l0aGluIHRoZSBhcmVhICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwibGFzdFZhbEFyZWFcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xhc3RWYWxBcmVhKSByZXR1cm4ge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdFZhbEFyZWE7XG4gICAgICB9XG4gICAgICAvKiogRmlyc3QgcmVjb3JkZWQgcG9pbnRlciBwb3NpdGlvbiAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImluaXRpYWxWYWxcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxWYWwpIHJldHVybiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsVmFsO1xuICAgICAgfVxuICAgICAgLyoqIEN1cnJlbnQgcG9pbnRlciBwb3NpdGlvbiAqL1xuICAgICAgLFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5faW5pdGlhbFZhbCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9pbml0aWFsVmFsQXJlYSA9IHZhbHVlICYmIGNhbGModmFsdWUsICctJywgY2FsYyhyZWN0MnZlY3QodGhpcy5EUy5BcmVhLnJlY3QpLCAnKycsIHJlY3QydmVjdCh0aGlzLkRTLkFyZWEuY29tcHV0ZWRCb3JkZXIpKSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImN1cnJlbnRWYWxcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRWYWwpIHJldHVybiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50VmFsO1xuICAgICAgfVxuICAgICAgLyoqIExhc3QgcmVjb3JkZWQgcG9pbnRlciBwb3NpdGlvbiAqL1xuICAgICAgLFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFZhbCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9jdXJyZW50VmFsQXJlYSA9IHZhbHVlICYmIGNhbGModmFsdWUsICctJywgY2FsYyhyZWN0MnZlY3QodGhpcy5EUy5BcmVhLnJlY3QpLCAnKycsIHJlY3QydmVjdCh0aGlzLkRTLkFyZWEuY29tcHV0ZWRCb3JkZXIpKSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImxhc3RWYWxcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xhc3RWYWwpIHJldHVybiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0VmFsO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2xhc3RWYWwgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fbGFzdFZhbEFyZWEgPSB2YWx1ZSAmJiBjYWxjKHZhbHVlLCAnLScsIGNhbGMocmVjdDJ2ZWN0KHRoaXMuRFMuQXJlYS5yZWN0KSwgJysnLCByZWN0MnZlY3QodGhpcy5EUy5BcmVhLmNvbXB1dGVkQm9yZGVyKSkpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQb2ludGVyU3RvcmU7XG4gIH0oKTtcblxuICB2YXIgU2Nyb2xsU3RvcmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtWZWN0Mn1cbiAgICAgKiBAcHJpdmF0ZSAqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1ZlY3QyfVxuICAgICAqIEBwcml2YXRlICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RFNBcmVhfVxuICAgICAqIEBwcml2YXRlICovXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZSAqL1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFNjcm9sbFN0b3JlXG4gICAgICogQGNvbnN0cnVjdG9yIFNjcm9sbFN0b3JlXG4gICAgICogQHBhcmFtIHt7IERTOkRyYWdTZWxlY3QsIGFyZWFFbGVtZW50OiBEU0FyZWEsIHpvb206bnVtYmVyIH19IHBcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2Nyb2xsU3RvcmUoX3JlZikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIERTID0gX3JlZi5EUyxcbiAgICAgICAgICBhcmVhRWxlbWVudCA9IF9yZWYuYXJlYUVsZW1lbnQsXG4gICAgICAgICAgem9vbSA9IF9yZWYuem9vbTtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjcm9sbFN0b3JlKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2luaXRpYWxWYWxcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2N1cnJlbnRWYWxcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2FyZWFFbGVtZW50XCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYW5TY3JvbGxcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5pdFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5fYXJlYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX3RoaXMudXBkYXRlKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFydFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLl9jdXJyZW50VmFsID0gX3RoaXMuX2luaXRpYWxWYWwgPSBnZXRDdXJyZW50U2Nyb2xsKF90aGlzLl9hcmVhRWxlbWVudCk7XG5cbiAgICAgICAgX3RoaXMuX2FyZWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF90aGlzLnVwZGF0ZSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXBkYXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9jdXJyZW50VmFsID0gZ2V0Q3VycmVudFNjcm9sbChfdGhpcy5fYXJlYUVsZW1lbnQpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5fYXJlYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX3RoaXMudXBkYXRlKTtcblxuICAgICAgICBfdGhpcy5faW5pdGlhbFZhbCA9IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuX2NhblNjcm9sbCA9IG51bGw7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVzZXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgX3RoaXMuc3RhcnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9hcmVhRWxlbWVudCA9IGFyZWFFbGVtZW50O1xuICAgICAgdGhpcy5EUyA9IERTO1xuICAgICAgdGhpcy56b29tID0gem9vbTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjppbml0JywgdGhpcy5pbml0KTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjpzdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnN0YXJ0KCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuRFMuc3Vic2NyaWJlKCdJbnRlcmFjdGlvbjplbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5yZXNldCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFNjcm9sbFN0b3JlLCBbe1xuICAgICAga2V5OiBcImNhblNjcm9sbFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fY2FuU2Nyb2xsID09PSAnYm9vbGVhbicpIHJldHVybiB0aGlzLl9jYW5TY3JvbGw7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW5TY3JvbGwgPSBjYW5TY3JvbGwodGhpcy5fYXJlYUVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzY3JvbGxBbW91bnRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICB2YXIgc2Nyb2xsRGlmZiA9IGNhbGModGhpcy5jdXJyZW50VmFsLCAnLScsIHRoaXMuaW5pdGlhbFZhbCk7IC8vIGlmIGFyZWEgaXMgem9vbWVkLCB0aGUgc2Nyb2xsIHZhbHVlcyBhcmUgc2tld2VkLCB3ZSBuZWVkIHRvIGZpeCB0aGF0IG1hbnVhbGx5IDooXG5cbiAgICAgICAgdmFyIHpvb20gPSBudW0ydmVjdCh0aGlzLnpvb20pO1xuICAgICAgICB2YXIgem9vbVNjcm9sbCA9IGNhbGMoY2FsYyhzY3JvbGxEaWZmLCAnKicsIHpvb20pLCAnLScsIHNjcm9sbERpZmYpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IHNjcm9sbERpZmYueCArIHpvb21TY3JvbGwueCxcbiAgICAgICAgICB5OiBzY3JvbGxEaWZmLnkgKyB6b29tU2Nyb2xsLnlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiaW5pdGlhbFZhbFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbFZhbCkgcmV0dXJuIHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxWYWw7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImN1cnJlbnRWYWxcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRWYWwpIHRoaXMuX2N1cnJlbnRWYWwgPSBnZXRDdXJyZW50U2Nyb2xsKHRoaXMuX2FyZWFFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRWYWw7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNjcm9sbFN0b3JlO1xuICB9KCk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICB2YXIgRHJhZ1NlbGVjdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogdXNlZCB0byBza2lwIGFsbCBjdXJyZW50IFNlbGVjdGlvbiBhbmQgZHJhZ05kcm9wIGZ1bmN0aW9uYWxpdHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBEcmFnU2VsZWN0XG4gICAgICogQGNvbnN0cnVjdG9yIERyYWdTZWxlY3RcbiAgICAgKiBAcGFyYW0ge1NldHRpbmdzfSBzZXR0aW5nc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdTZWxlY3QoX3JlZikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIF9yZWYkYXJlYSA9IF9yZWYuYXJlYSxcbiAgICAgICAgICBhcmVhID0gX3JlZiRhcmVhID09PSB2b2lkIDAgPyBkb2N1bWVudCA6IF9yZWYkYXJlYSxcbiAgICAgICAgICBfcmVmJHNlbGVjdGFibGVzID0gX3JlZi5zZWxlY3RhYmxlcyxcbiAgICAgICAgICBzZWxlY3RhYmxlcyA9IF9yZWYkc2VsZWN0YWJsZXMgPT09IHZvaWQgMCA/IFtdIDogX3JlZiRzZWxlY3RhYmxlcyxcbiAgICAgICAgICBfcmVmJGF1dG9TY3JvbGxTcGVlZCA9IF9yZWYuYXV0b1Njcm9sbFNwZWVkLFxuICAgICAgICAgIGF1dG9TY3JvbGxTcGVlZCA9IF9yZWYkYXV0b1Njcm9sbFNwZWVkID09PSB2b2lkIDAgPyA1IDogX3JlZiRhdXRvU2Nyb2xsU3BlZWQsXG4gICAgICAgICAgX3JlZiRvdmVyZmxvd1RvbGVyYW5jID0gX3JlZi5vdmVyZmxvd1RvbGVyYW5jZSxcbiAgICAgICAgICBvdmVyZmxvd1RvbGVyYW5jZSA9IF9yZWYkb3ZlcmZsb3dUb2xlcmFuYyA9PT0gdm9pZCAwID8ge1xuICAgICAgICB4OiAyNSxcbiAgICAgICAgeTogMjVcbiAgICAgIH0gOiBfcmVmJG92ZXJmbG93VG9sZXJhbmMsXG4gICAgICAgICAgX3JlZiR6b29tID0gX3JlZi56b29tLFxuICAgICAgICAgIHpvb20gPSBfcmVmJHpvb20gPT09IHZvaWQgMCA/IDEgOiBfcmVmJHpvb20sXG4gICAgICAgICAgX3JlZiRjdXN0b21TdHlsZXMgPSBfcmVmLmN1c3RvbVN0eWxlcyxcbiAgICAgICAgICBjdXN0b21TdHlsZXMgPSBfcmVmJGN1c3RvbVN0eWxlcyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGN1c3RvbVN0eWxlcyxcbiAgICAgICAgICBfcmVmJG11bHRpU2VsZWN0TW9kZSA9IF9yZWYubXVsdGlTZWxlY3RNb2RlLFxuICAgICAgICAgIG11bHRpU2VsZWN0TW9kZSA9IF9yZWYkbXVsdGlTZWxlY3RNb2RlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkbXVsdGlTZWxlY3RNb2RlLFxuICAgICAgICAgIF9yZWYkbXVsdGlTZWxlY3RUb2dnbCA9IF9yZWYubXVsdGlTZWxlY3RUb2dnbGluZyxcbiAgICAgICAgICBtdWx0aVNlbGVjdFRvZ2dsaW5nID0gX3JlZiRtdWx0aVNlbGVjdFRvZ2dsID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRtdWx0aVNlbGVjdFRvZ2dsLFxuICAgICAgICAgIF9yZWYkbXVsdGlTZWxlY3RLZXlzID0gX3JlZi5tdWx0aVNlbGVjdEtleXMsXG4gICAgICAgICAgbXVsdGlTZWxlY3RLZXlzID0gX3JlZiRtdWx0aVNlbGVjdEtleXMgPT09IHZvaWQgMCA/IFsnQ29udHJvbCcsICdTaGlmdCcsICdNZXRhJ10gOiBfcmVmJG11bHRpU2VsZWN0S2V5cyxcbiAgICAgICAgICBfcmVmJHNlbGVjdG9yID0gX3JlZi5zZWxlY3RvcixcbiAgICAgICAgICBzZWxlY3RvciA9IF9yZWYkc2VsZWN0b3IgPT09IHZvaWQgMCA/IHVuZGVmaW5lZCA6IF9yZWYkc2VsZWN0b3IsXG4gICAgICAgICAgX3JlZiRkcmFnZ2FiaWxpdHkgPSBfcmVmLmRyYWdnYWJpbGl0eSxcbiAgICAgICAgICBkcmFnZ2FiaWxpdHkgPSBfcmVmJGRyYWdnYWJpbGl0eSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkZHJhZ2dhYmlsaXR5LFxuICAgICAgICAgIF9yZWYkaW1tZWRpYXRlRHJhZyA9IF9yZWYuaW1tZWRpYXRlRHJhZyxcbiAgICAgICAgICBpbW1lZGlhdGVEcmFnID0gX3JlZiRpbW1lZGlhdGVEcmFnID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRpbW1lZGlhdGVEcmFnLFxuICAgICAgICAgIF9yZWYka2V5Ym9hcmREcmFnID0gX3JlZi5rZXlib2FyZERyYWcsXG4gICAgICAgICAga2V5Ym9hcmREcmFnID0gX3JlZiRrZXlib2FyZERyYWcgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGtleWJvYXJkRHJhZyxcbiAgICAgICAgICBkcmFnS2V5cyA9IF9yZWYuZHJhZ0tleXMsXG4gICAgICAgICAgX3JlZiRrZXlib2FyZERyYWdTcGVlID0gX3JlZi5rZXlib2FyZERyYWdTcGVlZCxcbiAgICAgICAgICBrZXlib2FyZERyYWdTcGVlZCA9IF9yZWYka2V5Ym9hcmREcmFnU3BlZSA9PT0gdm9pZCAwID8gMTAgOiBfcmVmJGtleWJvYXJkRHJhZ1NwZWUsXG4gICAgICAgICAgX3JlZiR1c2VUcmFuc2Zvcm0gPSBfcmVmLnVzZVRyYW5zZm9ybSxcbiAgICAgICAgICB1c2VUcmFuc2Zvcm0gPSBfcmVmJHVzZVRyYW5zZm9ybSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkdXNlVHJhbnNmb3JtLFxuICAgICAgICAgIF9yZWYkaG92ZXJDbGFzcyA9IF9yZWYuaG92ZXJDbGFzcyxcbiAgICAgICAgICBob3ZlckNsYXNzID0gX3JlZiRob3ZlckNsYXNzID09PSB2b2lkIDAgPyAnZHMtaG92ZXInIDogX3JlZiRob3ZlckNsYXNzLFxuICAgICAgICAgIF9yZWYkc2VsZWN0YWJsZUNsYXNzID0gX3JlZi5zZWxlY3RhYmxlQ2xhc3MsXG4gICAgICAgICAgc2VsZWN0YWJsZUNsYXNzID0gX3JlZiRzZWxlY3RhYmxlQ2xhc3MgPT09IHZvaWQgMCA/ICdkcy1zZWxlY3RhYmxlJyA6IF9yZWYkc2VsZWN0YWJsZUNsYXNzLFxuICAgICAgICAgIF9yZWYkc2VsZWN0ZWRDbGFzcyA9IF9yZWYuc2VsZWN0ZWRDbGFzcyxcbiAgICAgICAgICBzZWxlY3RlZENsYXNzID0gX3JlZiRzZWxlY3RlZENsYXNzID09PSB2b2lkIDAgPyAnZHMtc2VsZWN0ZWQnIDogX3JlZiRzZWxlY3RlZENsYXNzLFxuICAgICAgICAgIF9yZWYkc2VsZWN0b3JDbGFzcyA9IF9yZWYuc2VsZWN0b3JDbGFzcyxcbiAgICAgICAgICBzZWxlY3RvckNsYXNzID0gX3JlZiRzZWxlY3RvckNsYXNzID09PSB2b2lkIDAgPyAnZHMtc2VsZWN0b3InIDogX3JlZiRzZWxlY3RvckNsYXNzLFxuICAgICAgICAgIF9yZWYkc2VsZWN0b3JBcmVhQ2xhcyA9IF9yZWYuc2VsZWN0b3JBcmVhQ2xhc3MsXG4gICAgICAgICAgc2VsZWN0b3JBcmVhQ2xhc3MgPSBfcmVmJHNlbGVjdG9yQXJlYUNsYXMgPT09IHZvaWQgMCA/ICdkcy1zZWxlY3Rvci1hcmVhJyA6IF9yZWYkc2VsZWN0b3JBcmVhQ2xhcyxcbiAgICAgICAgICBjYWxsYmFjayA9IF9yZWYuY2FsbGJhY2ssXG4gICAgICAgICAgb25EcmFnTW92ZSA9IF9yZWYub25EcmFnTW92ZSxcbiAgICAgICAgICBvbkRyYWdTdGFydEJlZ2luID0gX3JlZi5vbkRyYWdTdGFydEJlZ2luLFxuICAgICAgICAgIG9uRHJhZ1N0YXJ0ID0gX3JlZi5vbkRyYWdTdGFydCxcbiAgICAgICAgICBvbkVsZW1lbnRTZWxlY3QgPSBfcmVmLm9uRWxlbWVudFNlbGVjdCxcbiAgICAgICAgICBvbkVsZW1lbnRVbnNlbGVjdCA9IF9yZWYub25FbGVtZW50VW5zZWxlY3Q7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcmFnU2VsZWN0KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29udGludWVcIiwgZmFsc2UpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFydFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnN0b3BwZWQgPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy5JbnRlcmFjdGlvbi5pbml0KCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiYnJlYWtcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXNbXCJjb250aW51ZVwiXSA9IHRydWU7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0U2VsZWN0aW9uXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLlNlbGVjdGVkU2V0LmVsZW1lbnRzO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdldFNlbGVjdGFibGVzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLlNlbGVjdGFibGVTZXQuZWxlbWVudHM7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0SW5pdGlhbEN1cnNvclBvc2l0aW9uXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnN0b3Jlcy5Qb2ludGVyU3RvcmUuaW5pdGlhbFZhbDtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRDdXJyZW50Q3Vyc29yUG9zaXRpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RvcmVzLlBvaW50ZXJTdG9yZS5jdXJyZW50VmFsO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdldFByZXZpb3VzQ3Vyc29yUG9zaXRpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RvcmVzLlBvaW50ZXJTdG9yZS5sYXN0VmFsO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdldEluaXRpYWxDdXJzb3JQb3NpdGlvbkFyZWFcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RvcmVzLlBvaW50ZXJTdG9yZS5pbml0aWFsVmFsQXJlYTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRDdXJyZW50Q3Vyc29yUG9zaXRpb25BcmVhXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnN0b3Jlcy5Qb2ludGVyU3RvcmUuY3VycmVudFZhbEFyZWE7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0UHJldmlvdXNDdXJzb3JQb3NpdGlvbkFyZWFcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RvcmVzLlBvaW50ZXJTdG9yZS5sYXN0VmFsQXJlYTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc011bHRpU2VsZWN0XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RvcmVzLktleVN0b3JlLmlzTXVsdGlTZWxlY3RLZXlQcmVzc2VkKGV2ZW50KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0RyYWdnaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLkludGVyYWN0aW9uLmlzRHJhZ2dpbmc7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5QdWJTdWIgPSBuZXcgUHViU3ViKHtcbiAgICAgICAgRFM6IHRoaXNcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zdWJzY3JpYmUgPSB0aGlzLlB1YlN1Yi5zdWJzY3JpYmU7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlID0gdGhpcy5QdWJTdWIudW5zdWJzY3JpYmU7XG4gICAgICB0aGlzLnB1Ymxpc2ggPSB0aGlzLlB1YlN1Yi5wdWJsaXNoO1xuXG4gICAgICB0aGlzLl9jYWxsYmFja3NUZW1wKHtcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICBvbkRyYWdNb3ZlOiBvbkRyYWdNb3ZlLFxuICAgICAgICBvbkRyYWdTdGFydDogb25EcmFnU3RhcnQsXG4gICAgICAgIG9uRHJhZ1N0YXJ0QmVnaW46IG9uRHJhZ1N0YXJ0QmVnaW4sXG4gICAgICAgIG9uRWxlbWVudFNlbGVjdDogb25FbGVtZW50U2VsZWN0LFxuICAgICAgICBvbkVsZW1lbnRVbnNlbGVjdDogb25FbGVtZW50VW5zZWxlY3RcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnN0b3JlcyA9IHtcbiAgICAgICAgUG9pbnRlclN0b3JlOiBuZXcgUG9pbnRlclN0b3JlKHtcbiAgICAgICAgICBEUzogdGhpc1xuICAgICAgICB9KSxcbiAgICAgICAgU2Nyb2xsU3RvcmU6IG5ldyBTY3JvbGxTdG9yZSh7XG4gICAgICAgICAgRFM6IHRoaXMsXG4gICAgICAgICAgYXJlYUVsZW1lbnQ6IGFyZWEsXG4gICAgICAgICAgem9vbTogem9vbVxuICAgICAgICB9KSxcbiAgICAgICAgS2V5U3RvcmU6IG5ldyBLZXlTdG9yZSh7XG4gICAgICAgICAgRFM6IHRoaXMsXG4gICAgICAgICAgbXVsdGlTZWxlY3RLZXlzOiBtdWx0aVNlbGVjdEtleXMsXG4gICAgICAgICAgbXVsdGlTZWxlY3RNb2RlOiBtdWx0aVNlbGVjdE1vZGVcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgICB0aGlzLkFyZWEgPSBuZXcgQXJlYSh7XG4gICAgICAgIGFyZWE6IGFyZWEsXG4gICAgICAgIFBTOiB0aGlzLlB1YlN1YixcbiAgICAgICAgem9vbTogem9vbVxuICAgICAgfSk7XG4gICAgICB0aGlzLlNlbGVjdG9yID0gbmV3IFNlbGVjdG9yKHtcbiAgICAgICAgRFM6IHRoaXMsXG4gICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvcixcbiAgICAgICAgc2VsZWN0b3JDbGFzczogc2VsZWN0b3JDbGFzcyxcbiAgICAgICAgY3VzdG9tU3R5bGVzOiBjdXN0b21TdHlsZXNcbiAgICAgIH0pO1xuICAgICAgdGhpcy5TZWxlY3RvckFyZWEgPSBuZXcgU2VsZWN0b3JBcmVhKHtcbiAgICAgICAgRFM6IHRoaXMsXG4gICAgICAgIHNlbGVjdG9yQXJlYUNsYXNzOiBzZWxlY3RvckFyZWFDbGFzcyxcbiAgICAgICAgYXV0b1Njcm9sbFNwZWVkOiBhdXRvU2Nyb2xsU3BlZWQsXG4gICAgICAgIG92ZXJmbG93VG9sZXJhbmNlOiBvdmVyZmxvd1RvbGVyYW5jZVxuICAgICAgfSk7XG4gICAgICB0aGlzLlNlbGVjdGFibGVTZXQgPSBuZXcgU2VsZWN0YWJsZVNldCh7XG4gICAgICAgIGVsZW1lbnRzOiBzZWxlY3RhYmxlcyxcbiAgICAgICAgRFM6IHRoaXMsXG4gICAgICAgIGNsYXNzTmFtZTogc2VsZWN0YWJsZUNsYXNzLFxuICAgICAgICBob3ZlckNsYXNzTmFtZTogaG92ZXJDbGFzcyxcbiAgICAgICAgdXNlVHJhbnNmb3JtOiB1c2VUcmFuc2Zvcm0sXG4gICAgICAgIGRyYWdnYWJpbGl0eTogZHJhZ2dhYmlsaXR5XG4gICAgICB9KTtcbiAgICAgIHRoaXMuU2VsZWN0ZWRTZXQgPSBuZXcgU2VsZWN0ZWRTZXQoe1xuICAgICAgICBEUzogdGhpcyxcbiAgICAgICAgY2xhc3NOYW1lOiBzZWxlY3RlZENsYXNzXG4gICAgICB9KTtcbiAgICAgIHRoaXMuU2VsZWN0aW9uID0gbmV3IFNlbGVjdGlvbih7XG4gICAgICAgIERTOiB0aGlzLFxuICAgICAgICBob3ZlckNsYXNzTmFtZTogaG92ZXJDbGFzcyxcbiAgICAgICAgbXVsdGlTZWxlY3RUb2dnbGluZzogbXVsdGlTZWxlY3RUb2dnbGluZ1xuICAgICAgfSk7XG4gICAgICB0aGlzLkRyYWcgPSBuZXcgRHJhZyh7XG4gICAgICAgIERTOiB0aGlzLFxuICAgICAgICBkcmFnZ2FiaWxpdHk6IGRyYWdnYWJpbGl0eSxcbiAgICAgICAgdXNlVHJhbnNmb3JtOiB1c2VUcmFuc2Zvcm0sXG4gICAgICAgIGtleWJvYXJkRHJhZzoga2V5Ym9hcmREcmFnLFxuICAgICAgICBkcmFnS2V5czogT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgdXA6IFsnQXJyb3dVcCddLFxuICAgICAgICAgIGRvd246IFsnQXJyb3dEb3duJ10sXG4gICAgICAgICAgbGVmdDogWydBcnJvd0xlZnQnXSxcbiAgICAgICAgICByaWdodDogWydBcnJvd1JpZ2h0J11cbiAgICAgICAgfSwgZHJhZ0tleXMpLFxuICAgICAgICB6b29tOiB6b29tLFxuICAgICAgICBrZXlib2FyZERyYWdTcGVlZDoga2V5Ym9hcmREcmFnU3BlZWRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5JbnRlcmFjdGlvbiA9IG5ldyBJbnRlcmFjdGlvbih7XG4gICAgICAgIGFyZWFFbGVtZW50OiBhcmVhLFxuICAgICAgICBEUzogdGhpcyxcbiAgICAgICAgZHJhZ2dhYmlsaXR5OiBkcmFnZ2FiaWxpdHksXG4gICAgICAgIGltbWVkaWF0ZURyYWc6IGltbWVkaWF0ZURyYWdcbiAgICAgIH0pOyAvLyBTdWJzY3JpYmVyIEFsaWFzZXNcblxuICAgICAgc3Vic2NyaWJlckFsaWFzZXMoe1xuICAgICAgICBzdWJzY3JpYmU6IHRoaXMuc3Vic2NyaWJlLFxuICAgICAgICBwdWJsaXNoOiB0aGlzLnB1Ymxpc2gsXG4gICAgICAgIFNlbGVjdGVkU2V0OiB0aGlzLlNlbGVjdGVkU2V0LFxuICAgICAgICBJbnRlcmFjdGlvbjogdGhpcy5JbnRlcmFjdGlvblxuICAgICAgfSk7XG4gICAgICB0aGlzLnN1YnNjcmliZSgnSW50ZXJhY3Rpb246ZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXNbXCJjb250aW51ZVwiXSA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfSAvLyBAVE9ETzogcmVtb3ZlIGFmdGVyIGRlcHJlY2F0aW9uXG5cblxuICAgIF9jcmVhdGVDbGFzcyhEcmFnU2VsZWN0LCBbe1xuICAgICAga2V5OiBcIl9jYWxsYmFja3NUZW1wXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2NhbGxiYWNrc1RlbXAoX3JlZjIpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gX3JlZjIuY2FsbGJhY2ssXG4gICAgICAgICAgICBvbkRyYWdNb3ZlID0gX3JlZjIub25EcmFnTW92ZSxcbiAgICAgICAgICAgIG9uRHJhZ1N0YXJ0ID0gX3JlZjIub25EcmFnU3RhcnQsXG4gICAgICAgICAgICBvbkRyYWdTdGFydEJlZ2luID0gX3JlZjIub25EcmFnU3RhcnRCZWdpbixcbiAgICAgICAgICAgIG9uRWxlbWVudFNlbGVjdCA9IF9yZWYyLm9uRWxlbWVudFNlbGVjdCxcbiAgICAgICAgICAgIG9uRWxlbWVudFVuc2VsZWN0ID0gX3JlZjIub25FbGVtZW50VW5zZWxlY3Q7XG5cbiAgICAgICAgdmFyIHdhcm5NZXNzYWdlID0gZnVuY3Rpb24gd2Fybk1lc3NhZ2UobmFtZSwgbmV3TmFtZSkge1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oXCJbRHJhZ1NlbGVjdF0gXCIuY29uY2F0KG5hbWUsIFwiIGlzIGRlcHJlY2F0ZWQuIFVzZSBEcmFnU2VsZWN0LnN1YnNjcmliZShcXFwiXCIpLmNvbmNhdChuZXdOYW1lLCBcIlxcXCIsIChjYWxsYmFja09iamVjdCkgPT4ge30pIGluc3RlYWQuIEFjdCBOb3chIFNlZSBkb2NzIGZvciBtb3JlIGluZm9cIikpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIHdhcm5NZXNzYWdlKCdjYWxsYmFjaycsICdjYWxsYmFjaycpO1xuICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKCdjYWxsYmFjaycsIGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICAgICAgdmFyIGl0ZW1zID0gX3JlZjMuaXRlbXMsXG4gICAgICAgICAgICAgICAgaXRlbSA9IF9yZWYzLml0ZW0sXG4gICAgICAgICAgICAgICAgZXZlbnQgPSBfcmVmMy5ldmVudDtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhpdGVtcywgZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9uRHJhZ01vdmUpIHtcbiAgICAgICAgICB3YXJuTWVzc2FnZSgnb25EcmFnTW92ZScsICdkcmFnbW92ZScpO1xuICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKCdkcmFnbW92ZScsIGZ1bmN0aW9uIChfcmVmNCkge1xuICAgICAgICAgICAgdmFyIGl0ZW1zID0gX3JlZjQuaXRlbXMsXG4gICAgICAgICAgICAgICAgaXRlbSA9IF9yZWY0Lml0ZW0sXG4gICAgICAgICAgICAgICAgZXZlbnQgPSBfcmVmNC5ldmVudDtcbiAgICAgICAgICAgIHJldHVybiBvbkRyYWdNb3ZlKGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbkRyYWdTdGFydCkge1xuICAgICAgICAgIHdhcm5NZXNzYWdlKCdvbkRyYWdTdGFydCcsICdkcmFnc3RhcnQnKTtcbiAgICAgICAgICB0aGlzLnN1YnNjcmliZSgnZHJhZ3N0YXJ0JywgZnVuY3Rpb24gKF9yZWY1KSB7XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBfcmVmNS5pdGVtcyxcbiAgICAgICAgICAgICAgICBpdGVtID0gX3JlZjUuaXRlbSxcbiAgICAgICAgICAgICAgICBldmVudCA9IF9yZWY1LmV2ZW50O1xuICAgICAgICAgICAgcmV0dXJuIG9uRHJhZ1N0YXJ0KGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbkRyYWdTdGFydEJlZ2luKSB7XG4gICAgICAgICAgd2Fybk1lc3NhZ2UoJ29uRHJhZ1N0YXJ0QmVnaW4nLCAnZHJhZ3N0YXJ0Jyk7XG4gICAgICAgICAgdGhpcy5zdWJzY3JpYmUoJ2RyYWdzdGFydCcsIGZ1bmN0aW9uIChfcmVmNikge1xuICAgICAgICAgICAgdmFyIGl0ZW1zID0gX3JlZjYuaXRlbXMsXG4gICAgICAgICAgICAgICAgaXRlbSA9IF9yZWY2Lml0ZW0sXG4gICAgICAgICAgICAgICAgZXZlbnQgPSBfcmVmNi5ldmVudDtcbiAgICAgICAgICAgIHJldHVybiBvbkRyYWdTdGFydEJlZ2luKGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbkVsZW1lbnRTZWxlY3QpIHtcbiAgICAgICAgICB3YXJuTWVzc2FnZSgnb25FbGVtZW50U2VsZWN0JywgJ2VsZW1lbnRzZWxlY3QnKTtcbiAgICAgICAgICB0aGlzLnN1YnNjcmliZSgnZWxlbWVudHNlbGVjdCcsIGZ1bmN0aW9uIChfcmVmNykge1xuICAgICAgICAgICAgdmFyIGl0ZW1zID0gX3JlZjcuaXRlbXMsXG4gICAgICAgICAgICAgICAgaXRlbSA9IF9yZWY3Lml0ZW0sXG4gICAgICAgICAgICAgICAgZXZlbnQgPSBfcmVmNy5ldmVudDtcbiAgICAgICAgICAgIHJldHVybiBvbkVsZW1lbnRTZWxlY3QoaXRlbSwgZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9uRWxlbWVudFVuc2VsZWN0KSB7XG4gICAgICAgICAgd2Fybk1lc3NhZ2UoJ29uRWxlbWVudFVuc2VsZWN0JywgJ2VsZW1lbnR1bnNlbGVjdCcpO1xuICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKCdlbGVtZW50dW5zZWxlY3QnLCBmdW5jdGlvbiAoX3JlZjgpIHtcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IF9yZWY4Lml0ZW1zLFxuICAgICAgICAgICAgICAgIGl0ZW0gPSBfcmVmOC5pdGVtLFxuICAgICAgICAgICAgICAgIGV2ZW50ID0gX3JlZjguZXZlbnQ7XG4gICAgICAgICAgICByZXR1cm4gb25FbGVtZW50VW5zZWxlY3QoaXRlbSwgZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IC8vIFVzZWZ1bCBtZXRob2RzIGZvciB0aGUgdXNlclxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgLyoqXG4gICAgICAgKiBJbml0aWFsaXplcyB0aGUgZnVuY3Rpb25hbGl0eS4gQXV0b21hdGljYWxseSB0cmlnZ2VyZWQgd2hlbiBjcmVhdGVkLlxuICAgICAgICogQWxzbywgcmVzZXQgdGhlIGZ1bmN0aW9uYWxpdHkgYWZ0ZXIgYSB0ZWFyZG93blxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic3RvcFwiLFxuXG4gICAgICAvKipcbiAgICAgICAqIENvbXBsZXRlIGZ1bmN0aW9uIHRlYXJkb3duXG4gICAgICAgKiBXaWxsIHRlYXJkb3duL3N0b3AgdGhlIHdob2xlIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZV0gLSBpZiBlbGVtZW50cyBzaG91bGQgYmUgcmVtb3ZlZC5cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21TZWxlY3Rpb25dIC0gaWYgZWxlbWVudHMgc2hvdWxkIGFsc28gYmUgYWRkZWQvcmVtb3ZlZCB0byB0aGUgc2VsZWN0aW9uLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbd2l0aENhbGxiYWNrXSAtIGlmIGVsZW1lbnRzIHNob3VsZCBhbHNvIGJlIGFkZGVkL3JlbW92ZWQgdG8gdGhlIHNlbGVjdGlvbi5cbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHZhciByZW1vdmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7XG4gICAgICAgIHZhciBmcm9tU2VsZWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuICAgICAgICB2YXIgd2l0aENhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAgICAgaWYgKHdpdGhDYWxsYmFjaykgdGhpcy5wdWJsaXNoKCdjYWxsYmFjaycsIHtcbiAgICAgICAgICBpdGVtczogdGhpcy5nZXRTZWxlY3Rpb24oKVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5JbnRlcmFjdGlvbi5zdG9wKCk7XG4gICAgICAgIHRoaXMuQXJlYS5zdG9wKCk7XG4gICAgICAgIHRoaXMuRHJhZy5zdG9wKCk7XG4gICAgICAgIHRoaXMuU2VsZWN0b3Iuc3RvcCgpO1xuICAgICAgICB0aGlzLlNlbGVjdG9yQXJlYS5zdG9wKHJlbW92ZSk7XG4gICAgICAgIHRoaXMuc3RvcmVzLktleVN0b3JlLnN0b3AoKTtcbiAgICAgICAgdGhpcy5zdG9yZXMuUG9pbnRlclN0b3JlLnN0b3AoKTtcbiAgICAgICAgdGhpcy5zdG9yZXMuU2Nyb2xsU3RvcmUuc3RvcCgpO1xuICAgICAgICBpZiAocmVtb3ZlKSB0aGlzLlNlbGVjdGFibGVTZXQuY2xlYXIoKTtcbiAgICAgICAgaWYgKGZyb21TZWxlY3Rpb24pIHRoaXMuU2VsZWN0ZWRTZXQuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogVXRpbGl0eSB0byBvdmVycmlkZSBEcmFnU2VsZWN0IGludGVybmFsIGZ1bmN0aW9uYWxpdHk6XG4gICAgICAgKiBCcmVhayB3aWxsIHNraXAgdGhlIHNlbGVjdGlvbiBvciBkcmFnZ2luZyBmdW5jdGlvbmFsaXR5ICh1bnRpbCBhZnRlciB0aGUgY2FsbGJhY2spIGJ1dCBsZXQgZXZlcnl0aGluZyBjb250aW51ZSB0byBydW4uXG4gICAgICAgKiBVc2VmdWwgdXRpbGl0eSB0byB3cml0ZSB5b3VyIG93biBmdW5jdGlvbmFsaXR5L21vdmUvZHJhZ05kcm9wIGJhc2VkIG9uIERyYWdTZWxlY3QgcG9pbnRlciBwb3NpdGlvbnMuXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJhZGRTZWxlY3Rpb25cIixcblxuICAgICAgLyoqXG4gICAgICAgKiBBZGRzIHNldmVyYWwgZWxlbWVudHMgdG8gdGhlIHNlbGVjdGlvbiBsaXN0IGFsc28gYWRkcyB0aGUgc3BlY2lmaWMgY2xhc3NlcyBhbmQgdGFrZSBpbnRvIGFjY291bnQgYWxsIGNhbGN1bGF0aW9ucy5cbiAgICAgICAqIERvZXMgbm90IGNsZWFyIHRoZSBzZWxlY3Rpb24sIGluIGNvbnRyYXJ5IHRvIC5zZXRTZWxlY3Rpb24uIENhbiBhZGQgbXVsdGlwbGUgZWxlbWVudHMgYXQgb25jZVxuICAgICAgICogQHBhcmFtIHtEU0lucHV0RWxlbWVudHN9IGVsZW1lbnRzIG9uZSBvciBtdWx0aXBsZSBlbGVtZW50c1xuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbdHJpZ2dlckNhbGxiYWNrXSAtIGlmIGNhbGxiYWNrIHNob3VsZCBiZSBjYWxsZWRcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvbnRBZGRUb1NlbGVjdGFibGVzXSAtIGlmIGVsZW1lbnQgc2hvdWxkIG5vdCBiZSBhZGRlZCB0byB0aGUgbGlzdCBvZiBzZWxlY3RhYmxlIGVsZW1lbnRzXG4gICAgICAgKiBAcmV0dXJuIHtEU0VsZW1lbnRzfSBhbGwgc2VsZWN0ZWQgZWxlbWVudHNcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNlbGVjdGlvbihlbGVtZW50cykge1xuICAgICAgICB2YXIgdHJpZ2dlckNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgICAgdmFyIGRvbnRBZGRUb1NlbGVjdGFibGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAgICAgdGhpcy5TZWxlY3RlZFNldC5hZGRBbGwodG9BcnJheShlbGVtZW50cykpO1xuICAgICAgICBpZiAoIWRvbnRBZGRUb1NlbGVjdGFibGVzKSB0aGlzLmFkZFNlbGVjdGFibGVzKGVsZW1lbnRzKTtcbiAgICAgICAgaWYgKHRyaWdnZXJDYWxsYmFjaykgdGhpcy5QdWJTdWIucHVibGlzaCgnY2FsbGJhY2snLCB7XG4gICAgICAgICAgaXRlbXM6IHRoaXMuZ2V0U2VsZWN0aW9uKClcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlbGVjdGlvbigpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmVzIHNwZWNpZmljIGVsZW1lbnRzIGZyb20gdGhlIHNlbGVjdGlvblxuICAgICAgICogTXVsdGlwbGUgZWxlbWVudHMgY2FuIGJlIGdpdmVuIGF0IG9uY2UsIGluIGNvbnRyYXJ5IHRvIHVuc2VsZWN0XG4gICAgICAgKiBAcGFyYW0ge0RTSW5wdXRFbGVtZW50c30gZWxlbWVudHMgb25lIG9yIG11bHRpcGxlIGVsZW1lbnRzXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt0cmlnZ2VyQ2FsbGJhY2tdIC0gaWYgY2FsbGJhY2sgc2hvdWxkIGJlIGNhbGxlZFxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlRnJvbVNlbGVjdGFibGVzXSAtIGlmIGVsZW1lbnQgc2hvdWxkIGJlIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBvZiBzZWxlY3RhYmxlIGVsZW1lbnRzXG4gICAgICAgKiBAcmV0dXJuIHtEU0VsZW1lbnRzfSBhbGwgc2VsZWN0ZWQgZWxlbWVudHNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbW92ZVNlbGVjdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVNlbGVjdGlvbihlbGVtZW50cykge1xuICAgICAgICB2YXIgdHJpZ2dlckNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgICAgdmFyIHJlbW92ZUZyb21TZWxlY3RhYmxlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG4gICAgICAgIHRoaXMuU2VsZWN0ZWRTZXQuZGVsZXRlQWxsKHRvQXJyYXkoZWxlbWVudHMpKTtcbiAgICAgICAgaWYgKHJlbW92ZUZyb21TZWxlY3RhYmxlcykgdGhpcy5yZW1vdmVTZWxlY3RhYmxlcyhlbGVtZW50cyk7XG4gICAgICAgIGlmICh0cmlnZ2VyQ2FsbGJhY2spIHRoaXMuUHViU3ViLnB1Ymxpc2goJ2NhbGxiYWNrJywge1xuICAgICAgICAgIGl0ZW1zOiB0aGlzLmdldFNlbGVjdGlvbigpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogVG9nZ2xlcyBzcGVjaWZpYyBlbGVtZW50cyBmcm9tIHRoZSBzZWxlY3Rpb246XG4gICAgICAgKiBJZiBlbGVtZW50IGlzIG5vdCBpbiBzZWxlY3Rpb24gaXQgd2lsbCBiZSBhZGRlZCwgaWYgaXQgaXMgYWxyZWFkeSBzZWxlY3RlZCwgaXQgd2lsbCBiZSByZW1vdmVkLlxuICAgICAgICogTXVsdGlwbGUgZWxlbWVudHMgY2FuIGJlIGdpdmVuIGF0IG9uY2UuXG4gICAgICAgKiBAcGFyYW0ge0RTSW5wdXRFbGVtZW50c30gZWxlbWVudHMgb25lIG9yIG11bHRpcGxlIGVsZW1lbnRzXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt0cmlnZ2VyQ2FsbGJhY2tdIC0gaWYgY2FsbGJhY2sgc2hvdWxkIGJlIGNhbGxlZFxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbYWxzb1NlbGVjdGFibGVzXSAtIGlmIGVsZW1lbnQgc2hvdWxkIG5vdCBiZSBhZGRlZC9yZW1vdmVkIHRvIHRoZSBsaXN0IG9mIHNlbGVjdGFibGUgZWxlbWVudHMgYWNjb3JkaW5nbHlcbiAgICAgICAqIEByZXR1cm4ge0RTRWxlbWVudHN9IGFsbCBzZWxlY3RlZCBlbGVtZW50c1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidG9nZ2xlU2VsZWN0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlU2VsZWN0aW9uKGVsZW1lbnRzKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciB0cmlnZ2VyQ2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgICAgICB2YXIgYWxzb1NlbGVjdGFibGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAgICAgdG9BcnJheShlbGVtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLlNlbGVjdGVkU2V0LmhhcyhlbCkgPyBfdGhpczIucmVtb3ZlU2VsZWN0aW9uKGVsZW1lbnRzLCB0cmlnZ2VyQ2FsbGJhY2ssIGFsc29TZWxlY3RhYmxlcykgOiBfdGhpczIuYWRkU2VsZWN0aW9uKGVsZW1lbnRzLCB0cmlnZ2VyQ2FsbGJhY2ssIGFsc29TZWxlY3RhYmxlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHJpZ2dlckNhbGxiYWNrKSB0aGlzLlB1YlN1Yi5wdWJsaXNoKCdjYWxsYmFjaycsIHtcbiAgICAgICAgICBpdGVtczogdGhpcy5nZXRTZWxlY3Rpb24oKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFNldHMgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgZWxlbWVudHMgYW5kIG9wdGlvbmFsbHkgcnVuIHRoZSBjYWxsYmFja1xuICAgICAgICogQnkgZGVmYXVsdCwgYWRkcyBuZXcgZWxlbWVudHMgYWxzbyB0byB0aGUgbGlzdCBvZiBzZWxlY3RhYmxlc1xuICAgICAgICogQHBhcmFtIHtEU0lucHV0RWxlbWVudHN9IGVsZW1lbnRzIOKAkyBkb20gZWxlbWVudHNcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3RyaWdnZXJDYWxsYmFja10gLSBpZiBjYWxsYmFjayBzaG91bGQgYmUgY2FsbGVkXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkb250QWRkVG9TZWxlY3RhYmxlc10gLSBpZiBlbGVtZW50IHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIGxpc3Qgb2Ygc2VsZWN0YWJsZSBlbGVtZW50c1xuICAgICAgICogQHJldHVybiB7RFNFbGVtZW50c31cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInNldFNlbGVjdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlbGVjdGlvbihlbGVtZW50cykge1xuICAgICAgICB2YXIgdHJpZ2dlckNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgICAgdmFyIGRvbnRBZGRUb1NlbGVjdGFibGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLmFkZFNlbGVjdGlvbihlbGVtZW50cywgdHJpZ2dlckNhbGxiYWNrLCBkb250QWRkVG9TZWxlY3RhYmxlcyk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlbGVjdGlvbigpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBVbnNlbGVjdCAvIERlc2VsZWN0IGFsbCBjdXJyZW50IHNlbGVjdGVkIE5vZGVzXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt0cmlnZ2VyQ2FsbGJhY2tdIC0gaWYgY2FsbGJhY2sgc2hvdWxkIGJlIGNhbGxlZFxuICAgICAgICogQHJldHVybiB7RFNFbGVtZW50c30gdGhpcy5zZWxlY3RlZCwgc2hvdWxkIGJlIGVtcHR5XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbGVhclNlbGVjdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgICAgICB2YXIgdHJpZ2dlckNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcbiAgICAgICAgdGhpcy5TZWxlY3RlZFNldC5jbGVhcigpO1xuICAgICAgICBpZiAodHJpZ2dlckNhbGxiYWNrKSB0aGlzLlB1YlN1Yi5wdWJsaXNoKCdjYWxsYmFjaycsIHtcbiAgICAgICAgICBpdGVtczogdGhpcy5nZXRTZWxlY3Rpb24oKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEFkZCBlbGVtZW50cyB0aGF0IGNhbiBiZSBzZWxlY3RlZC4gTm8gbm9kZSBpcyBhZGRlZCB0d2ljZVxuICAgICAgICogQHBhcmFtIHtEU0lucHV0RWxlbWVudHN9IGVsZW1lbnRzIGRvbSBlbGVtZW50KHMpXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthZGRUb1NlbGVjdGlvbl0gaWYgZWxlbWVudHMgc2hvdWxkIGFsc28gYmUgYWRkZWQgdG8gY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAqIEByZXR1cm4ge0RTSW5wdXRFbGVtZW50c30gdGhlIGFkZGVkIGVsZW1lbnQocylcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImFkZFNlbGVjdGFibGVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU2VsZWN0YWJsZXMoZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIGFkZFRvU2VsZWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgICAgdmFyIGVscyA9IHRvQXJyYXkoZWxlbWVudHMpO1xuICAgICAgICB0aGlzLlNlbGVjdGFibGVTZXQuYWRkQWxsKGVscyk7XG4gICAgICAgIGlmIChhZGRUb1NlbGVjdGlvbikgdGhpcy5TZWxlY3RlZFNldC5hZGRBbGwoZWxzKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBHZXRzIGFsbCBub2RlcyB0aGF0IGNhbiBwb3RlbnRpYWxseSBiZSBzZWxlY3RlZFxuICAgICAgICogQHJldHVybiB7RFNFbGVtZW50c30gdGhpcy5zZWxlY3RhYmxlc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0U2VsZWN0YWJsZXNcIixcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXRzIGFsbCBlbGVtZW50cyB0aGF0IGNhbiBiZSBzZWxlY3RlZC5cbiAgICAgICAqIFJlbW92ZXMgYWxsIGN1cnJlbnQgc2VsZWN0YWJsZXMgKCYgdGhlaXIgcmVzcGVjdGl2ZSBjbGFzc2VzKS5cbiAgICAgICAqIEFkZHMgdGhlIG5ldyBzZXQgdG8gdGhlIHNlbGVjdGFibGVzIHNldCwgdGh1cyByZXBsYWNpbmcgdGhlIG9yaWdpbmFsIHNldC5cbiAgICAgICAqIEBwYXJhbSB7RFNJbnB1dEVsZW1lbnRzfSBlbGVtZW50cyDigJMgZG9tIGVsZW1lbnQocylcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZUZyb21TZWxlY3Rpb25dIGlmIGVsZW1lbnRzIHNob3VsZCBhbHNvIGJlIHJlbW92ZWQgZnJvbSBjdXJyZW50IHNlbGVjdGlvblxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbYWRkVG9TZWxlY3Rpb25dIGlmIGVsZW1lbnRzIHNob3VsZCBhbHNvIGJlIGFkZGVkIHRvIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICAgKiBAcmV0dXJuIHtEU0lucHV0RWxlbWVudHN9IGVsZW1lbnRzIOKAkyB0aGUgYWRkZWQgZWxlbWVudChzKVxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2VsZWN0YWJsZXMoZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIHJlbW92ZUZyb21TZWxlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgICAgICB2YXIgYWRkVG9TZWxlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICAgICAgICB0aGlzLnJlbW92ZVNlbGVjdGFibGVzKGVsZW1lbnRzLCByZW1vdmVGcm9tU2VsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkU2VsZWN0YWJsZXMoZWxlbWVudHMsIGFkZFRvU2VsZWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIGVsZW1lbnRzIGZyb20gdGhlIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHNlbGVjdGVkLlxuICAgICAgICogQHBhcmFtIHtEU0lucHV0RWxlbWVudHN9IGVsZW1lbnRzIOKAkyBkb20gZWxlbWVudChzKVxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlRnJvbVNlbGVjdGlvbl0gaWYgZWxlbWVudHMgc2hvdWxkIGFsc28gYmUgcmVtb3ZlZCBmcm9tIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICAgKiBAcmV0dXJuIHtEU0lucHV0RWxlbWVudHN9IHRoZSByZW1vdmVkIGVsZW1lbnQocylcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbW92ZVNlbGVjdGFibGVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlU2VsZWN0YWJsZXMoZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIHJlbW92ZUZyb21TZWxlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgICAgICB0aGlzLlNlbGVjdGFibGVTZXQuZGVsZXRlQWxsKHRvQXJyYXkoZWxlbWVudHMpKTtcbiAgICAgICAgaWYgKHJlbW92ZUZyb21TZWxlY3Rpb24pIHRoaXMucmVtb3ZlU2VsZWN0aW9uKGVsZW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgfVxuICAgICAgLyoqIFRoZSBzdGFydGluZy9pbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBjdXJzb3Ivc2VsZWN0b3IgQHJldHVybiB7VmVjdDJ9ICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0Q3Vyc29yUG9zaXRpb25EaWZmZXJlbmNlXCIsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXRpbGl0eSBtZXRob2QgdGhhdCByZXR1cm5zIHRoZSBjdXJzb3IgcG9zaXRpb24gZGlmZmVyZW5jZSBiZXR3ZWVuIHN0YXJ0IGFuZCBub3dcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VzZVByZXZpb3VzQ3Vyc29yRGlmZmVyZW5jZV0gaWYgdHJ1ZSwgaXQgd2lsbCBvdXRwdXQgdGhlIGN1cnNvciBwb3NpdGlvbiBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHByZXZpb3VzIHNlbGVjdGlvbiBhbmQgbm93XG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1c2VBcmVhUG9zaXRpb25zXSBpZiB0cnVlLCBpdCB3aWxsIHVzZSBjdXJzb3IgcG9zaXRpb25zIHJlbGF0aXZlIHRvIHRoZSBhcmVhXG4gICAgICAgKiBAcmV0dXJuIHtWZWN0Mn1cbiAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJzb3JQb3NpdGlvbkRpZmZlcmVuY2UoKSB7XG4gICAgICAgIHZhciB1c2VQcmV2aW91c0N1cnNvckRpZmZlcmVuY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICAgICAgICB2YXIgdXNlQXJlYVBvc2l0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICAgIGNvbnNvbGUud2FybignW0RyYWdTZWxlY3RdIFVzaW5nIC5nZXRDdXJzb3JQb3NpdGlvbkRpZmZlcmVuY2UgaXMgZGVwcmVjYXRlZC4gQ2FsY3VsYXRlIHlvdXJzZWxmIGluc3RlYWQuIGkuZS4gYC5nZXRDdXJyZW50Q3Vyc29yUG9zaXRpb24oKS54IC0gLmdldEluaXRpYWxDdXJzb3JQb3NpdGlvbigpLnhgJyk7XG4gICAgICAgIHZhciBwb3NBID0gdXNlQXJlYVBvc2l0aW9ucyA/IHRoaXMuZ2V0Q3VycmVudEN1cnNvclBvc2l0aW9uQXJlYSgpIDogdGhpcy5nZXRDdXJyZW50Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIHBvc0IgPSB1c2VQcmV2aW91c0N1cnNvckRpZmZlcmVuY2UgPyB1c2VBcmVhUG9zaXRpb25zID8gdGhpcy5nZXRQcmV2aW91c0N1cnNvclBvc2l0aW9uQXJlYSgpIDogdGhpcy5nZXRQcmV2aW91c0N1cnNvclBvc2l0aW9uKCkgOiB1c2VBcmVhUG9zaXRpb25zID8gdGhpcy5nZXRJbml0aWFsQ3Vyc29yUG9zaXRpb25BcmVhKCkgOiB0aGlzLmdldEluaXRpYWxDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICByZXR1cm4gY2FsYyhwb3NBLCAnLScsIHBvc0IpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBXaGV0aGVyIHRoZSB1c2VyIGlzIGN1cnJlbnRseSBkcmFnIG4gZHJvcHBpbmcgZWxlbWVudHMgKGluc3RlYWQgb2Ygc2VsZWN0aW9uKVxuICAgICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgICAqL1xuXG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERyYWdTZWxlY3Q7XG4gIH0oKTtcblxuICByZXR1cm4gRHJhZ1NlbGVjdDtcblxufSkpKTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgRHJhZ1NlbGVjdCBmcm9tICdkcmFnc2VsZWN0JztcclxuXHJcbmZ1bmN0aW9uIG1vbnRobHlUcmVuZCgpOiB2b2lkIHtcclxuXHJcbiAgY29uc3QgbGlzdE9mTW9udGhzOiBPYmplY3QgPSB7XHJcbiAgICBcIkdlbm5haW9cIjogMCxcclxuICAgIFwiRmViYnJhaW9cIjogMSxcclxuICAgIFwiTWFyem9cIjogMixcclxuICAgIFwiQXByaWxlXCI6IDMsXHJcbiAgICBcIk1hZ2dpb1wiOiA0LFxyXG4gICAgXCJHaXVnbm9cIjogNSxcclxuICAgIFwiTHVnbGlvXCI6IDYsXHJcbiAgICBcIkFnb3N0b1wiOiA3LFxyXG4gICAgXCJTZXR0ZW1icmVcIjogOCxcclxuICAgIFwiT3R0b2JyZVwiOiA5LFxyXG4gICAgXCJOb3ZlbWJyZVwiOiAxMCxcclxuICAgIFwiRGljZW1icmVcIjogMTEsXHJcbiAgfVxyXG4gIC8vIGdldCBhIG1vbnRoIGZyb20gYSBsaXN0XHJcbiAgZnVuY3Rpb24gZ2V0TW9udGgobGlzdE9mVmFsdWU6b2JqZWN0LCB2YWx1ZTogTnVtYmVyICk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobGlzdE9mVmFsdWUpLmZpbmQoa2V5ID0+IGxpc3RPZlZhbHVlW2tleV0gPT09IHZhbHVlKTtcclxuICB9XHJcbiAgLy8gZ2VuZXJhdGUgdmFsdWUgZm9yIHRoZSB2YWx1ZS1ib3hcclxuICBmdW5jdGlvbiBnZW5lcmF0ZVZhbHVlKG1pbjpudW1iZXIsIG1heDpudW1iZXIsIHZhbHVlOiBudW1iZXIsIG1heERpdkhlaWdodDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGZvciAobGV0IGluZGV4ID0gbWluOyBpbmRleCA8PSBtYXg7IGluZGV4KyspIHtcclxuICAgICAgaWYgKGluZGV4ID09PSB2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAoaW5kZXggKiBtYXhEaXZIZWlnaHQpIC8gbWF4O1xyXG4gICAgICB9IFxyXG4gICAgfVxyXG4gIH1cclxuICAvLyBjcmVhdGUgYW4gYXJlYSB3aGVyZSB0byBwcmludCB0aGUgc2VsZWN0ZWQgbW9udGhcclxuICBmdW5jdGlvbiBwcmludE1vbnRoKCk6IHZvaWQge1xyXG4gICAgbGV0IG91dHB1dEFyZWE6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBvdXRwdXRBcmVhLmNsYXNzTGlzdC5hZGQoXCJvdXRwdXQtYXJlYVwiKTtcclxuICAgIGxldCBhY3RpdmVNb250aEJveGVzOiBOb2RlTGlzdE9mPEhUTUxEaXZFbGVtZW50PiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9udGgtYm94LmFjdGl2ZVwiKTtcclxuICAgIGlmIChhY3RpdmVNb250aEJveGVzKSB7XHJcbiAgICAgIGFjdGl2ZU1vbnRoQm94ZXMuZm9yRWFjaChib3ggPT4ge1xyXG4gICAgICAgIGxldCBtb250aE5hbWU6IHN0cmluZyA9IGJveC5maXJzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUw7XHJcbiAgICAgICAgbGV0IGh0bWxDb250ZW50OiBzdHJpbmcgPSBcclxuICAgICAgICBgXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VsZWN0ZWQtbW9udGhcIj5cclxuICAgICAgICAgICAgJHttb250aE5hbWV9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgICAgIG91dHB1dEFyZWEuaW5uZXJIVE1MICs9IGh0bWxDb250ZW50O1xyXG4gICAgICB9KTtcclxuICAgICAgbGV0IGFycmF5T2ZPdXRwdXRBcmVhOiBOb2RlTGlzdE9mPEhUTUxEaXZFbGVtZW50PiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIub3V0cHV0LWFyZWFcIik7XHJcbiAgICAgIGlmIChhcnJheU9mT3V0cHV0QXJlYSkge1xyXG4gICAgICAgIGFycmF5T2ZPdXRwdXRBcmVhLmZvckVhY2goYXJlYSA9PiB7XHJcbiAgICAgICAgICBhcmVhLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0cHV0QXJlYSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIGdldCB0aGUgZGF0YSBmcm9tIHRoZSBlbmQgcG9pbnRcclxuICAvL0lmIHlvdSBoYXZlIGFuIEFQSSB0byBjb250YWN0LCBpbnZva2UgaXQuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YSgpIHtcclxuICAgIGxldCB1cmw6IHN0cmluZyA9IFwiaHR0cDovL0FQSS1UTy1DT05UQUNUL2RhdGEuanNvblwiO1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlcyA9IGF3YWl0IGZldGNoKHVybCk7XHJcbiAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIHJlbmRlciB0aGUgY29tcG9uZW50IHdpdGggdGhlIHZhbHVlIGFuZCBoYW5kbGUgaXRzIGZ1bmNpb25hbGl0eVxyXG4gIGFzeW5jIGZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudCgpOiBQcm9taXNlPEhUTUxEaXZFbGVtZW50PiB7XHJcbiAgICAvL0lmIHlvdSBoYXZlIGFuIEFQSSB0byBjb250YWN0LCByZW1vdmUgY29tbWVudHNcclxuICAgIC8vIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXREYXRhKCk7XHJcbiAgICBjb25zdCBkYXRhID0ge1wibWVzaVwiOlt7XCJkb2N1bWVudGlcIjo1LFwiaW1wb3J0b1wiOjM5Mzc1fSx7XCJkb2N1bWVudGlcIjoxMSxcImltcG9ydG9cIjo0MTA0fSx7XCJkb2N1bWVudGlcIjo4LFwiaW1wb3J0b1wiOjMzMTA4fSx7XCJkb2N1bWVudGlcIjozOSxcImltcG9ydG9cIjoxMDEzN30se1wiZG9jdW1lbnRpXCI6MjEsXCJpbXBvcnRvXCI6ODAyMn0se1wiZG9jdW1lbnRpXCI6MjYsXCJpbXBvcnRvXCI6NzYwOX0se1wiZG9jdW1lbnRpXCI6MjUsXCJpbXBvcnRvXCI6MzIyNTR9LHtcImRvY3VtZW50aVwiOjEzLFwiaW1wb3J0b1wiOjI2NzcyfSx7XCJkb2N1bWVudGlcIjoyNCxcImltcG9ydG9cIjo0NjE1NX0se1wiZG9jdW1lbnRpXCI6NDIsXCJpbXBvcnRvXCI6MTcwMTZ9LHtcImRvY3VtZW50aVwiOjIzLFwiaW1wb3J0b1wiOjI5Mzk0fSx7XCJkb2N1bWVudGlcIjoxOCxcImltcG9ydG9cIjoxODgyOX1dfTtcclxuICAgIGxldCBtb250aEJveGVzOiBBcnJheTxIVE1MRGl2RWxlbWVudD4gPSBbXTtcclxuICAgIGxldCBtYXhWYWx1ZTogbnVtYmVyID0gMDtcclxuICAgIGxldCBtaW5WYWx1ZTogbnVtYmVyID0gMDtcclxuICAgIGxldCBhbW91bnRBcnJheSA9IFtdO1xyXG4gICAgLy9jcmVhdGUgY29tcG9uZW50IGRpdiBjb250YWluZXJcclxuICAgIGNvbnN0IGNvbXBvbmVudDogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKFwibW9udGhseS10cmVuZC1jb21wb25lbnRcIik7XHJcbiAgICAvLyBnZXQgdGhlIGRhdGEgZm9yIHRoZSB2YWx1ZSBiYXJcclxuICAgIGRhdGEubWVzaS5mb3JFYWNoKChtb250aCkgPT4ge1xyXG4gICAgICBhbW91bnRBcnJheS5wdXNoKG1vbnRoLmltcG9ydG8pO1xyXG4gICAgICBtYXhWYWx1ZSA9IE1hdGgubWF4KC4uLmFtb3VudEFycmF5KTtcclxuICAgICAgbWluVmFsdWUgPSBNYXRoLm1pbiguLi5hbW91bnRBcnJheSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGNyZWF0ZSBkaW5hbWljYWxseSB0aGUgdmlzdWFsaXphdGlvbiBvZiB0aGUgZGF0YVxyXG4gICAgZGF0YS5tZXNpLmZvckVhY2goKG1vbnRoLCBpbmRleCkgPT4ge1xyXG4gICAgICAvL2NyZWF0ZSBhbmQgaGFuZGxlIHRoZSBodG1sIGVsZW1lbnRzXHJcbiAgICAgIGxldCBtb250aEJveDogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgbW9udGhCb3guY2xhc3NMaXN0LmFkZChcIm1vbnRoLWJveFwiKTtcclxuICAgICAgY29tcG9uZW50LmFwcGVuZENoaWxkKG1vbnRoQm94KTtcclxuICAgICAgbW9udGhCb3hlcy5wdXNoKG1vbnRoQm94KTtcclxuICAgICAgLy8gQ29tcG9zZSB0aGUgY29udGVudCBvZiB0aGUgbW9udGggYm94IHdpdGggZHluYW1pYyBkYXRhICAgIFxyXG4gICAgICAgIGxldCBodG1sQ29udGVudDogc3RyaW5nID0gXHJcbiAgICAgICAgYFxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5hbWVcIj5cclxuICAgICAgICAgICAgJHtnZXRNb250aChsaXN0T2ZNb250aHMsIGluZGV4KX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9zXCI+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9aGVpZ2h0OiR7Z2VuZXJhdGVWYWx1ZShtaW5WYWx1ZSwgbWF4VmFsdWUsIG1vbnRoLmltcG9ydG8sIDc4KX1weCBjbGFzcz1cInZhbHVlLWJhclwiPiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZG9jdW1lbnRcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY291bnRcIj5cclxuICAgICAgICAgICAgICAgICR7bW9udGguZG9jdW1lbnRpfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0XCI+XHJcbiAgICAgICAgICAgICAgICBkb2MuXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9uZXlcIj5cclxuICAgICAgICAgICAgJHtuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2l0LUlUJywgeyBzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6ICdFVVInICwgbWF4aW11bVNpZ25pZmljYW50RGlnaXRzOiA1fSkuZm9ybWF0KG1vbnRoLmltcG9ydG8pfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICAgICAgbW9udGhCb3guaW5uZXJIVE1MICs9IGh0bWxDb250ZW50O1xyXG4gICAgICAgIC8vIEFkZCBhbmQgcmVtb3ZlIHNlbGVjdGlvbiBmcm9tIG1vbnRoIGJveGVzIHdpdGggdGhlIG1vbnRoIHByaW50aW5nXHJcbiAgICAgICAgbW9udGhCb3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xyXG4gICAgICAgICAgbW9udGhCb3hlcy5mb3JFYWNoKGFycmF5RWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGFycmF5RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBtb250aEJveC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgcHJpbnRNb250aCgpO1xyXG4gICAgICAgIH0pIFxyXG4gICAgICAgIC8vaGFuZGxlIHRoZSBtdWx0aXBsZSBzZWxlY3Rpb24gd2l0aCBtb3VzZSBjbGljayBhbmQgZHJhZyBhbmQgdGhlIG1vbnRoIHByaW50aW5nXHJcbiAgICAgICAgY29uc3QgZHJhZ1NlbGVjdCA9IG5ldyBEcmFnU2VsZWN0KHtcclxuICAgICAgICAgIHNlbGVjdGFibGVzOiBtb250aEJveGVzLFxyXG4gICAgICAgICAgZHJhZ2dhYmlsaXR5OiBmYWxzZSxcclxuICAgICAgICAgIHNlbGVjdGVkQ2xhc3M6IFwiYWN0aXZlXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZHJhZ1NlbGVjdC5zdWJzY3JpYmUoJ2NhbGxiYWNrJywgcHJpbnRNb250aCk7XHJcbiAgICAgIH0pO1xyXG4gICAgcmV0dXJuIGF3YWl0IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29tcG9uZW50KTtcclxuICB9XHJcbiAgLy8gaW52b2tlIHRoZSByZW5kZXJpbmcgb2YgdGhlIGNvbXBvbmVudFxyXG4gIHJlbmRlckNvbXBvbmVudCgpO1xyXG59XHJcbi8vIGludm9rZSB0aGUgY29tcG9uZW50IGFuZCBpdHMgZnVuY2lvbmFsaXRpZXNcclxubW9udGhseVRyZW5kKCk7Il0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJfZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJ2YWx1ZSIsIm93bktleXMiLCJvYmplY3QiLCJlbnVtZXJhYmxlT25seSIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzeW1ib2xzIiwiZmlsdGVyIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwicHVzaCIsImFwcGx5IiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJfc2V0UHJvdG90eXBlT2YiLCJfZ2V0UHJvdG90eXBlT2YiLCJvIiwic2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInAiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsInNoYW0iLCJQcm94eSIsIkRhdGUiLCJ0b1N0cmluZyIsImNhbGwiLCJlIiwiX2NvbnN0cnVjdCIsIlBhcmVudCIsImFyZ3MiLCJDbGFzcyIsImEiLCJGdW5jdGlvbiIsImJpbmQiLCJhcmd1bWVudHMiLCJfd3JhcE5hdGl2ZVN1cGVyIiwiX2NhY2hlIiwiTWFwIiwidW5kZWZpbmVkIiwiZm4iLCJpbmRleE9mIiwiaGFzIiwiZ2V0Iiwic2V0IiwiV3JhcHBlciIsInRoaXMiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfY3JlYXRlU3VwZXIiLCJEZXJpdmVkIiwiaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsInJlc3VsdCIsIlN1cGVyIiwiTmV3VGFyZ2V0IiwiX2dldCIsInByb3BlcnR5IiwicmVjZWl2ZXIiLCJiYXNlIiwiaGFzT3duUHJvcGVydHkiLCJfc3VwZXJQcm9wQmFzZSIsImRlc2MiLCJfc2xpY2VkVG9BcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwiX2kiLCJuZXh0IiwiZG9uZSIsImVyciIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJfYXJyYXlMaWtlVG9BcnJheSIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIml0ZXIiLCJmcm9tIiwiX2l0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVNwcmVhZCIsIm1pbkxlbiIsIm4iLCJzbGljZSIsIm5hbWUiLCJ0ZXN0IiwibGVuIiwiYXJyMiIsImNhbGMiLCJfcmVmIiwib3BlcmF0b3IiLCJfcmVmMiIsIngxIiwieCIsInkxIiwieSIsIngyIiwieTIiLCJyZWN0MnZlY3QiLCJyZWN0IiwibGVmdCIsInRvcCIsInZlY3QycmVjdCIsInZlY3QiLCJkaW1lbnNpb24iLCJyaWdodCIsImJvdHRvbSIsIndpZHRoIiwiaGVpZ2h0IiwiZG9jdW1lbnRTY3JvbGwiLCJfZG9jdW1lbnQkYm9keSIsIl9kb2N1bWVudCRkb2N1bWVudEVsZSIsIl9kb2N1bWVudCRib2R5MiIsIl9kb2N1bWVudCRkb2N1bWVudEVsZTIiLCJkb2N1bWVudCIsImJvZHkiLCJzY3JvbGxUb3AiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxMZWZ0IiwiZ2V0Q3VycmVudFNjcm9sbCIsImFyZWEiLCJEb2N1bWVudCIsImdldE92ZXJmbG93RWRnZXMiLCJlbGVtZW50UmVjdCIsImNvbnRhaW5lclJlY3QiLCJfcmVmJHRvbGVyYW5jZSIsInRvbGVyYW5jZSIsImVkZ2VzIiwiZ2V0Q29tcHV0ZWRUcmFuc2xhdGVQb3NpdGlvbnMiLCJlbGVtZW50IiwicG9zaXRpb24iLCJjb21wdXRlZCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJ0cmFuc2Zvcm0iLCJtYXRjaCIsInRyaW0iLCJfbWF0Y2gkIiwidmFsdWVzIiwic3BsaXQiLCJwYXJzZUludCIsIl9tYXRjaCIsIl9tYXRjaCQyIiwiX3ZhbHVlcyIsImdldFN0eWxlUG9zaXRpb24iLCJ1c2VUcmFuc2xhdGUiLCJzdHlsZSIsIl9tYXRjaCQzIiwiX3NwbGl0JCIsImdldFRyYW5zbGF0ZWRQb3NpdGlvbnMiLCJnZXRUb3BMZWZ0UG9zaXRpb24iLCJoYW5kbGVFbGVtZW50UG9zaXRpb25BdHRyaWJ1dGUiLCJjb21wdXRlZFN0eWxlIiwibm9kZSIsIkhUTUxEb2N1bWVudCIsImlzQ29sbGlzaW9uIiwiZWwxIiwiZWwyIiwibW92ZUVsZW1lbnQiLCJwb3NEaXJlY3Rpb24iLCJ1c2VUcmFuc2Zvcm0iLCJlbGVtZW50UG9zIiwibmV3UG9zIiwic2V0U3R5bGVQb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImluY2x1ZGVzIiwiaGFuZGxlRWxlbWVudE92ZXJmbG93IiwicHJldlRyYW5zZm9ybSIsImNvbmNhdCIsInJlcGxhY2UiLCJzdWJzY3JpYmVyQWxpYXNlcyIsInN1YnNjcmliZSIsInB1Ymxpc2giLCJJbnRlcmFjdGlvbiIsIlNlbGVjdGVkU2V0IiwiX2xvb3AiLCJfT2JqZWN0JGVudHJpZXMkX2kiLCJfT2JqZWN0JGVudHJpZXMiLCJzdWJfbmFtZSIsInB1YnMiLCJmb3JFYWNoIiwiZmlsbGVyIiwiZGF0YSIsInB1YiIsImNvbmRpdGlvbiIsInNvdXJjZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiX29iamVjdFNwcmVhZDIiLCJpdGVtcyIsImVsZW1lbnRzIiwiaXNEcmFnZ2luZyIsImVudHJpZXMiLCJldmVudCIsInRvQXJyYXkiLCJIVE1MRWxlbWVudCIsIlNWR0VsZW1lbnQiLCJ1cGRhdGVFbGVtZW50U3R5bGVQb3MiLCJwb3MiLCJBcmVhIiwiZnVuYyIsIndhaXQiLCJ0aW1lb3V0IiwiX3RoaXMiLCJfYXJlYSIsIlBTIiwiem9vbSIsIl9ub2RlIiwic2V0VGltZW91dCIsIlB1YlN1YiIsIml0ZW0iLCJyZXNldCIsIm5vZGVzIiwiY2FsbGJhY2siLCJtb2RpZmljYXRpb25PYnNlcnZlciIsInBhcmVudE5vZGVzIiwiX21vZGlmaWNhdGlvbkNhbGxiYWNrIiwiX21vZGlmaWNhdGlvbk9ic2VydmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVsIiwib2JzZXJ2ZSIsImNoaWxkTGlzdCIsImF0dHJpYnV0ZXMiLCJfY29tcHV0ZWRTdHlsZSIsIl9yZWN0IiwiX2NvbXB1dGVkQm9yZGVyIiwiX3BhcmVudE5vZGVzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc2Nvbm5lY3QiLCJkaXJlY3Rpb25zIiwibXVsdGlwbGllciIsInNjcm9sbF9kaXJlY3Rpb25zIiwic2Nyb2xsX211bHRpcGxpZXIiLCJkb2NFbCIsIl9lbGVtZW50Iiwic2Nyb2xsQm90Iiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsUmlnaHQiLCJzY3JvbGxXaWR0aCIsInNjcm9sbEVsZW1lbnQiLCJfem9vbSIsInNldEFyZWEiLCJfbGVuIiwiX2tleSIsImxhdGVyIiwiY2xlYXJUaW1lb3V0IiwiTXV0YXRpb25PYnNlcnZlciIsInN0YXJ0IiwiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJCb3R0b21XaWR0aCIsImJvcmRlckxlZnRXaWR0aCIsImJvcmRlclJpZ2h0V2lkdGgiLCJIVE1MTm9kZSIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZ2V0QXJlYVJlY3QiLCJ0cmF2ZXJzZSIsInRvV2F0Y2giLCJfdG9XYXRjaCRpbmRleCIsImluZGV4IiwicGFyZW50IiwicGFyZW50Tm9kZSIsIkRyYWciLCJEUyIsImRyYWdLZXlzIiwiZHJhZ2dhYmlsaXR5Iiwia2V5Ym9hcmREcmFnIiwia2V5Ym9hcmREcmFnU3BlZWQiLCJfa2V5Ym9hcmREcmFnIiwiX2RyYWdLZXlzRmxhdCIsInNpemUiLCJfZHJhZ2dhYmlsaXR5IiwicHVibGlzaERhdGEiLCJpc0RyYWdnaW5nS2V5Ym9hcmQiLCJfZWxlbWVudHMiLCJnZXRTZWxlY3Rpb24iLCJoYW5kbGVaSW5kZXgiLCJzaGlmdEtleSIsInNjcm9sbERpZmYiLCJjYW5TY3JvbGwiLCJzY3JvbGxDYWxsYmFjayIsImluY3JlYXNlIiwidXAiLCJkb3duIiwiaGFuZGxlS2V5Ym9hcmREcmFnUG9zRGlmZmVyZW5jZSIsInN0b3JlcyIsIktleVN0b3JlIiwiY3VycmVudFZhbHVlcyIsIl9rZXlib2FyZERyYWdTcGVlZCIsInNjcm9sbCIsIl9zY3JvbGxEaWZmIiwiU2Nyb2xsU3RvcmUiLCJfZHJhZ0tleXMiLCJTZWxlY3RvckFyZWEiLCJfdXNlVHJhbnNmb3JtIiwiX3JlZjMiLCJfcmVmNCIsIl9wcmV2Q3Vyc29yUG9zIiwiX3ByZXZTY3JvbGxQb3MiLCJldnQiLCJpc0tleWJvYXJkIiwiX3JlZjUiLCJfY3Vyc29yRGlmZiIsImFkZCIsInpJbmRleCIsIm1hcCIsImsiLCJ0b0xvd2VyQ2FzZSIsInN0b3AiLCJ1cGRhdGUiLCJrZXlib2FyZEVuZCIsImN1cnJlbnRQb2ludGVyVmFsIiwiUG9pbnRlclN0b3JlIiwiY3VycmVudFZhbCIsImN1cnNvckRpZmYiLCJjdXJyZW50U2Nyb2xsVmFsIiwiYXJlYUVsZW1lbnQiLCJpbW1lZGlhdGVEcmFnIiwiX2FyZWFFbGVtZW50IiwicGFzc2l2ZSIsInR5cGUiLCJwcmV2ZW50RGVmYXVsdCIsIl9jYW5JbnRlcmFjdCIsImlzSW50ZXJhY3RpbmciLCJpc0RyYWdFdmVudCIsImlzTXVsdGlTZWxlY3RLZXlQcmVzc2VkIiwiU2VsZWN0YWJsZVNldCIsIl9pbW1lZGlhdGVEcmFnIiwiY2xlYXIiLCJkZXRhaWwiLCJfdGhpcyREUyIsIl90aGlzJERTJHN0b3JlcyIsInRvZ2dsZSIsImluaXQiLCJvbkNsaWNrIiwiX3N0YXJ0IiwiX2luaXQiLCJfcmVmNiIsIl9yZXNldCIsImlzS2V5Ym9hcmRDbGljayIsImNsaWVudFgiLCJjbGllbnRZIiwiYnV0dG9uIiwiaXNJbnNpZGUiLCJpc0NsaWNrZWQiLCJldmVudE5hbWUiLCJzdWJzY3JpYmVycyIsImlkIiwic3BsaWNlIiwiY2IiLCJfcHVibGlzaCIsIl9oYW5kbGVQcmVQdWJsaXNoIiwiX2hhbmRsZVB1Ymxpc2giLCJpbCIsInN0b3BwZWQiLCJfU2V0IiwiX3N1cGVyIiwiY2xhc3NOYW1lIiwiaG92ZXJDbGFzc05hbWUiLCJfaW5pdEVsZW1lbnRzIiwiX2NsYXNzTmFtZSIsIl9ob3ZlckNsYXNzTmFtZSIsImNsYXNzTGlzdCIsIl9vbkNsaWNrIiwiX29uUG9pbnRlciIsInJlbW92ZSIsIlNldCIsImRlbGV0ZWQiLCJTZWxlY3Rpb24iLCJtdWx0aVNlbGVjdFRvZ2dsaW5nIiwiX3N0b3JlUHJldmlvdXMiLCJfaGFuZGxlSW5zaWRlU2VsZWN0aW9uIiwiZm9yY2UiLCJTZWxlY3RvciIsImVsUG9zQ29tYm8iLCJzZWxlY3QiLCJ1bnNlbGVjdCIsIm11bHRpU2VsZWN0aW9uVG9nZ2xlIiwiX211bHRpU2VsZWN0VG9nZ2xpbmciLCJjb250YWlucyIsImhhbmRsZVNlbGVjdGlvbiIsIlByZXZTZWxlY3RlZFNldCIsImluU2VsZWN0aW9uIiwiaW5QcmV2U2VsZWN0aW9uIiwiaGFuZGxlVW5TZWxlY3Rpb24iLCJfcHJldlNlbGVjdGVkU2V0IiwiX3RoaXMkRFMyIiwic2VsZWN0b3IiLCJzZWxlY3RvckNsYXNzIiwiY3VzdG9tU3R5bGVzIiwicFBvcyIsImluaXRpYWxWYWxBcmVhIiwiZGlzcGxheSIsInNjcm9sbEFtb3VudCIsImluaXRpYWxQb2ludGVyUG9zIiwicG9pbnRlclBvcyIsInNlbGVjdG9yUG9zIiwiZ2V0U2VsZWN0b3JQb3NpdGlvbiIsImN1cnJlbnRWYWxBcmVhIiwiY3JlYXRlRWxlbWVudCIsImJhY2tncm91bmQiLCJib3JkZXIiLCJwb2ludGVyRXZlbnRzIiwiY3JlYXRlU2VsZWN0b3JFbGVtZW50Iiwic2VsZWN0b3JBcmVhQ2xhc3MiLCJhdXRvU2Nyb2xsU3BlZWQiLCJvdmVyZmxvd1RvbGVyYW5jZSIsImFwcGx5RWxlbWVudHMiLCJtZXRob2QiLCJtZXRob2ROYW1lIiwiY29tcHV0ZWRCb3JkZXIiLCJzdG9wQXV0b1Njcm9sbCIsImN1cnJlbnRFZGdlcyIsIl9zY3JvbGxJbnRlcnZhbCIsInNldEludGVydmFsIiwiaGFuZGxlQXV0b1Njcm9sbCIsIl9vdmVyZmxvd1RvbGVyYW5jZSIsIl9hdXRvU2Nyb2xsU3BlZWQiLCJjbGVhckludGVydmFsIiwib3ZlcmZsb3ciLCJjcmVhdGVTZWxlY3RvckFyZWFFbGVtZW50IiwidXBkYXRlUG9zIiwic3RhcnRBdXRvU2Nyb2xsIiwiaW5pdGlhbFZhbCIsImdldFBvaW50ZXJQb3NpdGlvbiIsIm11bHRpU2VsZWN0S2V5cyIsIm11bHRpU2VsZWN0TW9kZSIsImNvbnRyb2wiLCJzaGlmdCIsIm1ldGEiLCJrZXlkb3duIiwia2V5dXAiLCJfY3VycmVudFZhbHVlcyIsIl9tdWx0aVNlbGVjdE1vZGUiLCJfbXVsdGlTZWxlY3RLZXlzIiwibmV3TmFtZSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiY29uc29sZSIsIndhcm4iLCJfdGhpczIiLCJzb21lIiwiX2tleU1hcHBpbmciLCJnZXRQb2ludGVyUG9zIiwiX25vcm1hbGl6ZWRFdmVudCIsIl9pc01vdXNlSW50ZXJhY3Rpb24iLCJsYXN0VmFsIiwiX2xhc3RUb3VjaCIsInRvdWNoZXMiLCJfaW5pdGlhbFZhbEFyZWEiLCJfY3VycmVudFZhbEFyZWEiLCJfbGFzdFZhbEFyZWEiLCJfaW5pdGlhbFZhbCIsIl9jdXJyZW50VmFsIiwiX2xhc3RWYWwiLCJfY2FuU2Nyb2xsIiwiem9vbVNjcm9sbCIsIkRyYWdTZWxlY3QiLCJfcmVmJGFyZWEiLCJfcmVmJHNlbGVjdGFibGVzIiwic2VsZWN0YWJsZXMiLCJfcmVmJGF1dG9TY3JvbGxTcGVlZCIsIl9yZWYkb3ZlcmZsb3dUb2xlcmFuYyIsIl9yZWYkem9vbSIsIl9yZWYkY3VzdG9tU3R5bGVzIiwiX3JlZiRtdWx0aVNlbGVjdE1vZGUiLCJfcmVmJG11bHRpU2VsZWN0VG9nZ2wiLCJfcmVmJG11bHRpU2VsZWN0S2V5cyIsIl9yZWYkc2VsZWN0b3IiLCJfcmVmJGRyYWdnYWJpbGl0eSIsIl9yZWYkaW1tZWRpYXRlRHJhZyIsIl9yZWYka2V5Ym9hcmREcmFnIiwiX3JlZiRrZXlib2FyZERyYWdTcGVlIiwiX3JlZiR1c2VUcmFuc2Zvcm0iLCJfcmVmJGhvdmVyQ2xhc3MiLCJob3ZlckNsYXNzIiwiX3JlZiRzZWxlY3RhYmxlQ2xhc3MiLCJzZWxlY3RhYmxlQ2xhc3MiLCJfcmVmJHNlbGVjdGVkQ2xhc3MiLCJzZWxlY3RlZENsYXNzIiwiX3JlZiRzZWxlY3RvckNsYXNzIiwiX3JlZiRzZWxlY3RvckFyZWFDbGFzIiwib25EcmFnTW92ZSIsIm9uRHJhZ1N0YXJ0QmVnaW4iLCJvbkRyYWdTdGFydCIsIm9uRWxlbWVudFNlbGVjdCIsIm9uRWxlbWVudFVuc2VsZWN0IiwibGFzdFZhbEFyZWEiLCJ1bnN1YnNjcmliZSIsIl9jYWxsYmFja3NUZW1wIiwiYXNzaWduIiwid2Fybk1lc3NhZ2UiLCJfcmVmNyIsIl9yZWY4IiwiZnJvbVNlbGVjdGlvbiIsInRyaWdnZXJDYWxsYmFjayIsImRvbnRBZGRUb1NlbGVjdGFibGVzIiwiYWRkQWxsIiwiYWRkU2VsZWN0YWJsZXMiLCJyZW1vdmVGcm9tU2VsZWN0YWJsZXMiLCJkZWxldGVBbGwiLCJyZW1vdmVTZWxlY3RhYmxlcyIsImFsc29TZWxlY3RhYmxlcyIsInJlbW92ZVNlbGVjdGlvbiIsImFkZFNlbGVjdGlvbiIsImNsZWFyU2VsZWN0aW9uIiwiYWRkVG9TZWxlY3Rpb24iLCJlbHMiLCJyZW1vdmVGcm9tU2VsZWN0aW9uIiwidXNlUHJldmlvdXNDdXJzb3JEaWZmZXJlbmNlIiwidXNlQXJlYVBvc2l0aW9ucyIsInBvc0EiLCJnZXRDdXJyZW50Q3Vyc29yUG9zaXRpb25BcmVhIiwiZ2V0Q3VycmVudEN1cnNvclBvc2l0aW9uIiwicG9zQiIsImdldFByZXZpb3VzQ3Vyc29yUG9zaXRpb25BcmVhIiwiZ2V0UHJldmlvdXNDdXJzb3JQb3NpdGlvbiIsImdldEluaXRpYWxDdXJzb3JQb3NpdGlvbkFyZWEiLCJnZXRJbml0aWFsQ3Vyc29yUG9zaXRpb24iLCJmYWN0b3J5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiZGVmaW5pdGlvbiIsInByb3AiLCJsaXN0T2ZNb250aHMiLCJwcmludE1vbnRoIiwib3V0cHV0QXJlYSIsImFjdGl2ZU1vbnRoQm94ZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYm94IiwibW9udGhOYW1lIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJpbm5lckhUTUwiLCJodG1sQ29udGVudCIsImFycmF5T2ZPdXRwdXRBcmVhIiwiYXBwZW5kQ2hpbGQiLCJtb250aEJveGVzIiwibWF4VmFsdWUiLCJtaW5WYWx1ZSIsImFtb3VudEFycmF5IiwiY29tcG9uZW50IiwibWVzaSIsIm1vbnRoIiwiaW1wb3J0byIsIk1hdGgiLCJtYXgiLCJtaW4iLCJtb250aEJveCIsImxpc3RPZlZhbHVlIiwiZmluZCIsIm1heERpdkhlaWdodCIsImdlbmVyYXRlVmFsdWUiLCJkb2N1bWVudGkiLCJJbnRsIiwiTnVtYmVyRm9ybWF0IiwiY3VycmVuY3kiLCJtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHMiLCJmb3JtYXQiLCJhcnJheUVsZW1lbnQiLCJyZW5kZXJDb21wb25lbnQiLCJtb250aGx5VHJlbmQiXSwic291cmNlUm9vdCI6IiJ9